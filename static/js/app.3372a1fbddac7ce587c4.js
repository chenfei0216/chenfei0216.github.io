webpackJsonp([14],{"+BTi":function(e,t){},"0PWg":function(e,t){},"2xH7":function(e,t){},"687d":function(e,t){},"6AF9":function(e,t){},"7xIN":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i=(n("+BTi"),n("tvR6"),n("7xIN"),n("h5AK"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var s=n("VU/8")({name:"App"},i,!1,function(e){n("ae/S")},"data-v-40c293e7",null).exports,c=n("NYxO"),o={sidemenu:function(e){return e.main.sidemenu},pageperm:function(e){return e.pageperm.routers},tags:function(e){return e.main.tags}},r=n("/ocq"),l=n("Dd8w"),u=n.n(l),d=n("o/zv"),h=n.n(d),m={name:"SideMenuItem",props:{item:{type:Object,required:!0},basePath:{type:String}},methods:{resolvePath:function(e){return this.item.children?h.a.resolve(this.basePath,e):this.basePath}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.children?n("el-submenu",{attrs:{index:e.item.name}},[n("template",{slot:"title"},[n("i",{class:e.item.meta.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.meta.title))])]),e._v(" "),e._l(e.item.children,function(t){return n("side-menu-item",{key:t.name,attrs:{item:t,"base-path":e.resolvePath(t.path)}})})],2):n("router-link",{attrs:{to:e.resolvePath(e.item.path)}},[n("el-menu-item",{attrs:{index:e.item.name}},[n("i",{class:e.item.meta.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.meta.title))])])],1)},staticRenderFns:[]},p={name:"SideMenu",components:{SideMenuItem:n("VU/8")(m,f,!1,null,null,null).exports},data:function(){return{}},computed:u()({},Object(c.b)(["sidemenu","pageperm"]),{menus:function(){return this.pageperm.filter(function(e){return!e.hidden})},isCollapse:function(){return this.sidemenu.collapse},acitveKey:function(){return this.$route.name}})},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-menu",{staticClass:"side-menu",attrs:{collapse:this.isCollapse,"default-active":this.acitveKey,"unique-opened":""}},this._l(this.menus,function(e){return t("side-menu-item",{key:e.name,attrs:{"base-path":e.path,item:e}})}),1)},staticRenderFns:[]};var v=n("VU/8")(p,g,!1,function(e){n("6AF9")},"data-v-7981b59e",null).exports,P={name:"AppHeader",methods:{toggleSideMenu:function(){this.$store.dispatch("toggleSideMenu")}},computed:u()({},Object(c.b)(["sidemenu"]),{isCollapse:function(){return this.sidemenu.collapse}})},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-header"},[n("button",{staticClass:"el-button is-plain",class:e.isCollapse?"active":"",on:{click:function(t){e.toggleSideMenu()}}},[n("i",{staticClass:"fc-icon-menu"})])])},staticRenderFns:[]};var b=n("VU/8")(P,_,!1,function(e){n("2xH7")},"data-v-6796c96c",null).exports,E={name:"TagMain",computed:u()({},Object(c.b)(["tags"]),{cachedPages:function(){return this.tags.cachedPages},key:function(){return this.$route.fullPath}}),mounted:function(){this.addPage()},watch:{$route:function(){this.addPage()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},methods:{addPage:function(){var e=this.$route,t=e.meta;if(e.name){var n=void 0===t.cache||t.cache,a=void 0===t.tab||t.tab;a&&n?this.$store.dispatch("addPage",this.$route):n?this.$store.dispatch("addCachedPage",this.$route):a&&this.$store.dispatch("addVisitedPage",this.$route)}}}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"el-fade-in",mode:"out-in"}},[t("keep-alive",{attrs:{include:this.cachedPages}},[t("router-view",{key:this.key})],1)],1)},staticRenderFns:[]},A=n("VU/8")(E,C,!1,null,null,null).exports,D={name:"tag-header",data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},computed:u()({},Object(c.b)(["tags"])),watch:{visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},methods:{isActive:function(e){return e.path===this.$route.path},addPage:function(){var e=this.$route,t=e.meta;if(e.name){var n=void 0===t.cache||t.cache,a=void 0===t.tab||t.tab;a&&n?this.$store.dispatch("addPage",this.$route):n?this.$store.dispatch("addCachedPage",this.$route):a&&this.$store.dispatch("addVisitedPage",this.$route)}},openMenu:function(e,t){var n=t.target.getBoundingClientRect(),a=this.$el.getBoundingClientRect(),i=a.width-n.width,s=t.clientX-a.left+15;this.left=s>i?i:s,this.top=t.offsetY,this.visible=!0,this.selectedTag=e},refreshSelectedTag:function(e){var t=this;this.$store.dispatch("delCachedPage",e).then(function(){var n=e.fullPath;t.$nextTick(function(){t.$router.replace({path:"/redirect"+n})})}),this.closeMenu()},closeSelectedTag:function(e){var t=this;this.$store.dispatch("delPage",e).then(function(n){var a=n.visitedPages;if(t.isActive(e)){var i=a.slice(-1)[0];i?t.$router.push(i):t.$router.push("/")}}),this.closeMenu()},closeOthersTags:function(e){var t=this;this.$store.dispatch("delOtherPage",e).then(function(){t.$router.push(t.selectedTag)}),this.closeMenu()},closeAllTags:function(){var e=this;this.$store.dispatch("delAllPage").then(function(){e.$router.push("/")}),this.closeMenu()},closeMenu:function(){this.visible=!1}}},T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[n("li",{on:{click:function(t){t.stopPropagation(),e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),e._v(" "),n("li",{on:{click:function(t){t.stopPropagation(),e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),e._v(" "),n("li",{on:{click:function(t){t.stopPropagation(),e.closeOthersTags(e.selectedTag)}}},[e._v("关闭其他")]),e._v(" "),n("li",{on:{click:function(t){t.stopPropagation(),e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])]),e._v(" "),n("div",{staticClass:"tags-view-wrapper"},e._l(e.tags.visitedPages,function(t){return n("router-link",{key:t.name,ref:"tag",refInFor:!0,staticClass:"tag-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"span"},nativeOn:{contextmenu:function(n){n.preventDefault(),e.openMenu(t,n)}}},[e._v("\n      "+e._s(t.meta.title)+"\n      "),n("span",{staticClass:"el-icon-close",on:{click:function(n){n.stopPropagation(),e.closeSelectedTag(t)}}})])}),1)])},staticRenderFns:[]};var $={name:"Main",components:{SideMenu:v,AppHeader:b,TagMain:A,TagHeader:n("VU/8")(D,T,!1,function(e){n("687d")},"data-v-d6be8e3e",null).exports},data:function(){return{}},computed:u()({},Object(c.b)(["tags"]))},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticClass:"container"},[t("el-aside",{staticClass:"aside"},[t("side-menu")],1),this._v(" "),t("el-container",{staticClass:"main"},[t("el-header",{staticStyle:{height:"50px"}},[t("app-header")],1),this._v(" "),t("el-container",{staticClass:"tag-container",attrs:{direction:"vertical"}},[0!=this.tags.visitedPages.length?t("el-header",{staticClass:"tag-view"},[t("tag-header")],1):this._e(),this._v(" "),t("el-container",{staticClass:"tag-main"},[t("tag-main")],1)],1)],1)],1)},staticRenderFns:[]};var w=n("VU/8")($,x,!1,function(e){n("0PWg")},"data-v-6652738c",null).exports;a.default.use(r.a);var M=[{path:"/redirect",component:w,name:"redirect",hidden:!0,meta:{cache:!1,tab:!1},children:[{path:"/redirect/:path*",component:function(){return n.e(12).then(n.bind(null,"1uaa"))}}]},{path:"/",name:"main",meta:{title:"主页",icon:"fc-icon-home",cache:!1,tab:!1},component:w},{path:"/login",name:"login",hidden:!0,meta:{title:"登陆",icon:"fc-icon-user"},component:function(){return n.e(10).then(n.bind(null,"jT7l"))}},{path:"/component",name:"component",meta:{title:"基础组件",icon:"fc-icon-appstore"},component:w,children:[{path:"xTable",name:"xTable",meta:{title:"表格",icon:"fc-icon-table"},component:function(){return n.e(7).then(n.bind(null,"Ijou"))}},{path:"cEditor",name:"cEditor",meta:{title:"代码编辑",icon:"fc-icon-table"},component:function(){return n.e(1).then(n.bind(null,"o/iQ"))}}]},{path:"/sys",name:"sys",meta:{title:"系统配置",icon:"fc-icon-setting"},component:w,children:[{path:"DeptManage",name:"DeptManage",meta:{title:"科室管理",icon:"fc-icon-cluster"},component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"w/fB"))}}]},{path:"/flow",name:"flow",meta:{title:"流程管理",icon:"fc-icon-deploymentunit"},component:w,children:[{path:"flowDesign",name:"flowDesign",meta:{title:"流程管理",icon:"fc-icon-gateway"},component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"K9tY"))}},{path:"DForm",name:"DForm",meta:{title:"表单管理",icon:"fc-icon-table"},component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"KwFB"))}},{path:"RForm",name:"r-form",meta:{title:"tinymce",icon:"fc-icon-file-text",cache:!1},component:function(){return n.e(4).then(n.bind(null,"T0Rb"))}},{path:"XForm",name:"x-form",meta:{title:"tui.editor",icon:"fc-icon-file-text"},component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"n0US"))}},{path:"MForm",name:"m-form",meta:{title:"markdown",icon:"fc-icon-file-text"},component:function(){return n.e(8).then(n.bind(null,"Erkt"))}},{path:"calendar",name:"calendar",meta:{title:"calendar",icon:"fc-icon-file-text"},component:function(){return n.e(9).then(n.bind(null,"ViAG"))}},{path:"table",name:"table",meta:{title:"table",icon:"fc-icon-file-text"},component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"ytms"))}}]}],O=new r.a({routes:M}),S={state:{routers:M}},I=n("Gu7T"),y=n.n(I),k=n("//Fk"),V=n.n(k),L=n("woOf"),G=n.n(L),H={state:{tags:{visitedPages:[],cachedPages:[]},sidemenu:{collapse:!1}},mutations:{ADD_VISITED_PAGE:function(e,t){e.tags.visitedPages.some(function(e){return e.path===t.path})||e.tags.visitedPages.push(G()({},t,{name:t.name||"no-name"}))},ADD_CACHED_PAGE:function(e,t){e.tags.cachedPages.includes(t.name)||t.meta.noCache||e.tags.cachedPages.push(t.name)},DEL_VISITED_PAGE:function(e,t){var n=e.tags.visitedPages.findIndex(function(e){return e.path===t.path});e.tags.visitedPages.splice(n,1)},DEL_CACHED_PAGE:function(e,t){var n=e.tags.cachedPages.indexOf(t.name);-1!==n&&e.tags.cachedPages.splice(n,1)},DEL_OTHER_VISITED_PAGE:function(e,t){var n=e.tags.visitedPages.findIndex(function(e){return e.name===t.name});e.tags.visitedPages=e.tags.visitedPages.slice(n,n+1)},DEL_OTHER_CACHED_PAGE:function(e,t){var n=e.tags.cachedPages.indexOf(t.name);-1!==n&&(e.tags.cachedPages=e.tags.cachedPages.slice(n,n+1))},TOGGLE_SIDEMENU:function(e){e.sidemenu.collapse=!e.sidemenu.collapse},DEL_ALL_CACHED_PAGE:function(e){e.tags.visitedPages=[],e.tags.cachedPages=[]}},actions:{addPage:function(e,t){var n=e.dispatch;n("addVisitedPage",t),n("addCachedPage",t)},addVisitedPage:function(e,t){(0,e.commit)("ADD_VISITED_PAGE",t)},addCachedPage:function(e,t){(0,e.commit)("ADD_CACHED_PAGE",t)},delPage:function(e,t){var n=e.dispatch,a=e.state;return new V.a(function(e){n("delVisitedPage",t),n("delCachedPage",t),e({visitedPages:[].concat(y()(a.tags.visitedPages)),cachedPages:[].concat(y()(a.tags.cachedPages))})})},delVisitedPage:function(e,t){(0,e.commit)("DEL_VISITED_PAGE",t)},delCachedPage:function(e,t){(0,e.commit)("DEL_CACHED_PAGE",t)},delOtherPage:function(e,t){var n=e.dispatch,a=e.state;return new V.a(function(e){n("delOtherVisitedPage",t),n("delOtherCachedPage",t),e({visitedPages:[].concat(y()(a.tags.visitedPages)),cachedPages:[].concat(y()(a.tags.cachedPages))})})},delOtherVisitedPage:function(e,t){(0,e.commit)("DEL_OTHER_VISITED_PAGE",t)},delOtherCachedPage:function(e,t){(0,e.commit)("DEL_OTHER_CACHED_PAGE",t)},delAllPage:function(e){var t=e.commit,n=e.state;return new V.a(function(e){t("DEL_ALL_CACHED_PAGE"),e({visitedPages:[].concat(y()(n.tags.visitedPages)),cachedPages:[].concat(y()(n.tags.cachedPages))})})},toggleSideMenu:function(e){(0,e.commit)("TOGGLE_SIDEMENU")}}},F={state:{token:null,userInfo:null},mutations:{},actions:{dologin:function(e,t){e.commit}}};a.default.use(c.a);var R=new c.a.Store({modules:{pageperm:S,main:H,login:F},getters:o}),U=n("zL8q"),j=n.n(U),N=n("Zcwg"),K=n.n(N),q=n("Y81h"),B=n.n(q),z=(n("UVIz"),n("TIfe"));B.a.configure({showSpinner:!1});var Y=["/login","/auth-redirect"];O.beforeEach(function(e,t,n){B.a.start(),Object(z.a)()?"/login"===e.path?(n({path:"/"}),B.a.done()):n():-1!==Y.indexOf(e.path)?n():(n("/login?redirect="+e.path),B.a.done())}),O.afterEach(function(){B.a.done()}),a.default.use(j.a),a.default.component(K.a.name,K.a),a.default.config.productionTip=!1,a.default.directive("focus",{inserted:function(e){e.focus()}}),new a.default({el:"#app",store:R,router:O,components:{App:s},template:"<App/>"})},TIfe:function(e,t,n){"use strict";t.a=function(){return i.a.get(s)},t.b=function(e){return i.a.set(s,e)};var a=n("lbHh"),i=n.n(a),s="userKey"},UVIz:function(e,t){},"ae/S":function(e,t){},h5AK:function(e,t){},tvR6:function(e,t){}},["NHnr"]);