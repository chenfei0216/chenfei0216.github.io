webpackJsonp([1],{"+nFJ":function(e,t){},"/2Ty":function(e,t){},"/bdo":function(e,t){},"6phi":function(e,t){},"7n7e":function(e,t){},"7xIN":function(e,t){},"8QcJ":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("//Fk"),l=a.n(n),i=a("7+uW"),o=a("zL8q"),r=a.n(o),s=a("mtWM"),c=a.n(s),d=(a("tvR6"),a("7xIN"),a("+nFJ"),a("mw3O")),u=a.n(d),f={name:"App",data:function(){return{isCollapse:!1}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{attrs:{id:"app"}},[a("el-header",[e._v("Header")]),e._v(" "),a("el-container",[a("el-aside",[a("el-container",[a("el-header"),e._v(" "),a("el-main",[a("el-menu",{attrs:{collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航一")])]),e._v(" "),a("el-menu-item-group",[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("分组一")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-1"}},[e._v("选项1")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-2"}},[e._v("选项2")])],1),e._v(" "),a("el-menu-item-group",{attrs:{title:"分组2"}},[a("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")])],1),e._v(" "),a("el-submenu",{attrs:{index:"1-4"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("选项4")]),e._v(" "),a("el-menu-item",{attrs:{index:"1-4-1"}},[e._v("选项1")])],1)],2),e._v(" "),a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"el-icon-menu"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航二")])]),e._v(" "),a("el-menu-item",{attrs:{index:"3"}},[a("i",{staticClass:"el-icon-document"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航三")])]),e._v(" "),a("el-menu-item",{attrs:{index:"4"}},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航四")])])],1)],1),e._v(" "),a("el-footer",{staticClass:"collapse"},[a("transition",{attrs:{name:"el-zoom-in-center"}},[e.isCollapse?a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isCollapse,expression:"isCollapse"}],attrs:{icon:"el-icon-arrow-right",size:"mini",type:"text"},on:{click:function(t){e.isCollapse=!e.isCollapse}}}):a("el-button",{attrs:{icon:"el-icon-arrow-left",size:"mini",type:"text"},on:{click:function(t){e.isCollapse=!e.isCollapse}}})],1)],1)],1)],1),e._v(" "),a("el-main",[a("router-view")],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(f,m,!1,function(e){a("q7Ub")},"data-v-c3b677ec",null).exports,g=a("/ocq"),v=a("Dd8w"),b=a.n(v),h=a("mvHQ"),y=a.n(h),_=[{text:"文本类型",child:[{type:"text",text:"文本",placeholder:"请输入",allrow:!1,cols:2,required:!1,hidden:!1,disabled:!1},{type:"textarea",text:"文本域",placeholder:"请输入",allrow:!0,cols:4,required:!1,hidden:!1,disabled:!1},{type:"number",text:"计数器",allrow:!1,cols:2,numberPrecision:0,min:null,max:null,required:!1,hidden:!1,disabled:!1}]},{text:"日期类型",child:[{type:"date",datetype:"date",text:"日期",placeholder:"请输入",allrow:!1,cols:2,required:!1,hidden:!1,disabled:!1},{type:"daterange",daterange:"daterange",value:[],text:"范围",allrow:!1,cols:2,required:!1,hidden:!1,disabled:!1}]},{text:"选择类型",child:[{type:"radio",text:"单选框",value:null,data:[{text:"选择1",value:"1"},{text:"选择2",value:"2"}],allrow:!1,cols:2,required:!1,hidden:!1,disabled:!1},{type:"checkbox",text:"多选框",value:[],data:[{text:"选择1",value:"1"},{text:"选择2",value:"2"}],allrow:!1,cols:2,required:!1,hidden:!1,disabled:!1},{type:"switch",text:"开关",value:!0,allrow:!1,cols:2,disabled:!1}]},{text:"下拉类型",child:[{type:"select",text:"单选下拉",value:"",data:[{text:"选择1",value:"1"},{text:"选择2",value:"2"}],placeholder:"请输入",allrow:!1,cols:2,required:!1,hidden:!1,disabled:!1},{type:"mutiselect",text:"多选下拉",value:[],data:[{text:"选择1",value:"1"},{text:"选择2",value:"2"}],placeholder:"请输入",allrow:!1,cols:2,required:!1,hidden:!1,disabled:!1}]}],x={name:"TextField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},F={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input",{attrs:{clearable:"",disabled:e.disabled||e.config.disabled,placeholder:e.config.placeholder},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}})},staticRenderFns:[]};var w=a("VU/8")(x,F,!1,function(e){a("hnRQ")},"data-v-010fefa8",null).exports,C={name:"TextAreaField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},k={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input",{attrs:{resize:"none",disabled:e.disabled||e.config.disabled,placeholder:e.config.placeholder,type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}})},staticRenderFns:[]};var $=a("VU/8")(C,k,!1,function(e){a("6phi")},"data-v-d20b9930",null).exports,q={name:"NumberField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},O={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input-number",{attrs:{label:"请输入内容",min:e.config.min,max:e.config.max,precision:e.config.numberPrecision,disabled:e.disabled||e.config.disabled},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}})},staticRenderFns:[]};var D=a("VU/8")(q,O,!1,function(e){a("m3yI")},"data-v-384ad68a",null).exports,R={year:"yyyy",month:"yyyy-MM",week:"yyyy 第 WW 周",date:"yyyy-MM-dd",datetime:"yyyy-MM-dd HH:mm:ss"},V={name:"DateField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},computed:{format:function(){return R[this.config.datetype]}}},N={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",{attrs:{disabled:e.disabled||e.config.disabled,type:e.config.datetype,placeholder:e.config.placeholder,"value-format":e.format},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}})},staticRenderFns:[]};var I=a("VU/8")(V,N,!1,function(e){a("7n7e")},"data-v-91fa9a3a",null).exports,M={daterange:"yyyy-MM-dd",datetimerange:"yyyy-MM-dd HH:mm:ss"},P={name:"DateRangeField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},computed:{format:function(){return M[this.config.daterange]}}},T={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",{attrs:{disabled:e.disabled||e.config.disabled,type:e.config.daterange,"range-separator":"至","start-placeholder":"开始","end-placeholder":"结束","value-format":e.format},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}})},staticRenderFns:[]};var S=a("VU/8")(P,T,!1,function(e){a("/2Ty")},"data-v-3cf46194",null).exports,U={name:"RadioField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-radio-group",{attrs:{disabled:e.disabled||e.config.disabled},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}},e._l(e.config.data,function(t,n){return a("el-radio",{key:n,attrs:{label:t.value}},[e._v(e._s(t.text))])}))},staticRenderFns:[]};var E=a("VU/8")(U,B,!1,function(e){a("lSh7")},"data-v-02a0a0b0",null).exports,j={name:"CheckboxField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-checkbox-group",{attrs:{disabled:e.disabled||e.config.disabled},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}},e._l(e.config.data,function(t,n){return a("el-checkbox",{key:n,attrs:{label:t.value}},[e._v(e._s(t.text))])}))},staticRenderFns:[]};var z=a("VU/8")(j,A,!1,function(e){a("U1Ka")},"data-v-3e2e060c",null).exports,H={name:"SwitchField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},L={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-switch",{staticStyle:{display:"block"},attrs:{disabled:e.disabled||e.config.disabled},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}})},staticRenderFns:[]};var W=a("VU/8")(H,L,!1,function(e){a("wG4N")},"data-v-42b006e5",null).exports,J={name:"SelectField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{filterable:"",clearable:"",placeholder:e.config.placeholder,disabled:e.disabled||e.config.disabled},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}},e._l(e.config.data,function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})}))},staticRenderFns:[]};var G=a("VU/8")(J,Q,!1,function(e){a("u3a+")},"data-v-d784bcc6",null).exports,K={name:"MutiSelectField",props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{filterable:"",placeholder:e.config.placeholder,multiple:"",disabled:e.disabled||e.config.disabled},model:{value:e.config.value,callback:function(t){e.$set(e.config,"value",t)},expression:"config.value"}},e._l(e.config.data,function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})}))},staticRenderFns:[]};var X={name:"FormField",components:{TextField:w,TextAreaField:$,NumberField:D,DateField:I,DateRangeField:S,RadioField:E,CheckboxField:z,SwitchField:W,SelectField:G,MutiSelectField:a("VU/8")(K,Y,!1,function(e){a("jwLI")},"data-v-43286a44",null).exports},props:{config:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return"text"==e.config.type?a("TextField",{attrs:{config:e.config,disabled:e.disabled}}):"textarea"==e.config.type?a("TextAreaField",{attrs:{config:e.config,disabled:e.disabled}}):"number"==e.config.type?a("NumberField",{attrs:{config:e.config,disabled:e.disabled}}):"date"==e.config.type?a("DateField",{attrs:{config:e.config,disabled:e.disabled}}):"daterange"==e.config.type?a("DateRangeField",{attrs:{config:e.config,disabled:e.disabled}}):"radio"==e.config.type?a("RadioField",{attrs:{config:e.config,disabled:e.disabled}}):"checkbox"==e.config.type?a("CheckboxField",{attrs:{config:e.config,disabled:e.disabled}}):"switch"==e.config.type?a("SwitchField",{attrs:{config:e.config,disabled:e.disabled}}):"select"==e.config.type?a("SelectField",{attrs:{config:e.config,disabled:e.disabled}}):"mutiselect"==e.config.type?a("MutiSelectField",{attrs:{config:e.config,disabled:e.disabled}}):a("div",[e._v(e._s(e.config.text))])},staticRenderFns:[]};var ee=a("VU/8")(X,Z,!1,function(e){a("usLN")},"data-v-2c85c635",null).exports,te=a("DAYN"),ae=a.n(te),ne={name:"FieldData",components:{draggable:ae.a},data:function(){return{dataOption:{group:{name:"dataItem",pull:!1,put:!1},ghostClass:"ghost",sort:!0}}},props:{config:{type:Object,required:!0}},methods:{addRow:function(){this.config.data.push({text:"",value:""})},removeCurrentData:function(e){this.config.data.splice(e,1)}}},le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-data"},[a("div",{staticClass:"data-title"},[a("span",[e._v("显示")]),e._v(" "),a("span",[e._v("值")]),e._v(" "),a("el-button",{staticClass:"operate-add",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return t.stopPropagation(),e.addRow(t)}}})],1),e._v(" "),a("draggable",{attrs:{options:e.dataOption},model:{value:e.config.data,callback:function(t){e.$set(e.config,"data",t)},expression:"config.data"}},e._l(e.config.data,function(t,n){return a("el-row",{key:n,attrs:{gutter:10}},[1!=e.config.data.length?a("el-button",{staticClass:"operate-remove",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){t.stopPropagation(),e.removeCurrentData(n)}}}):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.text,callback:function(a){e.$set(t,"text",a)},expression:"item.text"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)],1)}))],1)},staticRenderFns:[]};var ie={name:"OptionForm",components:{FieldData:a("VU/8")(ne,le,!1,function(e){a("/bdo")},"data-v-771eca20",null).exports},props:{config:{type:Object,required:!0}}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.config,"label-width":"80px"}},[e.config.hasOwnProperty("text")?a("el-form-item",{attrs:{label:"字段标签"}},[a("el-input",{model:{value:e.config.text,callback:function(t){e.$set(e.config,"text",t)},expression:"config.text"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("placeholder")?a("el-form-item",{attrs:{label:"输入提示"}},[a("el-input",{model:{value:e.config.placeholder,callback:function(t){e.$set(e.config,"placeholder",t)},expression:"config.placeholder"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"字段标识"}},[a("el-input",{model:{value:e.config.fieldCode,callback:function(t){e.$set(e.config,"fieldCode",t)},expression:"config.fieldCode"}})],1),e._v(" "),e.config.hasOwnProperty("allrow")?a("el-form-item",{attrs:{label:"占一整行"}},[a("el-switch",{staticStyle:{display:"block"},model:{value:e.config.allrow,callback:function(t){e.$set(e.config,"allrow",t)},expression:"config.allrow"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("required")?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{staticStyle:{display:"block"},model:{value:e.config.required,callback:function(t){e.$set(e.config,"required",t)},expression:"config.required"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("hidden")?a("el-form-item",{attrs:{label:"是否隐藏"}},[a("el-switch",{staticStyle:{display:"block"},model:{value:e.config.hidden,callback:function(t){e.$set(e.config,"hidden",t)},expression:"config.hidden"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("disabled")?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{staticStyle:{display:"block"},model:{value:e.config.disabled,callback:function(t){e.$set(e.config,"disabled",t)},expression:"config.disabled"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("cols")?a("el-form-item",{attrs:{label:"字段宽度"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.config.cols,callback:function(t){e.$set(e.config,"cols",t)},expression:"config.cols"}},[a("el-option",{attrs:{value:1,label:"25%"}}),e._v(" "),a("el-option",{attrs:{value:2,label:"50%"}}),e._v(" "),a("el-option",{attrs:{value:3,label:"75%"}}),e._v(" "),a("el-option",{attrs:{value:4,label:"100%"}})],1)],1):e._e(),e._v(" "),e.config.hasOwnProperty("datetype")?a("el-form-item",{attrs:{label:"日期类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.config.datetype,callback:function(t){e.$set(e.config,"datetype",t)},expression:"config.datetype"}},[a("el-option",{attrs:{value:"year",label:"年"}}),e._v(" "),a("el-option",{attrs:{value:"month",label:"月"}}),e._v(" "),a("el-option",{attrs:{value:"week",label:"周"}}),e._v(" "),a("el-option",{attrs:{value:"date",label:"日"}}),e._v(" "),a("el-option",{attrs:{value:"datetime",label:"秒"}})],1)],1):e._e(),e._v(" "),e.config.hasOwnProperty("daterange")?a("el-form-item",{attrs:{label:"日期类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.config.daterange,callback:function(t){e.$set(e.config,"daterange",t)},expression:"config.daterange"}},[a("el-option",{attrs:{value:"daterange",label:"日期"}}),e._v(" "),a("el-option",{attrs:{value:"datetimerange",label:"时间"}})],1)],1):e._e(),e._v(" "),e.config.hasOwnProperty("numberPrecision")?a("el-form-item",{attrs:{label:"小数位"}},[a("el-input-number",{attrs:{min:0,max:4},model:{value:e.config.numberPrecision,callback:function(t){e.$set(e.config,"numberPrecision",t)},expression:"config.numberPrecision"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("max")?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{precision:e.config.numberPrecision,min:e.config.min},model:{value:e.config.max,callback:function(t){e.$set(e.config,"max",t)},expression:"config.max"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("min")?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{precision:e.config.numberPrecision,max:e.config.max},model:{value:e.config.min,callback:function(t){e.$set(e.config,"min",t)},expression:"config.min"}})],1):e._e(),e._v(" "),e.config.hasOwnProperty("data")?a("FieldData",{attrs:{config:e.config}}):e._e()],1)},staticRenderFns:[]};var re=a("VU/8")(ie,oe,!1,function(e){a("i0Af")},"data-v-7ab8bb5a",null).exports,se=a("M4fF"),ce=a.n(se),de={name:"DiyForm",components:{draggable:ae.a,FormField:ee,OptionForm:re},props:{formId:{type:Number},editableMode:{type:Boolean,default:!1}},methods:{initForm:function(){this.disabled=!0,this.curField=null,this.formField=[],this.editableMode&&this.queryForm()},queryForm:function(){},getItemClass:function(e){var t={allrow:e.allrow};return t["col"+e.cols]=!0,e===this.curField&&(t.select=!0),t.hidden=e.hidden,t},onDragEnd:function(){this.formField=ce.a.cloneDeep(this.formField)},onDragStart:function(){this.clearCurrentField(),this.disabled=!0},removeField:function(e){var t=this;this.$confirm("确认要删除该字段吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.currentField=null,t.formField.splice(e,1)})},setCurrentField:function(e){this.curField=this.formField[e]},clearCurrentField:function(){this.curField=null},openDialog:function(){0===this.formField.length?this.$message({type:"warning",message:"请配置表单内容！"}):this.dialogVisible=!0},saveForm:function(){var e=this,t=this;this.$refs.formConfig.validate(function(a){if(!a)return!1;t.dialogVisible=!1;var n=ce.a.cloneDeep(t.formField);n=n.map(function(e){var t=e.data=e.data||[];if(Array.isArray(e.value))if(0===t.length)for(var a=0;a<e.value.length;a++)t.push({value:e.value[a],isValue:1});else for(var n=0;n<t.length;n++)-1!==e.value.indexOf(t[n].value)&&(t[n].isValue=1);else if(null!=e.value)if(0===t.length)t.push({value:e.value,isValue:1});else for(var l=0;l<t.length;l++)e.value===t[l].value&&(t[l].isValue=1);for(var i=["allrow","required","hidden","disabled"],o=0;o<i.length;o++)e[i[o]]=e[i[o]]?1:0;return e}),c.a.post("/DiyFormController/saveForm",{formData:y()(b()({},e.formConfig,{fields:n}))}).then(function(e){t.$message({type:"success",message:"操作成功"})})})}},data:function(){return{formConfig:{saveType:0},formRule:{formCode:[{required:!0,message:"请输入表单编码",trigger:"blur"}],formName:[{required:!0,message:"请输入表单名称",trigger:"blur"}],newFormCode:[{required:!0,message:"请输入表单编码",trigger:"blur"}],newFormName:[{required:!0,message:"请输入表单名称",trigger:"blur"}]},dialogVisible:!1,disabled:!0,curField:null,formFieldOption:{group:{name:"formField",put:"formItem"},ghostClass:"ghost"},formItemOption:{group:{name:"formItem",pull:"clone"},ghostClass:"ghost",sort:!1},formField:[],formItem:_}}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{attrs:{"unique-opened":""}},e._l(e.formItem,function(t,n){return a("el-submenu",{key:n,attrs:{index:n+""}},[a("template",{slot:"title"},[e._v(e._s(t.text))]),e._v(" "),a("draggable",{attrs:{options:e.formItemOption},on:{end:e.onDragEnd,start:e.onDragStart},model:{value:t.child,callback:function(a){e.$set(t,"child",a)},expression:"items.child"}},e._l(t.child,function(t,l){return a("el-menu-item",{key:n+"-"+l,attrs:{index:n+"-"+l}},[e._v("\n            "+e._s(t.text)+"\n          ")])}))],2)}))],1),e._v(" "),a("el-container",[a("el-header",{staticClass:"tools"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"禁用编辑"}},[a("el-switch",{model:{value:e.disabled,callback:function(t){e.disabled=t},expression:"disabled"}})],1),e._v(" "),a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"ant-icon-undo"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"ant-icon-redo"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"ant-icon-save"},on:{click:e.openDialog}})],1)],1)],1),e._v(" "),a("el-container",[a("el-main",[a("el-form",{staticClass:"form-containter",attrs:{"label-width":"80px"},nativeOn:{click:function(t){t.stopPropagation(),e.clearCurrentField()}}},[a("draggable",{staticClass:"form-containter",attrs:{options:e.formFieldOption},on:{start:e.onDragStart},model:{value:e.formField,callback:function(t){e.formField=t},expression:"formField"}},e._l(e.formField,function(t,n){return a("el-form-item",{key:n,staticClass:"form-item",class:e.getItemClass(t),attrs:{label:t.text},nativeOn:{click:function(t){t.stopPropagation(),e.setCurrentField(n)}}},[a("i",{staticClass:"el-icon-delete remove-field",on:{click:function(t){e.removeField(n)}}}),e._v(" "),a("FormField",{attrs:{config:t,disabled:e.disabled}})],1)}))],1)],1),e._v(" "),a("el-aside",{staticClass:"option-form"},[null!==e.curField?a("OptionForm",{attrs:{config:e.curField}}):e._e()],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{"append-to-body":"",title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formConfig",attrs:{model:e.formConfig,"label-width":"80px",rules:e.formRule}},[e.editableMode?a("el-form-item",{attrs:{label:"保存选项",prop:"saveType"}},[a("el-radio-group",{model:{value:e.formConfig.saveType,callback:function(t){e.$set(e.formConfig,"saveType",t)},expression:"formConfig.saveType"}},[a("el-radio",{attrs:{label:1}},[e._v("保存为新版本")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("修改当前版本")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("另存为")])],1)],1):e._e(),e._v(" "),3!=e.formConfig.saveType?a("el-form-item",{attrs:{label:"表单编码",prop:"formCode"}},[a("el-input",{attrs:{maxlength:"40",disabled:e.editableMode},model:{value:e.formConfig.formCode,callback:function(t){e.$set(e.formConfig,"formCode",t)},expression:"formConfig.formCode"}})],1):e._e(),e._v(" "),3!=e.formConfig.saveType?a("el-form-item",{attrs:{label:"表单名称",prop:"formName"}},[a("el-input",{attrs:{maxlength:"50",disabled:e.editableMode},model:{value:e.formConfig.formName,callback:function(t){e.$set(e.formConfig,"formName",t)},expression:"formConfig.formName"}})],1):e._e(),e._v(" "),3==e.formConfig.saveType?a("el-form-item",{attrs:{label:"表单编码",prop:"newFormCode"}},[a("el-input",{attrs:{maxlength:"40"},model:{value:e.formConfig.newFormCode,callback:function(t){e.$set(e.formConfig,"newFormCode",t)},expression:"formConfig.newFormCode"}})],1):e._e(),e._v(" "),3==e.formConfig.saveType?a("el-form-item",{attrs:{label:"表单名称",prop:"newFormName"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.formConfig.newFormName,callback:function(t){e.$set(e.formConfig,"newFormName",t)},expression:"formConfig.newFormName"}})],1):e._e()],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveForm}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var fe={name:"DiyFormList",components:{DiyForm:a("VU/8")(de,ue,!1,function(e){a("sWS0")},"data-v-eb75f1f0",null).exports},mounted:function(){this.queryForm()},methods:{queryForm:function(){var e=this;c.a.get("/DiyFormController/getForm").then(function(t){e.tableData=t.data})},addForm:function(){this.editMode=!1,this.formId=null,this.dialogVisible=!0},editForm:function(e,t){this.editMode=!0,this.formId=t.formId,this.dialogVisible=!0},initDiyForm:function(){this.$refs.diyForm&&this.$refs.diyForm.initForm()},removeForm:function(){var e=this;this.$confirm("确认要删除该表单吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"操作成功！"})})}},data:function(){return{formName:"",dialogVisible:!1,tableData:[],editMode:!1,formId:null}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("el-input",{attrs:{placeholder:"请输入表单名称或编码"},model:{value:e.formName,callback:function(t){e.formName=t},expression:"formName"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryForm}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addForm}})],1),e._v(" "),a("el-main",[a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"formName",label:"表单名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"formCode",label:"表单编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"comments",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){e.editForm(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){e.removeForm(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,"custom-class":"fullscreen-dialog",fullscreen:""},on:{open:e.initDiyForm,"update:visible":function(t){e.dialogVisible=t}}},[a("DiyForm",{ref:"diyForm",attrs:{formId:e.formId,editMode:e.editMode}})],1)],1),e._v(" "),a("el-footer")],1)},staticRenderFns:[]};var pe=a("VU/8")(fe,me,!1,function(e){a("8QcJ")},"data-v-bfdeabf6",null).exports;i.default.use(g.a);var ge=new g.a({routes:[{path:"/",name:"DiyFormList",component:pe}]});i.default.use(r.a,{size:"small"}),i.default.config.productionTip=!1,c.a.defaults.baseURL="/api/",c.a.defaults.transformRequest=[function(e){return u.a.stringify(e)}],new i.default({el:"#app",router:ge,components:{App:p},template:"<App/>",created:function(){this.bind()},methods:{bind:function(){c.a.interceptors.request.use(this.axiosInterceptorBefore,this.axiosInterceptorAfter),c.a.interceptors.response.use(this.axiosInterceptorBefore,this.axiosInterceptorAfter)},axiosInterceptorBefore:function(e){return e},axiosInterceptorAfter:function(e){return this.$message({showClose:!0,message:"错误信息："+e.response.statusText+" 错误代码："+e.response.status,type:"error"}),l.a.reject(e)}}})},U1Ka:function(e,t){},hnRQ:function(e,t){},i0Af:function(e,t){},jwLI:function(e,t){},lSh7:function(e,t){},m3yI:function(e,t){},q7Ub:function(e,t){},sWS0:function(e,t){},tvR6:function(e,t){},"u3a+":function(e,t){},usLN:function(e,t){},wG4N:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8d317b5ad681572cb7da.js.map