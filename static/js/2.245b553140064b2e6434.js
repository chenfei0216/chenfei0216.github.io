webpackJsonp([2],{"3IRH":function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3eaK":function(t,n,e){(function(){void 0===Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},e=function(t,n){return t.x*n.x+t.y*n.y},i=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r=function(t,n){return{x:t.x*n,y:t.y*n}},o=Math.pow(2,-65),s=function(n,e){for(var r=[],o=a(n,e),s=e.length-1,l=u(o,2*s-1,r,0),c=t(n,e[0]),h=i(c),d=0,p=0;p<l;p++){c=t(n,f(e,s,r[p],null,null));var g=i(c);g<h&&(h=g,d=r[p])}return c=t(n,e[s]),(g=i(c))<h&&(h=g,d=1),{location:d,distance:h}},a=function(n,i){for(var o=i.length-1,s=2*o-1,a=[],u=[],l=[],c=[],h=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],f=0;f<=o;f++)a[f]=t(i[f],n);for(f=0;f<=o-1;f++)u[f]=t(i[f+1],i[f]),u[f]=r(u[f],3);for(var d=0;d<=o-1;d++)for(var p=0;p<=o;p++)l[d]||(l[d]=[]),l[d][p]=e(u[d],a[p]);for(f=0;f<=s;f++)c[f]||(c[f]=[]),c[f].y=0,c[f].x=parseFloat(f)/s;for(var g=o,v=o-1,m=0;m<=g+v;m++){var y=Math.max(0,m-v),b=Math.min(m,g);for(f=y;f<=b;f++)j=m-f,c[f+j].y+=l[j][f]*h[j][f]}return c},u=function(t,n,e,i){var r,o,s=[],a=[],d=[],p=[];switch(l(t,n)){case 0:return 0;case 1:if(i>=64)return e[0]=(t[0].x+t[n].x)/2,1;if(c(t,n))return e[0]=h(t,n),1}f(t,n,.5,s,a),r=u(s,n,d,i+1),o=u(a,n,p,i+1);for(var g=0;g<r;g++)e[g]=d[g];for(g=0;g<o;g++)e[g+r]=p[g];return r+o},l=function(t,n){var e,i,r=0;e=i=Math.sgn(t[0].y);for(var o=1;o<=n;o++)(e=Math.sgn(t[o].y))!=i&&r++,i=e;return r},c=function(t,n){var e,i,r,s,a,u,l,c;s=t[0].y-t[n].y,a=t[n].x-t[0].x,u=t[0].x*t[n].y-t[n].x*t[0].y;for(var h=max_distance_below=0,f=1;f<n;f++){var d=s*t[f].x+a*t[f].y+u;d>h?h=d:d<max_distance_below&&(max_distance_below=d)}return 0,1,0,e=(1*(u-h)-0*(c=a))*(1/(0*c-1*(l=s))),l=s,c=a,i=(1*(u-max_distance_below)-0*c)*(1/(0*c-1*l)),r=Math.min(e,i),Math.max(e,i)-r<o?1:0},h=function(t,n){var e=t[n].x-t[0].x,i=t[n].y-t[0].y,r=t[0].x-0;return 0+1*((e*(t[0].y-0)-i*r)*(1/(0*e-1*i)))},f=function(t,n,e,i,r){for(var o=[[]],s=0;s<=n;s++)o[0][s]=t[s];for(var a=1;a<=n;a++)for(s=0;s<=n-a;s++)o[a]||(o[a]=[]),o[a][s]||(o[a][s]={}),o[a][s].x=(1-e)*o[a-1][s].x+e*o[a-1][s+1].x,o[a][s].y=(1-e)*o[a-1][s].y+e*o[a-1][s+1].y;if(null!=i)for(s=0;s<=n;s++)i[s]=o[s][0];if(null!=r)for(s=0;s<=n;s++)r[s]=o[n-s][s];return o[n][0]},d={},p=function(t,n){for(var e=function(t){var n=d[t];if(!n){var e=function(t){return function(n){return t}},i=function(){return function(t){return t}},r=function(){return function(t){return 1-t}},o=function(t){return function(n){for(var e=1,i=0;i<t.length;i++)e*=t[i](n);return e}};(n=[]).push(new function(){return function(n){return Math.pow(n,t)}});for(var s=1;s<t;s++){for(var a=[new e(t)],u=0;u<t-s;u++)a.push(new i);for(u=0;u<s;u++)a.push(new r);n.push(new o(a))}n.push(new function(){return function(n){return Math.pow(1-n,t)}}),d[t]=n}return n}(t.length-1),i=0,r=0,o=0;o<t.length;o++)i+=t[o].x*e[o](n),r+=t[o].y*e[o](n);return{x:i,y:r}},g=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},v=function(t){return t[0].x==t[1].x&&t[0].y==t[1].y},m=function(t,n,e){if(v(t))return{point:t[0],location:n};for(var i=p(t,n),r=0,o=n,s=e>0?1:-1,a=null;r<Math.abs(e);)a=p(t,o+=.005*s),r+=g(a,i),i=a;return{point:a,location:o}},y=function(t,n){var e=p(t,n),i=p(t.slice(0,t.length-1),n),r=i.y-e.y,o=i.x-e.x;return 0==r?1/0:Math.atan(r/o)},b=this.jsBezier={distanceFromCurve:s,gradientAtPoint:y,gradientAtPointAlongCurveFrom:function(t,n,e){var i=m(t,n,e);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),y(t,i.location)},nearestPointOnCurve:function(t,n){var e=s(t,n);return{point:f(n,n.length-1,e.location,null,null),location:e.location}},pointOnCurve:p,pointAlongCurveFrom:function(t,n,e){return m(t,n,e).point},perpendicularToCurveAt:function(t,n,e,i){var r=m(t,n,i=null==i?0:i),o=y(t,r.location),s=Math.atan(-1/o),a=e/2*Math.sin(s),u=e/2*Math.cos(s);return[{x:r.point.x+u,y:r.point.y+a},{x:r.point.x-u,y:r.point.y-a}]},locationAlongCurveFrom:function(t,n,e){return m(t,n,e).location},getLength:function(t){if(v(t))return 0;for(var n=p(t,0),e=0,i=0,r=null;i<1;)r=p(t,i+=.005),e+=g(r,n),n=r;return e},version:"0.9.0"};n.jsBezier=b}).call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.Biltong={version:"0.4.0"};n.Biltong=t;var e=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(t,n,i){return i(t=e(t)?t:[t.x,t.y],n=e(n)?n:[n.x,n.y])},r=t.gradient=function(t,n){return i(t,n,function(t,n){return n[0]==t[0]?n[1]>t[1]?1/0:-1/0:n[1]==t[1]?n[0]>t[0]?0:-0:(n[1]-t[1])/(n[0]-t[0])})},o=(t.normal=function(t,n){return-1/r(t,n)},t.lineLength=function(t,n){return i(t,n,function(t,n){return Math.sqrt(Math.pow(n[1]-t[1],2)+Math.pow(n[0]-t[0],2))})},t.quadrant=function(t,n){return i(t,n,function(t,n){return n[0]>t[0]?n[1]>t[1]?2:1:n[0]==t[0]?n[1]>t[1]?2:1:n[1]>t[1]?3:4})}),s=(t.theta=function(t,n){return i(t,n,function(t,n){var e=r(t,n),i=Math.atan(e),s=o(t,n);return 4!=s&&3!=s||(i+=Math.PI),i<0&&(i+=2*Math.PI),i})},t.intersects=function(t,n){var e=t.x,i=t.x+t.w,r=t.y,o=t.y+t.h,s=n.x,a=n.x+n.w,u=n.y,l=n.y+n.h;return e<=s&&s<=i&&r<=u&&u<=o||e<=a&&a<=i&&r<=u&&u<=o||e<=s&&s<=i&&r<=l&&l<=o||e<=a&&s<=i&&r<=l&&l<=o||s<=e&&e<=a&&u<=r&&r<=l||s<=i&&i<=a&&u<=r&&r<=l||s<=e&&e<=a&&u<=o&&o<=l||s<=i&&e<=a&&u<=o&&o<=l},t.encloses=function(t,n,e){var i=t.x,r=t.x+t.w,o=t.y,s=t.y+t.h,a=n.x,u=n.x+n.w,l=n.y,c=n.y+n.h,h=function(t,n,i,r){return e?t<=n&&i>=r:t<n&&i>r};return h(i,a,r,u)&&h(o,l,s,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),a=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,n,e){var i=r(t,n),u=o(t,n),l=e>0?s[u]:a[u],c=Math.atan(i),h=Math.abs(e*Math.sin(c))*l[1],f=Math.abs(e*Math.cos(c))*l[0];return{x:t.x+f,y:t.y+h}},t.perpendicularLineTo=function(t,n,e){var i=r(t,n),o=Math.atan(-1/i),s=e/2*Math.sin(o),a=e/2*Math.cos(o);return[{x:n.x+a,y:n.y+s},{x:n.x-a,y:n.y-s}]}}.call("undefined"!=typeof window?window:this),function(){"use strict";function t(t,n,e,i,r,o,s,a){return function(){var t=[];return Array.prototype.push.apply(t,arguments),t.item=function(t){return this[t]},t}(function(t,n,e,i,r,o,s,a){return new Touch({target:n,identifier:w(),pageX:e,pageY:i,screenX:r,screenY:o,clientX:s||r,clientY:a||o})}.apply(null,arguments))}var e=function(t,n,e){for(var i=(e=e||t.parentNode).querySelectorAll(n),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},i=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},r=function(t){return t.srcElement||t.target},o=function(t,n,e,i){if(i){if(void 0!==t.path&&t.path.indexOf)return{path:t.path,end:t.path.indexOf(e)};var r={path:[],end:-1},o=function(t){r.path.push(t),t===e?r.end=r.path.length-1:null!=t.parentNode&&o(t.parentNode)};return o(n),r}return{path:[n],end:1}},s=function(t,n){for(var e=0,i=t.length;e<i&&t[e]!=n;e++);e<t.length&&t.splice(e,1)},a=1,u=function(t,n,e){var i=a++;return t.__ta=t.__ta||{},t.__ta[n]=t.__ta[n]||{},t.__ta[n][i]=e,e.__tauid=i,i},l=function(t,n,i,s){if(null==t)return i;var a=t.split(","),u=function(s){u.__tauid=i.__tauid;var l=r(s),c=l,h=o(s,l,n,null!=t);if(-1!=h.end)for(var f=0;f<h.end;f++){c=h.path[f];for(var d=0;d<a.length;d++)e(c,a[d],n)&&i.apply(c,arguments)}};return c(i,s,u),u},c=function(t,n,e){t.__taExtra=t.__taExtra||[],t.__taExtra.push([n,e])},h=function(t,n,e,i){if(p&&v[n]){var r=l(i,t,e,v[n]);E(t,v[n],r,e)}"focus"===n&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),E(t,n,l(i,t,e,n),e)},f={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},d=function(t,n,e,i){for(var r in e.__tamee[t])e.__tamee[t].hasOwnProperty(r)&&e.__tamee[t][r].apply(i,[n])},p="ontouchstart"in document.documentElement,g="onmousedown"in document.documentElement,v={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},m=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var n=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(n)&&(t=parseFloat(RegExp.$1))}return t}(),y=m>-1&&m<9,b=function(t,n){if(null==t)return[0,0];var e=x(t),i=P(e,0);return[i[n+"X"],i[n+"Y"]]},_=function(t){return null==t?[0,0]:y?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:b(t,"page")},P=function(t,n){return t.item?t.item(n):t[n]},x=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},C=function(t){return x(t).length},E=function(t,n,e,i){if(u(t,n,e),i.__tauid=e.__tauid,t.addEventListener)t.addEventListener(n,e,!1);else if(t.attachEvent){var r=n+e.__tauid;t["e"+r]=e,t[r]=function(){t["e"+r]&&t["e"+r](window.event)},t.attachEvent("on"+n,t[r])}},j=function(t,n,e){null!=e&&S(t,function(){var r=i(this);if(function(t,n,e){if(t.__ta&&t.__ta[n]&&delete t.__ta[n][e.__tauid],e.__taExtra){for(var i=0;i<e.__taExtra.length;i++)j(t,e.__taExtra[i][0],e.__taExtra[i][1]);e.__taExtra.length=0}e.__taUnstore&&e.__taUnstore()}(r,n,e),null!=e.__tauid)if(r.removeEventListener)r.removeEventListener(n,e,!1),p&&v[n]&&r.removeEventListener(v[n],e,!1);else if(this.detachEvent){var o=n+e.__tauid;r[o]&&r.detachEvent("on"+n,r[o]),r[o]=null,r["e"+o]=null}e.__taTouchProxy&&j(t,e.__taTouchProxy[1],e.__taTouchProxy[0])})},S=function(t,n){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var e=0;e<t.length;e++)n.apply(t[e])}},w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"==t?n:3&n|8).toString(16)})};this.Mottle=function(n){var a=(n=n||{}).clickThreshold||250,c=n.dblClickThreshold||450,m=new function(){var t=[];return function(n,i,o,s){if(!n.__tamee){n.__tamee={over:!1,mouseenter:[],mouseexit:[]};var a=function(i){var o=r(i);(null==s&&o==n&&!n.__tamee.over||e(o,s,n)&&(null==o.__tamee||!o.__tamee.over))&&(d("mouseenter",i,n,o),o.__tamee=o.__tamee||{},o.__tamee.over=!0,t.push(o))},c=function(i){for(var o=r(i),s=0;s<t.length;s++)o!=t[s]||e(i.relatedTarget||i.toElement,"*",o)||(o.__tamee.over=!1,t.splice(s,1),d("mouseexit",i,n,o))};E(n,"mouseover",l(s,n,a,"mouseover"),a),E(n,"mouseout",l(s,n,c,"mouseout"),c)}o.__taUnstore=function(){delete n.__tamee[i][o.__tauid]},u(n,i,o),n.__tamee[i][o.__tauid]=o}},y=new function(t,n){return function(i,a,u,l){if("contextmenu"==a&&g)h(i,a,u,l);else{if(null==i.__taTapHandler){var c=i.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},d=function(){c.down=!1},p=function(){c.taps=0};h(i,"mousedown",function(s){for(var a=r(s),u=o(s,a,i,null!=l),h=!1,f=0;f<u.end;f++){if(h)return;a=u.path[f];for(var g=0;g<c.downSelectors.length;g++)if(null==c.downSelectors[g]||e(a,c.downSelectors[g],i)){c.down=!0,setTimeout(d,t),setTimeout(p,n),h=!0;break}}}),h(i,"mouseup",function(t){if(c.down){var n,s,a=r(t);c.taps++;var u=C(t);for(var l in f)if(f.hasOwnProperty(l)){var h=f[l];if(h.touches===u&&(1===h.taps||h.taps===c.taps))for(var d=0;d<c[l].length;d++){s=o(t,a,i,null!=c[l][d][1]);for(var p=0;p<s.end;p++)if(n=s.path[p],null==c[l][d][1]||e(n,c[l][d][1],i)){c[l][d][0].apply(n,[t]);break}}}}})}i.__taTapHandler.downSelectors.push(l),i.__taTapHandler[a].push([u,l]),u.__taUnstore=function(){s(i.__taTapHandler[a],u)}}}}(a,c),P=n.smartClicks,x=function(t,n,e,o){null!=e&&S(t,function(){var t=i(this);P&&"click"===n?function(t,n,e,i){null==t.__taSmartClicks&&(h(t,"mousedown",function(n){t.__tad=_(n)},i),h(t,"mouseup",function(n){t.__tau=_(n)},i),h(t,"click",function(n){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var e=0;e<t.__taSmartClicks.length;e++)t.__taSmartClicks[e].apply(r(n),[n])},i),t.__taSmartClicks=[]);t.__taSmartClicks.push(e),e.__taUnstore=function(){s(t.__taSmartClicks,e)}}(t,0,e,o):"tap"===n||"dbltap"===n||"contextmenu"===n?y(t,n,e,o):"mouseenter"===n||"mouseexit"==n?m(t,n,e,o):h(t,n,e,o)})};this.remove=function(t){return S(t,function(){var t=i(this);if(t.__ta)for(var n in t.__ta)if(t.__ta.hasOwnProperty(n))for(var e in t.__ta[n])t.__ta[n].hasOwnProperty(e)&&j(t,n,t.__ta[n][e]);t.parentNode&&t.parentNode.removeChild(t)}),this},this.on=function(t,n,e,i){var r=arguments[0],o=4==arguments.length?arguments[2]:null,s=arguments[1],a=arguments[arguments.length-1];return x(r,s,a,o),this},this.off=function(t,n,e){return j(t,n,e),this},this.trigger=function(n,e,r,o){var s=g&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),a=p&&!g&&v[e]?v[e]:e,u=!(p&&!g&&v[e]),l=_(r),c=b(r,"screen"),h=function(t){return b(t,"client")}(r);return S(n,function(){var n,f=i(this);r=r||{screenX:c[0],screenY:c[1],clientX:h[0],clientY:h[1]};var d=function(t){o&&(t.payload=o)},g={TouchEvent:function(n){var e=t(window,f,0,l[0],l[1],c[0],c[1],h[0],h[1]);(n.initTouchEvent||n.initEvent)(a,!0,!0,window,null,c[0],c[1],h[0],h[1],!1,!1,!1,!1,e,e,e,1,0)},MouseEvents:function(t){t.initMouseEvent(a,!0,!0,window,0,c[0],c[1],h[0],h[1],!1,!1,!1,!1,1,f)}};if(document.createEvent){var m=!u&&!s&&p&&v[e]?"TouchEvent":"MouseEvents";n=document.createEvent(m),g[m](n),d(n),f.dispatchEvent(n)}else document.createEventObject&&((n=document.createEventObject()).eventType=n.eventName=a,n.screenX=c[0],n.screenY=c[1],n.clientX=h[0],n.clientY=h[1],d(n),f.fireEvent("on"+a,n))}),this}},this.Mottle.consume=function(t,n){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!n&&t.preventDefault&&t.preventDefault()},this.Mottle.pageLocation=_,this.Mottle.setForceTouchEvents=function(t){p=t},this.Mottle.setForceMouseEvents=function(t){g=t},this.Mottle.version="0.8.0",n.Mottle=this.Mottle}.call("undefined"==typeof window?this:window),function(){"use strict";var t=function(t,n,e){return-1===t.indexOf(n)&&(e?t.unshift(n):t.push(n),!0)},e=function(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)},i=function(t){return null!=t&&("string"==typeof t||t.constructor===String)},r=function(t,n,e){for(var i=(e=e||t.parentNode).querySelectorAll(n),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},o=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var n=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(n)&&(t=parseFloat(RegExp.$1))}return t}(),s=o>-1&&o<9,a=9===o,u=function(t){if(s)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var n=c(t),e=l(n,0);return a?[e.pageX||e.clientX,e.pageY||e.clientY]:[e.pageX,e.pageY]},l=function(t,n){return t.item?t.item(n):t[n]},c=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},h={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},f=["stop","start","drag","drop","over","out","beforeStart"],d=function(){},p=function(){return!0},g=function(t,n,e){for(var i=0;i<t.length;i++)t[i]!=e&&n(t[i])},v=function(t,n,e,i){g(t,function(t){t.setActive(n),n&&t.updatePosition(),e&&t.setHover(i,n)})},m=function(t,n){if(null!=t){t=i(t)||null!=t.tagName||null==t.length?[t]:t;for(var e=0;e<t.length;e++)n.apply(t[e],[t[e]])}},y=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},b=function(t,n,e,i){this.params=n||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=E();var r=!0;return this.setEnabled=function(t){r=t},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[i]},this.addScope=function(t){var n={};for(var e in m(this.scopes,function(t){n[t]=!0}),m(t?t.split(/\s+/):[],function(t){n[t]=!0}),this.scopes=[],n)this.scopes.push(e)},this.removeScope=function(t){var n={};for(var e in m(this.scopes,function(t){n[t]=!0}),m(t?t.split(/\s+/):[],function(t){delete n[t]}),this.scopes=[],n)this.scopes.push(e)},this.toggleScope=function(t){var n={};for(var e in m(this.scopes,function(t){n[t]=!0}),m(t?t.split(/\s+/):[],function(t){n[t]?delete n[t]:n[t]=!0}),this.scopes=[],n)this.scopes.push(e)},this.setScope(n.scope),this.k=n.katavorio,n.katavorio},_=function(){return!0},P=function(){return!1},x=function(t,n,e,o){this._class=e.draggable;var s=b.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var a,l=[0,0],c=null,f=null,d=[0,0],g=!1,m=!1!==this.params.consumeStartEvent,x=this.el,C=this.params.clone,S=(this.params.scroll,!1!==n.multipleDrop),w=!1,D=!0===n.ghostProxy?_:n.ghostProxy&&"function"==typeof n.ghostProxy?n.ghostProxy:P,I=n.selector,A=null,k=n.snapThreshold,O=function(t,n,e,i,r){var o=n*Math.floor(t[0]/n),s=o+n,a=Math.abs(t[0]-o)<=i?o:Math.abs(s-t[0])<=i?s:t[0],u=e*Math.floor(t[1]/e),l=u+e;return[a,Math.abs(t[1]-u)<=r?u:Math.abs(l-t[1])<=r?l:t[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(t){if(null==this.params.grid)return t;var n=this.params.grid?this.params.grid[0]/2:k||5,e=this.params.grid?this.params.grid[1]/2:k||5;return O(t,this.params.grid[0],this.params.grid[1],n,e)},this.snap=function(t,n){if(null!=x){t=t||(this.params.grid?this.params.grid[0]:10),n=n||(this.params.grid?this.params.grid[1]:10);var e=this.params.getPosition(x),i=this.params.grid?this.params.grid[0]/2:k,r=this.params.grid?this.params.grid[1]/2:k;this.params.setPosition(x,O(e,t,n,i,r))}},this.setUseGhostProxy=function(t){D=t?_:P};var M,T=function(t){return!1===n.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},L=function(t){a="function"==typeof t?t:t?function(t,n,e,i){return T([Math.max(0,Math.min(e.w-i[0],t[0])),Math.max(0,Math.min(e.h-i[1],t[1]))])}.bind(this):function(t){return T(t)}}.bind(this);L("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){L(t)},this.setRevert=function(t){M=t};var F={},R=this.setFilter=function(n,e){if(n){var o="function"==typeof(s=n)?(s._katavorioId=E(),s._katavorioId):s;F[o]=[function(e){var o,s=e.srcElement||e.target;return i(n)?o=r(s,n,t):"function"==typeof n&&(o=n(e,t)),o},!1!==e]}var s};this.addFilter=R,this.removeFilter=function(t){var n="function"==typeof t?t._katavorioId:t;delete F[n]};this.clearAllFilters=function(){F={}},this.canDrag=this.params.canDrag||p;var U,B=[],G=[];this.downListener=function(t){var n,i,o,a,f,d,p,g,v;if((this.rightButtonCanDrag||3!==t.which&&2!==t.button)&&this.isEnabled()&&this.canDrag())if(function(t){for(var n in F){var e=F[n],i=e[0](t);if(e[1]&&(i=!i),!i)return!1}return!0}(t)&&function(t,n,e){var i=t.srcElement||t.target;return!r(i,e.getInputFilterSelector(),n)}(t,this.el,this.k)){if(I){if(null==(A=function(t,n,e){if(r(n,e,t))return n;for(var i=n.parentNode;null!=i&&i!==t;){if(r(i,e,t))return i;i=i.parentNode}}(this.el,t.target||t.srcElement,I)))return}else A=this.el;if(C)if(x=A.cloneNode(!0),this.params.addClass(x,h.clonedDrag),x.setAttribute("id",null),x.style.position="absolute",null!=this.params.parent){var b=this.params.getPosition(this.el);x.style.left=b[0]+"px",x.style.top=b[1]+"px",this.params.parent.appendChild(x)}else{var _=(n=A.getBoundingClientRect(),i=document.body,o=document.documentElement,a=window.pageYOffset||o.scrollTop||i.scrollTop,f=window.pageXOffset||o.scrollLeft||i.scrollLeft,d=o.clientTop||i.clientTop||0,p=o.clientLeft||i.clientLeft||0,g=n.top+a-d,v=n.left+f-p,{top:Math.round(g),left:Math.round(v)});x.style.left=_.left+"px",x.style.top=_.top+"px",document.body.appendChild(x)}else x=A;m&&y(t),l=u(t),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),s.markSelection(this),s.markPosses(this),this.params.addClass(document.body,e.noSelect),z("beforeStart",{el:this.el,pos:c,e:t,drag:this})}else this.params.consumeFilteredEvents&&y(t)}.bind(this),this.moveListener=function(t){if(l){if(!g)if(!1!==z("start",{el:this.el,pos:c,e:t,drag:this})){if(!l)return;this.mark(!0),g=!0}else this.abort();if(l){G.length=0;var n=u(t),e=n[0]-l[0],i=n[1]-l[1],r=this.params.ignoreZoom?1:s.getZoom();e/=r,i/=r,this.moveBy(e,i,t),s.updateSelection(e,i,this),s.updatePosses(e,i,this)}}}.bind(this),this.upListener=function(t){l&&(l=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,e.noSelect),this.unmark(t),s.unmarkSelection(this,t),s.unmarkPosses(this,t),this.stop(t),s.notifySelectionDragStop(this,t),s.notifyPosseDragStop(this,t),g=!1,C&&(x&&x.parentNode&&x.parentNode.removeChild(x),x=null),G.length=0,M&&!0===M(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,c),z("revert",this.el)))}.bind(this),this.getFilters=function(){return F},this.abort=function(){null!=l&&this.upListener()},this.getDragElement=function(t){return t?A||this.el:x||this.el};var N={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};n.events.start&&N.start.push(n.events.start),n.events.beforeStart&&N.beforeStart.push(n.events.beforeStart),n.events.stop&&N.stop.push(n.events.stop),n.events.drag&&N.drag.push(n.events.drag),n.events.revert&&N.revert.push(n.events.revert),this.on=function(t,n){N[t]&&N[t].push(n)},this.off=function(t,n){if(N[t]){for(var e=[],i=0;i<N[t].length;i++)N[t][i]!==n&&e.push(N[t][i]);N[t]=e}};var W,z=function(t,n){var e=null;if(N[t])for(var i=0;i<N[t].length;i++)try{var r=N[t][i](n);null!=r&&(e=r)}catch(t){}return e};this.notifyStart=function(t){z("start",{el:this.el,pos:this.params.getPosition(x),e:t,drag:this})},this.stop=function(t,n){if(n||g){var e=[],i=s.getSelection(),r=this.params.getPosition(x);if(i.length>1)for(var o=0;o<i.length;o++){var a=this.params.getPosition(i[o].el);e.push([i[o].el,{left:a[0],top:a[1]},i[o]])}else e.push([x,{left:r[0],top:r[1]},this]);z("stop",{el:x,pos:W||r,finalPos:r,e:t,drag:this,selection:e})}},this.mark=function(t){var n;c=this.params.getPosition(x),f=this.params.getPosition(x,!0),d=[f[0]-c[0],f[1]-c[1]],this.size=this.params.getSize(x),B=s.getMatchingDroppables(this),v(B,!0,!1,this),this.params.addClass(x,this.params.dragClass||e.drag),n=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(x):this.params.getSize(x.parentNode),U={w:n[0],h:n[1]},t&&s.notifySelectionDragStart(this)},this.unmark=function(t,i){if(v(B,!1,!0,this),w&&D(A)?(W=[x.offsetLeft,x.offsetTop],A.parentNode.removeChild(x),x=A):W=null,this.params.removeClass(x,this.params.dragClass||e.drag),B.length=0,w=!1,!i){G.length>0&&W&&n.setPosition(A,W),G.sort(j);for(var r=0;r<G.length;r++){if(!0===G[r].drop(this,t))break}}},this.moveBy=function(t,e,i){G.length=0;var r=this.toGrid([c[0]+t,c[1]+e]),o=a(r,x,U,this.size);if(D(this.el))if(r[0]!==o[0]||r[1]!==o[1]){if(!w){var s=A.cloneNode(!0);n.addClass(s,h.ghostProxy),A.parentNode.appendChild(s),x=s,w=!0}o=r}else w&&(A.parentNode.removeChild(x),x=A,w=!1);var u={x:o[0],y:o[1],w:this.size[0],h:this.size[1]},l={x:u.x+d[0],y:u.y+d[1],w:u.w,h:u.h},f=null;this.params.setPosition(x,o);for(var p=0;p<B.length;p++){var g={x:B[p].pagePosition[0],y:B[p].pagePosition[1],w:B[p].size[0],h:B[p].size[1]};this.params.intersects(l,g)&&(S||null==f||f===B[p].el)&&B[p].canDrop(this)?(f||(f=B[p].el),G.push(B[p]),B[p].setHover(this,!0,i)):B[p].isHover()&&B[p].setHover(this,!1,i)}z("drag",{el:this.el,pos:o,e:i,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?R(this.params.handle,!1):R(this.params.filter,this.params.filterExclude)},C=function(t,n,e,i){this._class=e.droppable,this.params=n||{},this.rank=n.rank||0,this._activeClass=this.params.activeClass||e.active,this._hoverClass=this.params.hoverClass||e.hover,b.apply(this,arguments);var r=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return r},this.setHover=function(t,n,e){(n||null==this.el._katavorioDragHover||this.el._katavorioDragHover===t.el._katavorio)&&(this.params[n?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=n?t.el._katavorio:null,r!==n&&this.params.events[n?"over":"out"]({el:this.el,e:e,drag:t,drop:this}),r=n)},this.drop=function(t,n){return this.params.events.drop({drag:t,e:n,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,r=null}},E=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"===t?n:3&n|8).toString(16)})},j=function(t,n){return t.rank<n.rank?1:t.rank>n.rank?-1:0},S=function(t){return null==t?null:null==(t="string"==typeof t||t.constructor===String?document.getElementById(t):t)?null:(t._katavorio=t._katavorio||E(),t)};this.Katavorio=function(n){var r=[],o={};this._dragsByScope={},this._dropsByScope={};var s=1,a=function(t,n){m(t,function(t){for(var e=0;e<t.scopes.length;e++)n[t.scopes[e]]=n[t.scopes[e]]||[],n[t.scopes[e]].push(t)})},u=function(t,e){var i=0;return m(t,function(t){for(var r=0;r<t.scopes.length;r++)if(e[t.scopes[r]]){var o=n.indexOf(e[t.scopes[r]],t);-1!==o&&(e[t.scopes[r]].splice(o,1),i++)}}),i>0},l=(this.getMatchingDroppables=function(t){for(var n=[],e={},i=0;i<t.scopes.length;i++){var r=this._dropsByScope[t.scopes[i]];if(r)for(var o=0;o<r.length;o++)!r[o].canDrop(t)||e[r[o].uuid]||!r[o].allowLoopback&&r[o].el===t.el||(e[r[o].uuid]=!0,n.push(r[o]))}return n.sort(j),n},function(t){t=t||{};var e,i={events:{}};for(e in n)i[e]=n[e];for(e in t)i[e]=t[e];for(e=0;e<f.length;e++)i.events[f[e]]=t[f[e]]||d;return i.katavorio=this,i}.bind(this)),c=function(t,n){for(var e=0;e<f.length;e++)n[f[e]]&&t.on(f[e],n[f[e]])}.bind(this),p={},v=n.css||{},y=n.scope||"katavorio-drag-scope";for(var b in h)p[b]=h[b];for(var b in v)p[b]=v[b];var _=n.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return _},this.setInputFilterSelector=function(t){return _=t,this},this.draggable=function(t,e){var i=[];return m(t,function(t){if(null!=(t=S(t)))if(null==t._katavorioDrag){var r=l(e);t._katavorioDrag=new x(t,r,p,y),a(t._katavorioDrag,this._dragsByScope),i.push(t._katavorioDrag),n.addClass(t,p.draggable)}else c(t._katavorioDrag,e)}.bind(this)),i},this.droppable=function(t,e){var i=[];return m(t,function(t){if(null!=(t=S(t))){var r=new C(t,l(e),p,y);t._katavorioDrop=t._katavorioDrop||[],t._katavorioDrop.push(r),a(r,this._dropsByScope),i.push(r),n.addClass(t,p.droppable)}}.bind(this)),i},this.select=function(t){return m(t,function(){var t=S(this);t&&t._katavorioDrag&&(o[t._katavorio]||(r.push(t._katavorioDrag),o[t._katavorio]=[t,r.length-1],n.addClass(t,p.selected)))}),this},this.deselect=function(t){return m(t,function(){var t=S(this);if(t&&t._katavorio&&o[t._katavorio]){for(var e=[],i=0;i<r.length;i++)r[i].el!==t&&e.push(r[i]);r=e,delete o[t._katavorio],n.removeClass(t,p.selected)}}),this},this.deselectAll=function(){for(var t in o){var e=o[t];n.removeClass(e[0],p.selected)}r.length=0,o={}},this.markSelection=function(t){g(r,function(t){t.mark()},t)},this.markPosses=function(t){t.posses&&m(t.posses,function(n){t.posseRoles[n]&&I[n]&&g(I[n].members,function(t){t.mark()},t)})},this.unmarkSelection=function(t,n){g(r,function(t){t.unmark(n)},t)},this.unmarkPosses=function(t,n){t.posses&&m(t.posses,function(e){t.posseRoles[e]&&I[e]&&g(I[e].members,function(t){t.unmark(n,!0)},t)})},this.getSelection=function(){return r.slice(0)},this.updateSelection=function(t,n,e){g(r,function(e){e.moveBy(t,n)},e)};var P=function(t,n){n.posses&&m(n.posses,function(e){n.posseRoles[e]&&I[e]&&g(I[e].members,function(n){t(n)},n)})};this.updatePosses=function(t,n,e){P(function(e){e.moveBy(t,n)},e)},this.notifyPosseDragStop=function(t,n){P(function(t){t.stop(n,!0)},t)},this.notifySelectionDragStop=function(t,n){g(r,function(t){t.stop(n,!0)},t)},this.notifySelectionDragStart=function(t,n){g(r,function(t){t.notifyStart(n)},t)},this.setZoom=function(t){s=t},this.getZoom=function(){return s};var E=function(t,n,e,i){m(t,function(t){u(t,e),t[i](n),a(t,e)})};m(["set","add","remove","toggle"],function(t){this[t+"Scope"]=function(n,e){E(n._katavorioDrag,e,this._dragsByScope,t+"Scope"),E(n._katavorioDrop,e,this._dropsByScope,t+"Scope")}.bind(this),this[t+"DragScope"]=function(n,e){E(n.constructor===x?n:n._katavorioDrag,e,this._dragsByScope,t+"Scope")}.bind(this),this[t+"DropScope"]=function(n,e){E(n.constructor===C?n:n._katavorioDrop,e,this._dropsByScope,t+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(t,n){for(var e in this._dragsByScope)g(this._dragsByScope[e],function(e){e.snap(t,n)})},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var w=function(t,n,e){if((t=S(t))[n]){var i=r.indexOf(t[n]);i>=0&&r.splice(i,1),u(t[n],e)&&m(t[n],function(t){t.destroy()}),delete t[n]}},D=function(t,n,e,i){(t=S(t))[n]&&t[n].off(e,i)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t,n,e){1===arguments.length?w(t,"_katavorioDrag",this._dragsByScope):D(t,"_katavorioDrag",n,e)},this.destroyDroppable=function(t,n,e){1===arguments.length?w(t,"_katavorioDrop",this._dropsByScope):D(t,"_katavorioDrop",n,e)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},r=[],o={},I={}};var I={},A=function(n,e,r){var o,s=i(e)?e:e.id,a=!!i(e)||!1!==e.active,u=I[s]||(o={name:s,members:[]},I[s]=o,o);return m(n,function(n){if(n._katavorioDrag){if(r&&null!=n._katavorioDrag.posseRoles[u.name])return;t(u.members,n._katavorioDrag),t(n._katavorioDrag.posses,u.name),n._katavorioDrag.posseRoles[u.name]=a}}),u};this.addToPosse=function(t,n){for(var e=[],i=1;i<arguments.length;i++)e.push(A(t,arguments[i]));return 1===e.length?e[0]:e},this.setPosse=function(t,n){for(var e=[],i=1;i<arguments.length;i++)e.push(A(t,arguments[i],!0).name);return m(t,function(t){if(t._katavorioDrag){var n=function(t,n){for(var e=[],i=0;i<t.length;i++)-1===n.indexOf(t[i])&&e.push(t[i]);return e}(t._katavorioDrag.posses,e);Array.prototype.push.apply([],t._katavorioDrag.posses);for(var i=0;i<n.length;i++)this.removeFromPosse(t,n[i])}}.bind(this)),1===e.length?e[0]:e},this.removeFromPosse=function(t,n){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var i=1;i<arguments.length;i++)n=arguments[i],m(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var i=t._katavorioDrag;m(n,function(t){e(I[t].members,i),e(i.posses,t),delete i.posseRoles[t]})}})},this.removeFromAllPosses=function(t){m(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var n=t._katavorioDrag;m(n.posses,function(t){e(I[t].members,n)}),n.posses.length=0,n.posseRoles={}}})},this.setPosseState=function(t,n,e){var i=I[n];i&&m(t,function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[i.name]=e)})}},this.Katavorio.version="1.0.0",n.Katavorio=this.Katavorio}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumbUtil={};function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return"[object Date]"===Object.prototype.toString.call(t)}function s(t){return"[object Function]"===Object.prototype.toString.call(t)}function a(t){if(e(t))return""+t;if(i(t))return!!t;if(o(t))return new Date(t.getTime());if(s(t))return t;if(n(t)){for(var u=[],l=0;l<t.length;l++)u.push(a(t[l]));return u}if(r(t)){var c={};for(var h in t)c[h]=a(t[h]);return c}return t}function u(t,o,s){var u,l,c={};for(s=s||[],l=0;l<s.length;l++)c[s[l]]=!0;var h=a(t);for(l in o)if(null==h[l])h[l]=o[l];else if(e(o[l])||i(o[l]))c[l]?((u=[]).push.apply(u,n(h[l])?h[l]:[h[l]]),u.push.apply(u,i(o[l])?o[l]:[o[l]]),h[l]=u):h[l]=o[l];else if(n(o[l]))u=[],n(h[l])&&u.push.apply(u,h[l]),u.push.apply(u,o[l]),h[l]=u;else if(r(o[l]))for(var f in r(h[l])||(h[l]={}),o[l])h[l][f]=o[l][f];return h}function l(t,n){if(t)for(var e=0;e<t.length;e++)if(n(t[e]))return e;return-1}function c(t,n){var e=t.indexOf(n);return e>-1&&t.splice(e,1),-1!==e}function h(t,n,e,i){var r=t[n];return null==r&&(r=[],t[n]=r),r[i?"unshift":"push"](e),r}function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0;return("x"===t?n:3&n|8).toString(16)})}var d=!0;function p(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(d&&"undefined"!=typeof console)try{var e=arguments[arguments.length-1];console.log(e)}catch(t){}}var g=function(){return function(){var t=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(n,e,i){var r=function(n){h(t._listeners,n,e,i),e.__jsPlumb=e.__jsPlumb||{},e.__jsPlumb[f()]=n};if("string"==typeof n)r(n);else if(null!=n.length)for(var o=0;o<n.length;o++)r(n[o]);return t},this.fire=function(t,n,e){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[t]){var i=this._listeners[t].length,r=0,o=!1,s=null;if(!this.shouldFireEvent||this.shouldFireEvent(t,n,e))for(;!o&&r<i&&!1!==s;){if(this.eventsToDieOn[t])this._listeners[t][r].apply(this,[n,e]);else try{s=this._listeners[t][r].apply(this,[n,e])}catch(n){p("jsPlumb: fire failed for event "+t+" : "+n)}r++,null!=this._listeners&&null!=this._listeners[t]||(o=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var n=t.queue.pop();n&&t.fire.apply(t,n)},this.unbind=function(t,n){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"==typeof t)delete this._listeners[t];else if(t.__jsPlumb){var e=void 0;for(var i in t.__jsPlumb)e=t.__jsPlumb[i],c(this._listeners[e]||[],t)}}else 2===arguments.length&&c(this._listeners[t]||[],n);return this},this.getListener=function(n){return t._listeners[n]},this.setSuspendEvents=function(n){t.eventsSuspended=n},this.isSuspendEvents=function(){return t.eventsSuspended},this.silently=function(n){t.setSuspendEvents(!0);try{n()}catch(t){p("Cannot execute silent function "+t)}t.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var n in t._listeners)t._listeners[n]=null}}}();t.isArray=n,t.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},t.isString=e,t.isBoolean=i,t.isNull=function(t){return null==t},t.isObject=r,t.isDate=o,t.isFunction=s,t.isNamedFunction=function(t){return s(t)&&null!=t.name&&t.name.length>0},t.isEmpty=function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0},t.clone=a,t.merge=u,t.replace=function(t,n,e){if(null!=t){var i=t;return n.replace(/([^\.])+/g,function(t,n,r,o){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=function(){return i[s[1]]||(i[s[1]]=[],i[s[1]])};if(r+t.length>=o.length)s?a()[s[3]]=e:i[t]=e;else if(s){var u=a();i=u[s[3]]||(u[s[3]]={},u[s[3]])}else i=i[t]||(i[t]={},i[t]);return""}),t}},t.functionChain=function(t,n,e){for(var i=0;i<e.length;i++){var r=e[i][0][e[i][1]].apply(e[i][0],e[i][2]);if(r===n)return r}return t},t.populate=function(t,i,o,a){var u=function(t){if(null!=t){if(e(t))return function(t){var n=t.match(/(\${.*?})/g);if(null!=n)for(var e=0;e<n.length;e++){var r=i[n[e].substring(2,n[e].length-1)]||"";null!=r&&(t=t.replace(n[e],r))}return t}(t);if(!s(t)||a||null!=o&&0!==(t.name||"").indexOf(o)){if(n(t)){for(var l=[],c=0;c<t.length;c++)l.push(u(t[c]));return l}if(r(t)){var h={};for(var f in t)h[f]=u(t[f]);return h}return t}return t(i)}};return u(t)},t.findWithFunction=l,t.removeWithFunction=function(t,n){var e=l(t,n);return e>-1&&t.splice(e,1),-1!==e},t.remove=c,t.addWithFunction=function(t,n,e){-1===l(t,e)&&t.push(n)},t.addToList=h,t.suggest=function(t,n,e){return-1===t.indexOf(n)&&(e?t.unshift(n):t.push(n),!0)},t.extend=function(t,e,i){var r;e=n(e)?e:[e];var o=function(n){for(var e=n.__proto__;null!=e;)if(null!=e.prototype){for(var i in e.prototype)e.prototype.hasOwnProperty(i)&&!t.prototype.hasOwnProperty(i)&&(t.prototype[i]=e.prototype[i]);e=e.prototype.__proto__}else e=null};for(r=0;r<e.length;r++){for(var s in e[r].prototype)e[r].prototype.hasOwnProperty(s)&&!t.prototype.hasOwnProperty(s)&&(t.prototype[s]=e[r].prototype[s]);o(e[r])}var a=function(t,n){return function(){for(r=0;r<e.length;r++)e[r].prototype[t]&&e[r].prototype[t].apply(this,arguments);return n.apply(this,arguments)}},u=function(n){for(var e in n)t.prototype[e]=a(e,n[e])};if(arguments.length>2)for(r=2;r<arguments.length;r++)u(arguments[r]);return t},t.uuid=f,t.fastTrim=function(t){if(null==t)return null;for(var n=t.replace(/^\s\s*/,""),e=/\s/,i=n.length;e.test(n.charAt(--i)););return n.slice(0,i+1)},t.each=function(t,n){t=null==t.length||"string"==typeof t?[t]:t;for(var e=0;e<t.length;e++)n(t[e])},t.map=function(t,n){for(var e=[],i=0;i<t.length;i++)e.push(n(t[i]));return e},t.mergeWithParents=function(t,n,e){e=e||"parent";var i=function(t){return t?n[t]:null},r=function(t){return t?i(t[e]):null},o=function(t,n){if(null==t)return n;var e=u(t,n);return o(r(t),e)},s=function(t){if(null==t)return{};if("string"==typeof t)return i(t);if(t.length){for(var n=!1,e=0,r=void 0;!n&&e<t.length;)(r=s(t[e]))?n=!0:e++;return r}},a=s(t);return a?o(r(a),a):{}},t.logEnabled=d,t.log=p,t.wrap=function(t,n,e){return function(){var i=null;try{null!=n&&(i=n.apply(this,arguments))}catch(t){p("jsPlumb function failed : "+t)}if(null!=t&&(null==e||i!==e))try{i=t.apply(this,arguments)}catch(t){p("wrapped function failed : "+t)}return i}},t.EventGenerator=g}.call("undefined"!=typeof window?window:this),function(){"use strict";this.jsPlumbUtil.matchesSelector=function(t,n,e){for(var i=(e=e||t.parentNode).querySelectorAll(n),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},this.jsPlumbUtil.consume=function(t,n){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!n&&t.preventDefault&&t.preventDefault()},this.jsPlumbUtil.sizeElement=function(t,n,e,i,r){t&&(t.style.height=r+"px",t.height=r,t.style.width=i+"px",t.width=i,t.style.left=n+"px",t.style.top=e+"px")}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,e=t.jsPlumbUtil,i=function(){return""+(new Date).getTime()},r=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var n={};p.extend(n,t._jsPlumb.paintStyle),p.extend(n,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,n.gradient&&t._jsPlumb.paintStyle.fill&&delete n.gradient,t._jsPlumb.hoverPaintStyle=n}},o=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(t){return null==t?null:t.split(" ")},a=function(t,n,e){for(var i in n)t[i]=e},u=function(t,n){n=e.isArray(n)||null!=n.length&&!e.isString(n)?n:[n];for(var i=0;i<n.length;i++)try{t.apply(n[i],[n[i]])}catch(t){e.log(".each iteration failed : "+t)}},l=function(t,n,i){if(t.getDefaultType){var r=t.getTypeDescriptor(),o={},s=t.getDefaultType(),u=e.merge({},s);a(o,s,"__default");for(var l=0,c=t._jsPlumb.types.length;l<c;l++){var h=t._jsPlumb.types[l];if("__default"!==h){var f=t._jsPlumb.instance.getType(h,r);null!=f&&(u=e.merge(u,f,["cssClass"]),a(o,f,h))}}n&&(u=e.populate(u,n,"_")),t.applyType(u,i,o),i||t.repaint()}},c=t.jsPlumbUIComponent=function(t){e.EventGenerator.apply(this,arguments);var n=arguments,i=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,n,e){this._jsPlumb.typeCache[e]=this._jsPlumb.typeCache[e]||{},this._jsPlumb.typeCache[e][t]=n},this.getCachedTypeItem=function(t,n){return this._jsPlumb.typeCache[n]?this._jsPlumb.typeCache[n][t]:null},this.getId=function(){return i};var r=t.overlays||[],o={};if(this.defaultOverlayKeys){for(var s=0;s<this.defaultOverlayKeys.length;s++)Array.prototype.push.apply(r,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[s]]||[]);for(s=0;s<r.length;s++){var a=p.convertToFullOverlaySpec(r[s]);o[a[1].id]=a}}var u={overlays:o,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return u},this.appendToDefaultType=function(t){for(var n in t)u[n]=t[n]},t.events)for(var l in t.events)this.bind(l,t.events[l]);this.clone=function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,n),t}.bind(this),this.isDetachAllowed=function(t){var n=!0;if(this._jsPlumb.beforeDetach)try{n=this._jsPlumb.beforeDetach(t)}catch(t){e.log("jsPlumb: beforeDetach callback failed",t)}return n},this.isDropAllowed=function(t,n,i,r,o,s,a){var u=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:n,scope:i,connection:r,dropEndpoint:o,source:s,target:a});if(this._jsPlumb.beforeDrop)try{u=this._jsPlumb.beforeDrop({sourceId:t,targetId:n,scope:i,connection:r,dropEndpoint:o,source:s,target:a})}catch(t){e.log("jsPlumb: beforeDrop callback failed",t)}return u};var c=[];this.setListenerComponent=function(t){for(var n=0;n<c.length;n++)c[n][3]=t}},h=function(t,n){var e=t._jsPlumb.types[n],i=t._jsPlumb.instance.getType(e,t.getTypeDescriptor());null!=i&&i.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,i.cssClass)};e.extend(t.jsPlumbUIComponent,e.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,n){this._jsPlumb.parameters[t]=n},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return p.getClass(this.canvas)},hasClass:function(t){return p.hasClass(this.canvas,t)},addClass:function(t){p.addClass(this.canvas,t)},removeClass:function(t){p.removeClass(this.canvas,t)},updateClasses:function(t,n){p.updateClasses(this.canvas,t,n)},setType:function(t,n,e){this.clearTypes(),this._jsPlumb.types=s(t)||[],l(this,n,e)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,n){l(this,t,n)},hasType:function(t){return-1!==this._jsPlumb.types.indexOf(t)},addType:function(t,n,e){var i=s(t),r=!1;if(null!=i){for(var o=0,a=i.length;o<a;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),r=!0);r&&l(this,n,e)}},removeType:function(t,n,e){var i=s(t),r=!1,o=function(t){var n=this._jsPlumb.types.indexOf(t);return-1!==n&&(h(this,n),this._jsPlumb.types.splice(n,1),!0)}.bind(this);if(null!=i){for(var a=0,u=i.length;a<u;a++)r=o(i[a])||r;r&&l(this,n,e)}},clearTypes:function(t,n){for(var e=this._jsPlumb.types.length,i=0;i<e;i++)h(this,0),this._jsPlumb.types.splice(0,1);l(this,t,n)},toggleType:function(t,n,e){var i=s(t);if(null!=i){for(var r=0,o=i.length;r<o;r++){var a=this._jsPlumb.types.indexOf(i[r]);-1!==a?(h(this,a),this._jsPlumb.types.splice(a,1)):this._jsPlumb.types.push(i[r])}l(this,n,e)}},applyType:function(t,n){if(this.setPaintStyle(t.paintStyle,n),this.setHoverPaintStyle(t.hoverPaintStyle,n),t.parameters)for(var e in t.parameters)this.setParameter(e,t.parameters[e]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,n){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,r(this),n||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,n){this._jsPlumb.hoverPaintStyle=t,r(this),n||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,n,e){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=t;var r=t?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(e=e||i(),this.repaint({timestamp:e,recalc:!1}))),this.getAttachedElements&&!n&&function(t,n,e,i){var r=t.getAttachedElements();if(r)for(var o=0,s=r.length;o<s;o++)i&&i===r[o]||r[o].setHover(n,!0,e)}(this,t,i(),this)}}});var f=0,d=t.jsPlumbInstance=function(n){this.version="2.8.0",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},n&&p.extend(this.Defaults,n),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},e.EventGenerator.apply(this);var r=this,s=function(){var t=f+1;return f++,t}(),a=r.bind,l={},h=1,d=function(t){if(null==t)return null;if(3===t.nodeType||8===t.nodeType)return{el:t,text:!0};var n=r.getElement(t);return{el:n,id:e.isString(t)&&null==n?t:z(n)}};for(var g in this.getInstanceIndex=function(){return s},this.setZoom=function(t,n){return h=t,r.fire("zoom",h),n&&r.repaintEverything(),!0},this.getZoom=function(){return h},this.Defaults)l[g]=this.Defaults[g];var v,m=[];this.unbindContainer=function(){if(null!=v&&m.length>0)for(var t=0;t<m.length;t++)r.off(v,m[t][0],m[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each(function(n){n.moveParent(t)}),this.selectEndpoints().each(function(n){n.moveParent(t)});var n=v;v=t,m.length=0;for(var e={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},i=function(t,n,i){var o=n.srcElement||n.target,s=(o&&o.parentNode?o.parentNode._jsPlumb:null)||(o?o._jsPlumb:null)||(o&&o.parentNode&&o.parentNode.parentNode?o.parentNode.parentNode._jsPlumb:null);if(s){s.fire(t,s,n);var a=i&&e[i+t]||t;r.fire(a,s.component||s,n)}},s=function(t,n,e){m.push([t,e]),r.on(v,t,n,e)},a=function(t){s(t,".jtk-connector",function(n){i(t,n)}),s(t,".jtk-endpoint",function(n){i(t,n,"endpoint")}),s(t,".jtk-overlay",function(n){i(t,n)})},u=0;u<o.length;u++)a(o[u]);for(var l in C){var c=C[l].el;c.parentNode===n&&(n.removeChild(c),v.appendChild(c))}},this.getContainer=function(){return v},this.bind=function(t,n){"ready"===t&&b?n():a.apply(r,[t,n])},r.importDefaults=function(t){for(var n in t)r.Defaults[n]=t[n];return t.Container&&r.setContainer(t.Container),r},r.restoreDefaults=function(){return r.Defaults=p.extend({},l),r};var y=null,b=!1,_=[],P={},x={},C={},E={},j={},S={},w=!1,D=[],I=!1,A=null,k=this.Defaults.Scope,O=1,M=function(){return""+O++},T=function(t,n){v?v.appendChild(t):n?this.getElement(n).appendChild(t):this.appendToRoot(t)}.bind(this),L=function(t,n,e,o){if(!I){var s,a=z(t),u=r.getDragManager();u&&(s=u.getElementsForDraggable(a)),null==e&&(e=i());var l=rt({elId:a,offset:n,recalc:!1,timestamp:e});if(s&&l&&l.o)for(var c in s)rt({elId:s[c].id,offset:{left:l.o.left+s[c].offset.left,top:l.o.top+s[c].offset.top},recalc:!1,timestamp:e});if(r.anchorManager.redraw(a,n,e,null,o),s)for(var h in s)r.anchorManager.redraw(s[h].id,n,e,s[h].offset,o,!0)}},F=function(t){return x[t]},R=function(t,n){var i=p.extend({},t);if(n&&p.extend(i,n),i.source&&(i.source.endpoint?i.sourceEndpoint=i.source:i.source=r.getElement(i.source)),i.target&&(i.target.endpoint?i.targetEndpoint=i.target:i.target=r.getElement(i.target)),t.uuids&&(i.sourceEndpoint=F(t.uuids[0]),i.targetEndpoint=F(t.uuids[1])),i.sourceEndpoint&&i.sourceEndpoint.isFull())e.log(r,"could not add connection; source endpoint is full");else if(i.targetEndpoint&&i.targetEndpoint.isFull())e.log(r,"could not add connection; target endpoint is full");else{if(!i.type&&i.sourceEndpoint&&(i.type=i.sourceEndpoint.connectionType),i.sourceEndpoint&&i.sourceEndpoint.connectorOverlays){i.overlays=i.overlays||[];for(var o=0,s=i.sourceEndpoint.connectorOverlays.length;o<s;o++)i.overlays.push(i.sourceEndpoint.connectorOverlays[o])}i.sourceEndpoint&&i.sourceEndpoint.scope&&(i.scope=i.sourceEndpoint.scope),!i["pointer-events"]&&i.sourceEndpoint&&i.sourceEndpoint.connectorPointerEvents&&(i["pointer-events"]=i.sourceEndpoint.connectorPointerEvents);var a=function(t,n,e){return r.addEndpoint(t,function(t,n){var e=p.extend({},t);for(var i in n)n[i]&&(e[i]=n[i]);return e}(n,{anchor:i.anchors?i.anchors[e]:i.anchor,endpoint:i.endpoints?i.endpoints[e]:i.endpoint,paintStyle:i.endpointStyles?i.endpointStyles[e]:i.endpointStyle,hoverPaintStyle:i.endpointHoverStyles?i.endpointHoverStyles[e]:i.endpointHoverStyle}))},u=function(t,n,e,r){if(i[t]&&!i[t].endpoint&&!i[t+"Endpoint"]&&!i.newConnection){var o=e[z(i[t])];if(o=o?o[r]:null){if(!o.enabled)return!1;var s=null!=o.endpoint&&o.endpoint._jsPlumb?o.endpoint:a(i[t],o.def,n);if(s.isFull())return!1;i[t+"Endpoint"]=s,!i.scope&&o.def.scope&&(i.scope=o.def.scope),o.uniqueEndpoint?o.endpoint?s.finalEndpoint=o.endpoint:(o.endpoint=s,s.setDeleteOnEmpty(!1)):s.setDeleteOnEmpty(!0),0===n&&o.def.connectorOverlays&&(i.overlays=i.overlays||[],Array.prototype.push.apply(i.overlays,o.def.connectorOverlays))}}};if(!1!==u("source",0,this.sourceEndpointDefinitions,i.type||"default")&&!1!==u("target",1,this.targetEndpointDefinitions,i.type||"default"))return i.sourceEndpoint&&i.targetEndpoint&&(function(t,n){for(var e=t.scope.split(/\s/),i=n.scope.split(/\s/),r=0;r<e.length;r++)for(var o=0;o<i.length;o++)if(i[o]===e[r])return!0;return!1}(i.sourceEndpoint,i.targetEndpoint)||(i=null)),i}}.bind(r),U=function(t){var n=r.Defaults.ConnectionType||r.getDefaultConnectionType();t._jsPlumb=r,t.newConnection=U,t.newEndpoint=G,t.endpointsByUUID=x,t.endpointsByElement=P,t.finaliseConnection=B,t.id="con_"+M();var e=new n(t);return e.isDetachable()&&(e.endpoints[0].initDraggable("_jsPlumbSource"),e.endpoints[1].initDraggable("_jsPlumbTarget")),e},B=r.finaliseConnection=function(t,n,e,i){if(n=n||{},t.suspendedEndpoint||_.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,!1!==i&&r.anchorManager.newConnection(t),L(t.source),!n.doNotFireConnectionEvent&&!1!==n.fireEvent){var o={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};r.fire("connection",o,e)}},G=function(t,n){var e=r.Defaults.EndpointType||p.Endpoint,i=p.extend({},t);i._jsPlumb=r,i.newConnection=U,i.newEndpoint=G,i.endpointsByUUID=x,i.endpointsByElement=P,i.fireDetachEvent=X,i.elementId=n||z(i.source);var o=new e(i);return o.id="ep_"+M(),it(i.elementId,i.source),p.headless||r.getDragManager().endpointAdded(i.source,n),o},N=function(t,n,e){var i=P[t];if(i&&i.length)for(var r=0,o=i.length;r<o;r++){for(var s=0,a=i[r].connections.length;s<a;s++){if(n(i[r].connections[s]))return}e&&e(i[r])}},W=function(t,n,e){n="block"===n;var i=null;e&&(i=function(t){t.setVisible(n,!0,!0)});var r=d(t);N(r.id,function(t){if(n&&e){var i=t.sourceId===r.id?1:0;t.endpoints[i].isVisible()&&t.setVisible(!0)}else t.setVisible(n)},i)},z=function(t,n,i){if(e.isString(t))return t;if(null==t)return null;var o=r.getAttribute(t,"id");return o&&"undefined"!==o||(2===arguments.length&&void 0!==arguments[1]?o=n:(1===arguments.length||3===arguments.length&&!arguments[2])&&(o="jsPlumb_"+s+"_"+M()),i||r.setAttribute(t,"id",o)),o};this.setConnectionBeingDragged=function(t){w=t},this.isConnectionBeingDragged=function(){return w},this.getManagedElements=function(){return C},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,n,i){i=i||{};var o=p.extend({},i);p.extend(o,n),o.endpoint=o.endpoint||r.Defaults.Endpoint,o.paintStyle=o.paintStyle||r.Defaults.EndpointStyle;for(var s=[],a=e.isArray(t)||null!=t.length&&!e.isString(t)?t:[t],u=0,l=a.length;u<l;u++){o.source=r.getElement(a[u]),et(o.source);var c=z(o.source),h=G(o,c),f=it(c,o.source).info.o;e.addToList(P,c,h),I||h.paint({anchorLoc:h.anchor.compute({xy:[f.left,f.top],wh:D[c],element:h,timestamp:A}),timestamp:A}),s.push(h)}return 1===s.length?s[0]:s},this.addEndpoints=function(t,n,i){for(var o=[],s=0,a=n.length;s<a;s++){var u=r.addEndpoint(t,n[s],i);e.isArray(u)?Array.prototype.push.apply(o,u):o.push(u)}return o},this.animate=function(t,n,i){if(!this.animationSupported)return!1;i=i||{};var o=r.getElement(t),s=z(o),a=p.animEvents.step,u=p.animEvents.complete;i[a]=e.wrap(i[a],function(){r.revalidate(s)}),i[u]=e.wrap(i[u],function(){r.revalidate(s)}),r.doAnimate(o,n,i)},this.checkCondition=function(t,n){var i=r.getListener(t),o=!0;if(i&&i.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var a=0,u=i.length;a<u;a++)o=o&&i[a].apply(i[a],s)}catch(n){e.log(r,"cannot check condition ["+t+"]"+n)}}return o},this.connect=function(t,n){var i,r=R(t,n);if(r){if(null==r.source&&null==r.sourceEndpoint)return void e.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void e.log("Cannot establish connection - target does not exist");et(r.source),i=U(r),B(i,r)}return i};var Y=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],H=function(t,n,e,i){var r,o,s,a=Y[e],u=t[a.elId],l=(t[a.el],t.endpoints[e]),c={index:e,originalSourceId:0===e?u:t.sourceId,newSourceId:t.sourceId,originalTargetId:1===e?u:t.targetId,newTargetId:t.targetId,connection:t};if(n.constructor===p.Endpoint)(r=n).addConnection(t),n=r.element;else if(o=z(n),s=this[a.epDefs][o],o===t[a.elId])r=null;else if(s)for(var h in s){if(!s[h].enabled)return;r=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(n,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=r),r.addConnection(t)}else r=t.makeEndpoint(0===e,n,o);return null!=r&&(l.detachFromConnection(t),t.endpoints[e]=r,t[a.el]=r.element,t[a.elId]=r.elementId,c[0===e?"newSourceId":"newTargetId"]=r.elementId,V(c),i||t.repaint()),c.element=n,c}.bind(this);this.setSource=function(t,n,e){var i=H(t,n,0,e);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,t,i.el)},this.setTarget=function(t,n,e){var i=H(t,n,1,e);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,t)},this.deleteEndpoint=function(t,n,e){var i="string"==typeof t?x[t]:t;return i&&r.deleteObject({endpoint:i,dontUpdateHover:n,deleteAttachedObjects:e}),r},this.deleteEveryEndpoint=function(){var t=r.setSuspendDrawing(!0);for(var n in P){var e=P[n];if(e&&e.length)for(var i=0,o=e.length;i<o;i++)r.deleteEndpoint(e[i],!0)}P={},C={},x={},E={},j={},r.anchorManager.reset();var s=r.getDragManager();return s&&s.reset(),t||r.setSuspendDrawing(!1),r};var X=function(t,n,e){var i=r.Defaults.ConnectionType||r.getDefaultConnectionType(),o=t.constructor===i?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;n&&r.fire("connectionDetached",o,e),r.fire("internal.connectionDetached",o,e),r.anchorManager.connectionDetached(o)},V=r.fireMoveEvent=function(t,n){r.fire("connectionMoved",t,n)};this.unregisterEndpoint=function(t){for(var n in t._jsPlumb.uuid&&(x[t._jsPlumb.uuid]=null),r.anchorManager.deleteEndpoint(t),P){var e=P[n];if(e){for(var i=[],o=0,s=e.length;o<s;o++)e[o]!==t&&i.push(e[o]);P[n]=i}P[n].length<1&&delete P[n]}};this.deleteConnection=function(t,n){return!(null==t||!(n=n||{}).force&&!e.functionChain(!0,!1,[[t.endpoints[0],"isDetachAllowed",[t]],[t.endpoints[1],"isDetachAllowed",[t]],[t,"isDetachAllowed",[t]],[r,"checkCondition",["beforeDetach",t]]]))&&(t.setHover(!1),X(t,!t.pending&&!1!==n.fireEvent,n.originalEvent),t.endpoints[0].detachFromConnection(t),t.endpoints[1].detachFromConnection(t),e.removeWithFunction(_,function(n){return t.id===n.id}),t.cleanup(),t.destroy(),!0)},this.deleteEveryConnection=function(t){t=t||{};var n=_.length,e=0;return r.batch(function(){for(var i=0;i<n;i++)e+=r.deleteConnection(_[0],t)?1:0}),e},this.deleteConnectionsForElement=function(t,n){n=n||{},t=r.getElement(t);var e=z(t),i=P[e];if(i&&i.length)for(var o=0,s=i.length;o<s;o++)i[o].deleteEveryConnection(n);return r},this.deleteObject=function(t){var n={endpoints:{},connections:{},endpointCount:0,connectionCount:0},i=!1!==t.deleteAttachedObjects,o=function(e){null!=e&&null==n.connections[e.id]&&(t.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),n.connections[e.id]=e,n.connectionCount++)};for(var s in t.connection?o(t.connection):function(e){if(null!=e&&null==n.endpoints[e.id]&&(t.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),n.endpoints[e.id]=e,n.endpointCount++,i))for(var r=0;r<e.connections.length;r++){var s=e.connections[r];o(s)}}(t.endpoint),n.connections){var a=n.connections[s];if(a._jsPlumb){e.removeWithFunction(_,function(t){return a.id===t.id}),X(a,!1!==t.fireEvent&&!a.pending,t.originalEvent);var u=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;a.endpoints[0].detachFromConnection(a,null,u),a.endpoints[1].detachFromConnection(a,null,u),a.cleanup(!0),a.destroy(!0)}}for(var l in n.endpoints){var c=n.endpoints[l];c._jsPlumb&&(r.unregisterEndpoint(c),c.cleanup(!0),c.destroy(!0))}return n},this.draggable=function(t,n){var i;return u(function(t){(i=d(t)).el&&function(t,n,i,o,s){if(!p.headless&&null!=n&&n&&p.isDragSupported(t,r)){var a=i||r.Defaults.DragOptions;if(a=p.extend({},a),p.isAlreadyDraggable(t,r))i.force&&r.initDraggable(t,a);else{var u=p.dragEvents.drag,l=p.dragEvents.stop,c=p.dragEvents.start,h=!1;it(o,t),a[c]=e.wrap(a[c],function(){if(r.setHoverSuspended(!0),r.select({source:t}).addClass(r.elementDraggingClass+" "+r.sourceElementDraggingClass,!0),r.select({target:t}).addClass(r.elementDraggingClass+" "+r.targetElementDraggingClass,!0),r.setConnectionBeingDragged(!0),a.canDrag)return i.canDrag()},!1),a[u]=e.wrap(a[u],function(){var n=r.getUIPosition(arguments,r.getZoom());null!=n&&(L(t,n,null,!0),h&&r.addClass(t,"jtk-dragged"),h=!0)}),a[l]=e.wrap(a[l],function(){for(var t,n,e=arguments[0].selection,i=0;i<e.length;i++)null!=(n=e[i])[1]&&(t=r.getUIPosition([{el:n[2].el,pos:[n[1].left,n[1].top]}]),L(n[2].el,t)),r.removeClass(n[0],"jtk-dragged"),r.select({source:n[2].el}).removeClass(r.elementDraggingClass+" "+r.sourceElementDraggingClass,!0),r.select({target:n[2].el}).removeClass(r.elementDraggingClass+" "+r.targetElementDraggingClass,!0),r.getDragManager().dragEnded(n[2].el);h=!1,r.setHoverSuspended(!1),r.setConnectionBeingDragged(!1)});var f=z(t);S[f]=!0;var d=S[f];a.disabled=null!=d&&!d,r.initDraggable(t,a),r.getDragManager().register(t),s&&r.fire("elementDraggable",{el:t,options:a})}}}(i.el,!0,n,i.id,!0)},t),r},this.droppable=function(t,n){var e;return(n=n||{}).allowLoopback=!1,u(function(t){(e=d(t)).el&&r.initDroppable(e.el,n)},t),r};var $=function(t,n,e){return function(){return function(t,n,e,i){for(var r=0,o=t.length;r<o;r++)t[r][n].apply(t[r],e);return i(t)}(t,n,arguments,e)}},q=function(t,n){return function(){return function(t,n,e){for(var i=[],r=0,o=t.length;r<o;r++)i.push([t[r][n].apply(t[r],e),t[r]]);return i}(t,n,arguments)}},K=function(t,n){var e=[];if(t)if("string"==typeof t){if("*"===t)return t;e.push(t)}else if(n)e=t;else if(t.length)for(var i=0,r=t.length;i<r;i++)e.push(d(t[i]).id);else e.push(d(t).id);return e},Z=function(t,n,e){return"*"===t||(t.length>0?-1!==t.indexOf(n):!e)};this.getConnections=function(t,n){t?t.constructor===String&&(t={scope:t}):t={};for(var e=t.scope||r.getDefaultScope(),i=K(e,!0),o=K(t.source),s=K(t.target),a=!n&&i.length>1?{}:[],u=function(t,e){if(!n&&i.length>1){var r=a[t];null==r&&(r=a[t]=[]),r.push(e)}else a.push(e)},l=0,c=_.length;l<c;l++){var h=_[l],f=h.proxies&&h.proxies[0]?h.proxies[0].originalEp.elementId:h.sourceId,d=h.proxies&&h.proxies[1]?h.proxies[1].originalEp.elementId:h.targetId;Z(i,h.scope)&&Z(o,f)&&Z(s,d)&&u(h.scope,h)}return a};var J=function(t,n){var e,i,r={length:t.length,each:function(t,n){return function(e){for(var i=0,r=t.length;i<r;i++)e(t[i]);return n(t)}}(t,n),get:function(t){return function(n){return t[n]}}(t)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(e=0,i=o.length;e<i;e++)r[o[e]]=$(t,o[e],n);for(e=0,i=s.length;e<i;e++)r[s[e]]=q(t,s[e]);return r},Q=function(t){var n=J(t,Q);return p.extend(n,{setDetachable:$(t,"setDetachable",Q),setReattach:$(t,"setReattach",Q),setConnector:$(t,"setConnector",Q),delete:function(){for(var n=0,e=t.length;n<e;n++)r.deleteConnection(t[n])},isDetachable:q(t,"isDetachable"),isReattach:q(t,"isReattach")})},tt=function(t){var n=J(t,tt);return p.extend(n,{setEnabled:$(t,"setEnabled",tt),setAnchor:$(t,"setAnchor",tt),isEnabled:q(t,"isEnabled"),deleteEveryConnection:function(){for(var n=0,e=t.length;n<e;n++)t[n].deleteEveryConnection()},delete:function(){for(var n=0,e=t.length;n<e;n++)r.deleteEndpoint(t[n])}})};this.select=function(t){return(t=t||{}).scope=t.scope||"*",Q(t.connections||r.getConnections(t,!0))},this.selectEndpoints=function(t){(t=t||{}).scope=t.scope||"*";var n=!t.element&&!t.source&&!t.target,e=n?"*":K(t.element),i=n?"*":K(t.source),r=n?"*":K(t.target),o=K(t.scope,!0),s=[];for(var a in P){var u=Z(e,a,!0),l=Z(i,a,!0),c="*"!==i,h=Z(r,a,!0),f="*"!==r;if(u||l||h)t:for(var d=0,p=P[a].length;d<p;d++){var g=P[a][d];if(Z(o,g.scope,!0)){var v=c&&i.length>0&&!g.isSource,m=f&&r.length>0&&!g.isTarget;if(v||m)continue t;s.push(g)}}}return tt(s)},this.getAllConnections=function(){return _},this.getDefaultScope=function(){return k},this.getEndpoint=F,this.getEndpoints=function(t){return P[d(t).id]||[]},this.getDefaultEndpointType=function(){return p.Endpoint},this.getDefaultConnectionType=function(){return p.Connection},this.getId=z,this.appendElement=T;var nt=!1;this.isHoverSuspended=function(){return nt},this.setHoverSuspended=function(t){nt=t},this.hide=function(t,n){return W(t,"none",n),r},this.idstamp=M;var et=function(t){if(!v&&t){var n=r.getElement(t);n.offsetParent&&r.setContainer(n.offsetParent)}},it=r.manage=function(t,n,e){return C[t]||(C[t]={el:n,endpoints:[],connections:[]},C[t].info=rt({elId:t,timestamp:A}),e||r.fire("manageElement",{id:t,info:C[t].info,el:n})),C[t]},rt=function(t){var n,e=t.timestamp,i=t.recalc,o=t.offset,s=t.elId;return I&&!e&&(e=A),!i&&e&&e===j[s]?{o:t.offset||E[s],s:D[s]}:(i||!o&&null==E[s]?null!=(n=C[s]?C[s].el:null)&&(D[s]=r.getSize(n),E[s]=r.getOffset(n),j[s]=e):(E[s]=o||E[s],null==D[s]&&null!=(n=C[s].el)&&(D[s]=r.getSize(n)),j[s]=e),E[s]&&!E[s].right&&(E[s].right=E[s].left+D[s][0],E[s].bottom=E[s].top+D[s][1],E[s].width=D[s][0],E[s].height=D[s][1],E[s].centerx=E[s].left+E[s].width/2,E[s].centery=E[s].top+E[s].height/2),{o:E[s],s:D[s]})};this.updateOffset=rt,this.init=function(){b||(r.Defaults.Container&&r.setContainer(r.Defaults.Container),r.anchorManager=new t.jsPlumb.AnchorManager({jsPlumbInstance:r}),b=!0,r.fire("ready",r))}.bind(this),this.log=y,this.jsPlumbUIComponent=c,this.makeAnchor=function(){var n,i=function(n,e){if(t.jsPlumb.Anchors[n])return new t.jsPlumb.Anchors[n](e);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+n+"'"}};if(0===arguments.length)return null;var o=arguments[0],s=arguments[1],a=(arguments[2],null);if(o.compute&&o.getOrientation)return o;if("string"==typeof o)a=i(arguments[0],{elementId:s,jsPlumbInstance:r});else if(e.isArray(o))if(e.isArray(o[0])||e.isString(o[0]))2===o.length&&e.isObject(o[1])?e.isString(o[0])?(n=t.jsPlumb.extend({elementId:s,jsPlumbInstance:r},o[1]),a=i(o[0],n)):(n=t.jsPlumb.extend({elementId:s,jsPlumbInstance:r,anchors:o[0]},o[1]),a=new t.jsPlumb.DynamicAnchor(n)):a=new p.DynamicAnchor({anchors:o,selector:null,elementId:s,jsPlumbInstance:r});else{var u={x:o[0],y:o[1],orientation:o.length>=4?[o[2],o[3]]:[0,0],offsets:o.length>=6?[o[4],o[5]]:[0,0],elementId:s,jsPlumbInstance:r,cssClass:7===o.length?o[6]:null};(a=new t.jsPlumb.Anchor(u)).clone=function(){return new t.jsPlumb.Anchor(u)}}return a.id||(a.id="anchor_"+M()),a},this.makeAnchors=function(n,i,o){for(var s=[],a=0,u=n.length;a<u;a++)"string"==typeof n[a]?s.push(t.jsPlumb.Anchors[n[a]]({elementId:i,jsPlumbInstance:o})):e.isArray(n[a])&&s.push(r.makeAnchor(n[a],i,o));return s},this.makeDynamicAnchor=function(n,e){return new t.jsPlumb.DynamicAnchor({anchors:n,selector:e,elementId:null,jsPlumbInstance:r})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var ot=function(n,i,o,s,a){var u=new c(i),l=i._jsPlumb.EndpointDropHandler({jsPlumb:r,enabled:function(){return n.def.enabled},isFull:function(){var t=r.select({target:n.id}).length;return n.def.maxConnections>0&&t>=n.def.maxConnections},element:n.el,elementId:n.id,isSource:s,isTarget:a,addClass:function(t){r.addClass(n.el,t)},removeClass:function(t){r.removeClass(n.el,t)},onDrop:function(t){t.endpoints[0].anchor.unlock()},isDropAllowed:function(){return u.isDropAllowed.apply(u,arguments)},isRedrop:function(t){return null!=t.suspendedElement&&null!=t.suspendedEndpoint&&t.suspendedEndpoint.element===n.el},getEndpoint:function(e){var o=n.def.endpoint;if(null==o||null==o._jsPlumb){var s=r.deriveEndpointAndAnchorSpec(e.getType().join(" "),!0),a=s.endpoints?t.jsPlumb.extend(i,{endpoint:n.def.def.endpoint||s.endpoints[1]}):i;s.anchors&&(a=t.jsPlumb.extend(a,{anchor:n.def.def.anchor||s.anchors[1]})),(o=r.addEndpoint(n.el,a))._mtNew=!0}if(i.uniqueEndpoint&&(n.def.endpoint=o),o.setDeleteOnEmpty(!0),e.isDetachable()&&o.initDraggable(),null!=o.anchor.positionFinder){var u=r.getUIPosition(arguments,r.getZoom()),l=r.getOffset(n.el),c=r.getSize(n.el),h=null==u?[0,0]:o.anchor.positionFinder(u,l,c,o.anchor.constructorParams);o.anchor.x=h[0],o.anchor.y=h[1]}return o},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?r.deleteObject({endpoint:t}):delete t._mtNew}}),h=t.jsPlumb.dragEvents.drop;return o.scope=o.scope||i.scope||r.Defaults.Scope,o[h]=e.wrap(o[h],l,!0),o.rank=i.rank||0,a&&(o[t.jsPlumb.dragEvents.over]=function(){return!0}),!1===i.allowLoopback&&(o.canDrop=function(t){return t.getDragElement()._jsPlumbRelatedElement!==n.el}),r.initDroppable(n.el,o,"internal"),l};this.makeTarget=function(n,e,i){var o=t.jsPlumb.extend({_jsPlumb:this},i);t.jsPlumb.extend(o,e);for(var s=o.maxConnections||-1,a=function(n){var e=d(n),i=e.id,a=t.jsPlumb.extend({},o.dropOptions||{}),u=o.connectionType||"default";this.targetEndpointDefinitions[i]=this.targetEndpointDefinitions[i]||{},et(i),e.el._isJsPlumbGroup&&null==a.rank&&(a.rank=-1);var l={def:t.jsPlumb.extend({},o),uniqueEndpoint:o.uniqueEndpoint,maxConnections:s,enabled:!0};o.createEndpoint&&(l.uniqueEndpoint=!0,l.endpoint=r.addEndpoint(n,l.def),l.endpoint.setDeleteOnEmpty(!1)),e.def=l,this.targetEndpointDefinitions[i][u]=l,ot(e,o,a,!0===o.isSource,!0),e.el._katavorioDrop[e.el._katavorioDrop.length-1].targetDef=l}.bind(this),u=n.length&&n.constructor!==String?n:[n],l=0,c=u.length;l<c;l++)a(u[l]);return this},this.unmakeTarget=function(t,n){var e=d(t);return r.destroyDroppable(e.el,"internal"),n||delete this.targetEndpointDefinitions[e.id],this},this.makeSource=function(n,i,o){var s=t.jsPlumb.extend({_jsPlumb:this},o);t.jsPlumb.extend(s,i);var a=s.connectionType||"default",u=r.deriveEndpointAndAnchorSpec(a);s.endpoint=s.endpoint||u.endpoints[0],s.anchor=s.anchor||u.anchors[0];for(var l=s.maxConnections||-1,c=s.onMaxConnections,f=function(i){var o=i.id,u=this.getElement(i.el);this.sourceEndpointDefinitions[o]=this.sourceEndpointDefinitions[o]||{},et(o);var f={def:t.jsPlumb.extend({},s),uniqueEndpoint:s.uniqueEndpoint,maxConnections:l,enabled:!0};s.createEndpoint&&(f.uniqueEndpoint=!0,f.endpoint=r.addEndpoint(n,f.def),f.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[o][a]=f,i.def=f;var d=t.jsPlumb.dragEvents.stop,p=t.jsPlumb.dragEvents.drag,g=t.jsPlumb.extend({},s.dragOptions||{}),v=g.drag,m=g.stop,y=null,b=!1;g.scope=g.scope||s.scope,g[p]=e.wrap(g[p],function(){v&&v.apply(this,arguments),b=!1}),g[d]=e.wrap(g[d],function(){if(m&&m.apply(this,arguments),this.currentlyDragging=!1,null!=y._jsPlumb){var t=s.anchor||this.Defaults.Anchor,n=y.anchor,e=y.connections[0],i=this.makeAnchor(t,o,this),a=y.element;if(null!=i.positionFinder){var u=r.getOffset(a),l=this.getSize(a),c={left:u.left+n.x*l[0],top:u.top+n.y*l[1]},h=i.positionFinder(c,u,l,i.constructorParams);i.x=h[0],i.y=h[1]}y.setAnchor(i,!0),y.repaint(),this.repaint(y.elementId),null!=e&&this.repaint(e.targetId)}}.bind(this));var _=function(n){if(3!==n.which&&2!==n.button){var f=this.sourceEndpointDefinitions[o][a];if(f.enabled){if(o=this.getId(this.getElement(i.el)),s.filter)if(!1===(e.isString(s.filter)?function(t,n,e,i,r){for(var o=t.target||t.srcElement,s=!1,a=i.getSelector(n,e),u=0;u<a.length;u++)if(a[u]===o){s=!0;break}return r?!s:s}(n,i.el,s.filter,this,s.filterExclude):s.filter(n,i.el)))return;var d=this.select({source:o}).length;if(f.maxConnections>=0&&d>=f.maxConnections)return c&&c({element:i.el,maxConnections:l},n),!1;var p=t.jsPlumb.getPositionOnElement(n,u,h),v={};t.jsPlumb.extend(v,s),v.isTemporarySource=!0,v.anchor=[p[0],p[1],0,0],v.dragOptions=g,f.def.scope&&(v.scope=f.def.scope),y=this.addEndpoint(o,v),b=!0,y.setDeleteOnEmpty(!0),f.uniqueEndpoint&&(f.endpoint?y.finalEndpoint=f.endpoint:(f.endpoint=y,y.setDeleteOnEmpty(!1)));var m=function(){r.off(y.canvas,"mouseup",m),r.off(i.el,"mouseup",m),b&&(b=!1,r.deleteEndpoint(y))};r.on(y.canvas,"mouseup",m),r.on(i.el,"mouseup",m);var _={};if(f.def.extract)for(var P in f.def.extract){var x=(n.srcElement||n.target).getAttribute(P);x&&(_[f.def.extract[P]]=x)}r.trigger(y.canvas,"mousedown",n,_),e.consume(n)}}}.bind(this);this.on(i.el,"mousedown",_),f.trigger=_,s.filter&&(e.isString(s.filter)||e.isFunction(s.filter))&&r.setDragFilter(i.el,s.filter);var P=t.jsPlumb.extend({},s.dropOptions||{});ot(i,s,P,!0,!0===s.isTarget)}.bind(this),p=n.length&&n.constructor!==String?n:[n],g=0,v=p.length;g<v;g++)f(d(p[g]));return this},this.unmakeSource=function(t,n,e){var i=d(t);r.destroyDroppable(i.el,"internal");var o=this.sourceEndpointDefinitions[i.id];if(o)for(var s in o)if(null==n||n===s){var a=o[s].trigger;a&&r.off(i.el,"mousedown",a),e||delete this.sourceEndpointDefinitions[i.id][s]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)r.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var st=function(t,n,i){n=e.isArray(n)?n:[n];var r=z(t);i=i||"default";for(var o=0;o<n.length;o++){var s=this[n[o]][r];if(s&&s[i])return s[i].def.scope||this.Defaults.Scope}}.bind(this),at=function(t,n,i,r){i=e.isArray(i)?i:[i];var o=z(t);r=r||"default";for(var s=0;s<i.length;s++){var a=this[i[s]][o];a&&a[r]&&(a[r].def.scope=n)}}.bind(this);this.getScope=function(t,n){return st(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return st(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return st(t,"targetEndpointDefinitions")},this.setScope=function(t,n,e){this.setSourceScope(t,n,e),this.setTargetScope(t,n,e)},this.setSourceScope=function(t,n,e){at(t,n,"sourceEndpointDefinitions",e),this.setDragScope(t,n)},this.setTargetScope=function(t,n,e){at(t,n,"targetEndpointDefinitions",e),this.setDropScope(t,n)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)r.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var ut=function(t,n,i,o,s){var a,u,l,c="source"===t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",n.length&&!e.isString(n)){a=[];for(var h=0,f=n.length;h<f;h++)c[(u=d(n[h])).id]&&c[u.id][s]&&(a[h]=c[u.id][s].enabled,l=o?!a[h]:i,c[u.id][s].enabled=l,r[l?"removeClass":"addClass"](u.el,"jtk-"+t+"-disabled"))}else{var p=(u=d(n)).id;c[p]&&c[p][s]&&(a=c[p][s].enabled,l=o?!a:i,c[p][s].enabled=l,r[l?"removeClass":"addClass"](u.el,"jtk-"+t+"-disabled"))}return a}.bind(this),lt=function(t,n){return e.isString(t)||!t.length?n.apply(this,[t]):t.length?n.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t,n){return ut("source",t,null,!0,n),this.isSourceEnabled(t,n)},this.setSourceEnabled=function(t,n,e){return ut("source",t,n,null,e)},this.isSource=function(t,n){return n=n||"default",lt(t,function(t){var e=this.sourceEndpointDefinitions[d(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isSourceEnabled=function(t,n){return n=n||"default",lt(t,function(t){var e=this.sourceEndpointDefinitions[d(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.toggleTargetEnabled=function(t,n){return ut("target",t,null,!0,n),this.isTargetEnabled(t,n)},this.isTarget=function(t,n){return n=n||"default",lt(t,function(t){var e=this.targetEndpointDefinitions[d(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isTargetEnabled=function(t,n){return n=n||"default",lt(t,function(t){var e=this.targetEndpointDefinitions[d(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.setTargetEnabled=function(t,n,e){return ut("target",t,n,null,e)},this.ready=function(t){r.bind("ready",t)};var ct=function(t,n){if("object"==typeof t&&t.length)for(var e=0,i=t.length;e<i;e++)n(t[e]);else n(t);return r};this.repaint=function(t,n,e){return ct(t,function(t){L(t,n,e)})},this.revalidate=function(t,n,e){return ct(t,function(t){var i=e?t:r.getId(t);r.updateOffset({elId:i,recalc:!0,timestamp:n});var o=r.getDragManager();o&&o.updateOffsets(i),r.repaint(t)})},this.repaintEverything=function(){var t,n=i();for(t in P)r.updateOffset({elId:t,recalc:!0,timestamp:n});for(t in P)L(t,null,n);return this},this.removeAllEndpoints=function(t,n,e){e=e||[];var i=function(t){var o,s,a=d(t),u=P[a.id];if(u)for(e.push(a),o=0,s=u.length;o<s;o++)r.deleteEndpoint(u[o],!1);if(delete P[a.id],n&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(o=0,s=a.el.childNodes.length;o<s;o++)i(a.el.childNodes[o])};return i(t),this};var ht=function(t,n){r.removeAllEndpoints(t.id,!0,n);for(var e=r.getDragManager(),i=function(t){e&&e.elementRemoved(t.id),r.anchorManager.clearFor(t.id),r.anchorManager.removeFloatingConnection(t.id),r.isSource(t.el)&&r.unmakeSource(t.el),r.isTarget(t.el)&&r.unmakeTarget(t.el),r.destroyDraggable(t.el),r.destroyDroppable(t.el),delete r.floatingConnections[t.id],delete C[t.id],delete E[t.id],t.el&&(r.removeElement(t.el),t.el._jsPlumb=null)},o=1;o<n.length;o++)i(n[o]);i(t)};this.remove=function(t,n){var e=d(t),i=[];return e.text?e.el.parentNode.removeChild(e.el):e.id&&r.batch(function(){ht(e,i)},!0===n),r},this.empty=function(t,n){var e=[],i=function(t,n){var r=d(t);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){for(;r.el.childNodes.length>0;)i(r.el.childNodes[0]);n||ht(r,e)}};return r.batch(function(){i(t,!0)},!1===n),r},this.reset=function(t){r.silently(function(){nt=!1,r.removeAllGroups(),r.removeGroupManager(),r.deleteEveryEndpoint(),t||r.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},_.length=0,this.doReset&&this.doReset()}.bind(this))};var ft=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){r.select().each(ft),r.selectEndpoints().each(ft),P={},x={}},this.setDefaultScope=function(t){return k=t,r},this.setDraggable=function(t,n){return p.each(t,function(t){r.isDragSupported(t)&&(S[r.getAttribute(t,"id")]=n,r.setElementDraggable(t,n))})},this.deriveEndpointAndAnchorSpec=function(t,n){for(var e=((n?"":"default ")+t).split(/[\s]/),i=null,o=null,s=null,a=null,u=0;u<e.length;u++){var l=r.getType(e[u],"connection");l&&(l.endpoints&&(i=l.endpoints),l.endpoint&&(o=l.endpoint),l.anchors&&(a=l.anchors),l.anchor&&(s=l.anchor))}return{endpoints:i||[o,o],anchors:a||[s,s]}},this.setId=function(t,n,i){var r;e.isString(t)?r=t:(t=this.getElement(t),r=this.getId(t));var o=this.getConnections({source:r,scope:"*"},!0),s=this.getConnections({target:r,scope:"*"},!0);n=""+n,i?t=this.getElement(n):(t=this.getElement(r),this.setAttribute(t,"id",n)),P[n]=P[r]||[];for(var a=0,u=P[n].length;a<u;a++)P[n][a].setElementId(n),P[n][a].setReferenceElement(t);delete P[r],this.sourceEndpointDefinitions[n]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[n]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,n);var l=this.getDragManager();l&&l.changeId(r,n),C[n]=C[r],delete C[r];var c=function(e,i,r){for(var o=0,s=e.length;o<s;o++)e[o].endpoints[i].setElementId(n),e[o].endpoints[i].setReferenceElement(t),e[o][r+"Id"]=n,e[o][r]=t};c(o,0,"source"),c(s,1,"target"),this.repaint(n)},this.setDebugLog=function(t){y=t},this.setSuspendDrawing=function(t,n){var e=I;return I=t,A=t?(new Date).getTime():null,n&&this.repaintEverything(),e},this.isSuspendDrawing=function(){return I},this.getSuspendedAt=function(){return A},this.batch=function(t,n){var i=this.isSuspendDrawing();i||this.setSuspendDrawing(!0);try{t()}catch(t){e.log("Function run while suspended failed",t)}i||this.setSuspendDrawing(!1,!n)},this.doWhileSuspended=this.batch,this.getCachedData=function(t){var n=E[t];return n?{o:n,s:D[t]}:rt({elId:t})},this.timestamp=i,this.show=function(t,n){return W(t,"block",n),r},this.toggleVisible=function(t,n){var e=null;n&&(e=function(t){var n=t.isVisible();t.setVisible(!n)}),N(t,function(t){var n=t.isVisible();t.setVisible(!n)},e)},this.toggleDraggable=function(t){var n;return p.each(t,function(t){var e=r.getAttribute(t,"id");return n=!(n=null!=S[e]&&S[e]),S[e]=n,r.setDraggable(t,n),n}.bind(this)),n},this.addListener=this.bind;var dt=[];this.registerFloatingConnection=function(t,n,i){dt[t.id]=n,e.addToList(P,t.id,i)},this.getFloatingConnectionFor=function(t){return dt[t]}};e.extend(t.jsPlumbInstance,e.EventGenerator,{setAttribute:function(t,n,e){this.setAttribute(t,n,e)},getAttribute:function(n,e){return this.getAttribute(t.jsPlumb.getElement(n),e)},convertToFullOverlaySpec:function(t){return e.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||e.uuid(),t},registerConnectionType:function(n,e){if(this._connectionTypes[n]=t.jsPlumb.extend({},e),e.overlays){for(var i={},r=0;r<e.overlays.length;r++){var o=this.convertToFullOverlaySpec(e.overlays[r]);i[o[1].id]=o}this._connectionTypes[n].overlays=i}},registerConnectionTypes:function(t){for(var n in t)this.registerConnectionType(n,t[n])},registerEndpointType:function(n,e){if(this._endpointTypes[n]=t.jsPlumb.extend({},e),e.overlays){for(var i={},r=0;r<e.overlays.length;r++){var o=this.convertToFullOverlaySpec(e.overlays[r]);i[o[1].id]=o}this._endpointTypes[n].overlays=i}},registerEndpointTypes:function(t){for(var n in t)this.registerEndpointType(n,t[n])},getType:function(t,n){return"connection"===n?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,n){this.setId(t,n,!0)},setParent:function(t,n){var e=this.getElement(t),i=this.getId(e),r=this.getElement(n),o=this.getId(r),s=this.getDragManager();e.parentNode.removeChild(e),r.appendChild(e),s&&s.setParent(e,i,r,o)},extend:function(t,n,e){var i;if(e)for(i=0;i<e.length;i++)t[e[i]]=n[e[i]];else for(i in n)t[i]=n[i];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1}});var p=new d;t.jsPlumb=p,p.getInstance=function(t,n){var e=new d(t);if(n)for(var i in n)e[i]=n[i];return e.init(),e},p.each=function(t,n){if(null!=t)if("string"==typeof t)n(p.getElement(t));else if(null!=t.length)for(var e=0;e<t.length;e++)n(p.getElement(t[e]));else n(t)},n.jsPlumb=p}.call("undefined"!=typeof window?window:this),function(){var t=this.jsPlumbUtil,n=function(t,n){if(null==n)return[0,0];var e=s(n),i=o(e,0);return[i[t+"X"],i[t+"Y"]]},e=n.bind(this,"page"),i=n.bind(this,"screen"),r=n.bind(this,"client"),o=function(t,n){return t.item?t.item(n):t[n]},s=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},a=function(t,n,e){var i;n=null==(i=n)?null:i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0!==t.className.baseVal?t.className.baseVal=n:t.className=n;try{var r=t.classList;if(null!=r){for(;r.length>0;)r.remove(r.item(0));for(var o=0;o<e.length;o++)e[o]&&r.add(e[o])}}catch(t){jsPlumbUtil.log("JSPLUMB: cannot set class list",t)}},u=function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},l=function(n,e,i){e=null==e?[]:t.isArray(e)?e:e.split(/\s+/),i=null==i?[]:t.isArray(i)?i:i.split(/\s+/);var r=u(n).split(/\s+/),o=function(t,n){for(var e=0;e<n.length;e++)if(t)-1===r.indexOf(n[e])&&r.push(n[e]);else{var i=r.indexOf(n[e]);-1!==i&&r.splice(i,1)}};o(!0,e),o(!1,i),a(n,r.join(" "),r)};this.jsPlumb.extend(this.jsPlumbInstance.prototype,{headless:!1,pageLocation:e,screenLocation:i,clientLocation:r,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new function(t){var n={},e=[],i={},r={},o={};this.register=function(s){var a,u=t.getId(s);n[u]||(n[u]=s,e.push(s),i[u]={});var l=function(n){if(n)for(var e=0;e<n.childNodes.length;e++)if(3!==n.childNodes[e].nodeType&&8!==n.childNodes[e].nodeType){var c=jsPlumb.getElement(n.childNodes[e]),h=t.getId(n.childNodes[e],null,!0);if(h&&r[h]&&r[h]>0){a||(a=t.getOffset(s));var f=t.getOffset(c);i[u][h]={id:h,offset:{left:f.left-a.left,top:f.top-a.top}},o[h]=u}l(n.childNodes[e])}};l(s)},this.updateOffsets=function(n,e){if(null!=n){e=e||{};var r,s=jsPlumb.getElement(n),a=t.getId(s),u=i[a];if(u)for(var l in u)if(u.hasOwnProperty(l)){var c=jsPlumb.getElement(l),h=e[l]||t.getOffset(c);if(null==c.offsetParent&&null!=i[a][l])continue;r||(r=t.getOffset(s)),i[a][l]={id:l,offset:{left:h.left-r.left,top:h.top-r.top}},o[l]=a}}},this.endpointAdded=function(e,s){s=s||t.getId(e);var a=document.body,u=e.parentNode;for(r[s]=r[s]?r[s]+1:1;null!=u&&u!==a;){var l=t.getId(u,null,!0);if(l&&n[l]){var c=t.getOffset(u);if(null==i[l][s]){var h=t.getOffset(e);i[l][s]={id:s,offset:{left:h.left-c.left,top:h.top-c.top}},o[s]=l}break}u=u.parentNode}},this.endpointDeleted=function(t){if(r[t.elementId]&&(r[t.elementId]--,r[t.elementId]<=0))for(var n in i)i.hasOwnProperty(n)&&i[n]&&(delete i[n][t.elementId],delete o[t.elementId])},this.changeId=function(t,n){i[n]=i[t],i[t]={},o[n]=o[t],o[t]=null},this.getElementsForDraggable=function(t){return i[t]},this.elementRemoved=function(t){var n=o[t];n&&(delete i[n][t],delete o[t])},this.reset=function(){n={},e=[],i={},r={}},this.dragEnded=function(n){if(null!=n.offsetParent){var e=t.getId(n),i=o[e];i&&this.updateOffsets(i)}},this.setParent=function(n,e,r,s,a){var u=o[e];i[s]||(i[s]={});var l=t.getOffset(r),c=a||t.getOffset(n);u&&i[u]&&delete i[u][e],i[s][e]={id:e,offset:{left:c.left-l.left,top:c.top-l.top}},o[e]=s},this.clearParent=function(t,n){var e=o[n];e&&(delete i[e][n],delete o[n])},this.revalidateParent=function(n,e,i){var r=o[e];if(r){var s={};s[e]=i,this.updateOffsets(r,s),t.revalidate(r)}},this.getDragAncestor=function(n){var e=jsPlumb.getElement(n),i=t.getId(e),r=o[i];return r?jsPlumb.getElement(r):null}}(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,n,e,i){return this.createElementNS(null,t,n,e,i)},createElementNS:function(t,n,e,i,r){var o,s=null==t?document.createElement(n):document.createElementNS(t,n);for(o in e=e||{})s.style[o]=e[o];for(o in i&&(s.className=i),r=r||{})s.setAttribute(o,""+r[o]);return s},getAttribute:function(t,n){return null!=t.getAttribute?t.getAttribute(n):null},setAttribute:function(t,n,e){null!=t.setAttribute&&t.setAttribute(n,e)},setAttributes:function(t,n){for(var e in n)n.hasOwnProperty(e)&&t.setAttribute(e,n[e])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:u,addClass:function(t,n){jsPlumb.each(t,function(t){l(t,n)})},hasClass:function(t,n){return(t=jsPlumb.getElement(t)).classList?t.classList.contains(n):-1!==u(t).indexOf(n)},removeClass:function(t,n){jsPlumb.each(t,function(t){l(t,null,n)})},toggleClass:function(t,n){jsPlumb.hasClass(t,n)?jsPlumb.removeClass(t,n):jsPlumb.addClass(t,n)},updateClasses:function(t,n,e){jsPlumb.each(t,function(t){l(t,n,e)})},setClass:function(t,n){null!=n&&jsPlumb.each(t,function(t){a(t,n,n.split(/\s+/))})},setPosition:function(t,n){t.style.left=n.left+"px",t.style.top=n.top+"px"},getPosition:function(t){var n=function(n){var e=t.style[n];return e?e.substring(0,e.length-2):0};return{left:n("left"),top:n("top")}},getStyle:function(t,n){return void 0!==window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(n):t.currentStyle[n]},getSelector:function(t,n){return 1===arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(n)},getOffset:function(t,n,e){t=jsPlumb.getElement(t),e=e||this.getContainer();for(var i={left:t.offsetLeft,top:t.offsetTop},r=n||null!=e&&t!==e&&t.offsetParent!==e?t.offsetParent:null,o=function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(i.left-=t.scrollLeft,i.top-=t.scrollTop)}.bind(this);null!=r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,o(r),r=n?r.offsetParent:r.offsetParent===e?null:r.offsetParent;if(null!=e&&!n&&(e.scrollTop>0||e.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(i.left-=e.scrollLeft,i.top-=e.scrollTop)}return i},getPositionOnElement:function(t,n,e){var i=void 0!==n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,u=o.clientTop||r.clientTop||0,l=o.clientLeft||r.clientLeft||0,c=i.top+s-u+0*e,h=i.left+a-l+0*e,f=jsPlumb.pageLocation(t),d=i.width||n.offsetWidth*e,p=i.height||n.offsetHeight*e;return[(f[0]-h)/d,(f[1]-c)/p]},getAbsolutePosition:function(t){var n=function(n){var e=t.style[n];if(e)return parseFloat(e.substring(0,e.length-2))};return[n("left"),n("top")]},setAbsolutePosition:function(t,n,e,i){e?this.animate(t,{left:"+="+(n[0]-e[0]),top:"+="+(n[1]-e[1])},i):(t.style.left=n[0]+"px",t.style.top=n[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight},getRenderMode:function(){return"svg"}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil;n.OverlayCapableJsPlumbUIComponent=function(n){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},n.label&&(this.getDefaultType().overlays.__label=["Label",{label:n.label,location:n.labelLocation||this.defaultLabelLocation||.5,labelStyle:n.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].setListenerComponent(t)}},n.OverlayCapableJsPlumbUIComponent.applyType=function(t,n){if(n.overlays){var e,i={};for(e in n.overlays){var r=t._jsPlumb.overlays[n.overlays[e][1].id];if(r)r.updateFrom(n.overlays[e][1]),i[n.overlays[e][1].id]=!0;else{var o=t.getCachedTypeItem("overlay",n.overlays[e][1].id);null!=o?(o.reattach(t._jsPlumb.instance,t),o.setVisible(!0),o.updateFrom(n.overlays[e][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(n.overlays[e],!0),i[o.id]=!0}}for(e in t._jsPlumb.overlays)null==i[t._jsPlumb.overlays[e].id]&&t.removeOverlay(t._jsPlumb.overlays[e].id,!0)}},e.extend(n.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t,n){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,i){var r=function(t,i){var r=null;if(e.isArray(i)){var o=i[0],s=n.extend({component:t,_jsPlumb:t._jsPlumb.instance},i[1]);3===i.length&&n.extend(s,i[2]),r=new(n.Overlays[t._jsPlumb.instance.getRenderMode()][o])(s)}else r=i.constructor===String?new(n.Overlays[t._jsPlumb.instance.getRenderMode()][i])({component:t,_jsPlumb:t._jsPlumb.instance}):i;return r.id=r.id||e.uuid(),t.cacheTypeItem("overlay",r,r.id),t._jsPlumb.overlays[r.id]=r,r}(this,t);return i||this.repaint(),r},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var n=this.getOverlay(t);n&&n.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var n=this.getOverlay(t);n&&n.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup&&this._jsPlumb.overlays[n].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},t||this.repaint()},removeOverlay:function(t,n){var e=this._jsPlumb.overlays[t];e&&(e.setVisible(!1),!n&&e.cleanup&&e.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[t])},removeOverlays:function(){for(var t=0,n=arguments.length;t<n;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var n in this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[n].isAppendedAtTopLevel){var e=this._jsPlumb.overlays[n].getElement();e.parentNode.removeChild(e),t.appendChild(e)}},getLabel:function(){var t=this.getOverlay("__label");return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(t){var e=this.getOverlay("__label");e?t.constructor===String||t.constructor===Function?e.setLabel(t):(t.label&&e.setLabel(t.label),t.location&&e.setLocation(t.location)):(e=function(t,e){var i={cssClass:e.cssClass,labelStyle:t.labelStyle,id:"__label",component:t,_jsPlumb:t._jsPlumb.instance},r=n.extend(i,e);return new(n.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(r)}(this,t.constructor===String||t.constructor===Function?{label:t}:t),this._jsPlumb.overlays.__label=e);this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup(t),this._jsPlumb.overlays[n].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,n){this._jsPlumb.overlayPositions[t.id]=n},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,n,e){if(!e)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][t+"Class"](n)},addClass:function(t,n){this._clazzManip("add",t,n)},removeClass:function(t,n){this._clazzManip("remove",t,n)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumb,n=this.jsPlumbUtil,e=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];t.Endpoint=function(i){var r=i._jsPlumb,o=i.newConnection,s=i.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:i.connectionType,maxConnections:null==i.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:i.maxConnections,paintStyle:i.endpointStyle||i.paintStyle||i.style||this._jsPlumb.instance.Defaults.EndpointStyle||t.Defaults.EndpointStyle,hoverPaintStyle:i.endpointHoverStyle||i.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle,connectorStyle:i.connectorStyle,connectorHoverStyle:i.connectorHoverStyle,connectorClass:i.connectorClass,connectorHoverClass:i.connectorHoverClass,connectorOverlays:i.connectorOverlays,connector:i.connector,connectorTooltip:i.connectorTooltip}),this._jsPlumb.enabled=!(!1===i.enabled),this._jsPlumb.visible=!0,this.element=t.getElement(i.source),this._jsPlumb.uuid=i.uuid,this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(i.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=i.elementId,this.dragProxy=i.dragProxy,this._jsPlumb.connectionCost=i.connectionCost,this._jsPlumb.connectionsDirected=i.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var a=!0===i.deleteOnEmpty;this.setDeleteOnEmpty=function(t){a=t};var u=function(){var n=r.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var e=r.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(n),this.addClass(e),t.updateClasses(this.element,e,n)}.bind(this);this.prepareAnchor=function(t){var n=this._jsPlumb.instance.makeAnchor(t,this.elementId,r);return n.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),u()}.bind(this)),n},this.setPreparedAnchor=function(t,n){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,u(),n||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,n){var e=this.prepareAnchor(t);return this.setPreparedAnchor(e,n),this};var l=function(t){if(this.connections.length>0)for(var n=0;n<this.connections.length;n++)this.connections[n].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",function(){l(!0)}),this.bind("mouseout",function(){l(!1)}),i._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(e,o){var s,a=function(n,e){var i=r.getRenderMode();if(t.Endpoints[i][n])return new t.Endpoints[i][n](e);if(!r.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+n+"'"}},u={_jsPlumb:this._jsPlumb.instance,cssClass:i.cssClass,container:i.container,tooltip:i.tooltip,connectorTooltip:i.connectorTooltip,endpoint:this};return n.isString(e)?s=a(e,u):n.isArray(e)?(u=n.merge(e[1],u),s=a(e[0],u)):s=e.clone(),s.clone=function(){return n.isString(e)?a(e,u):n.isArray(e)?(u=n.merge(e[1],u),a(e[0],u)):void 0}.bind(this),s.typeId=o,s},this.setEndpoint=function(t,n){var e=this.prepareEndpoint(t);this.setPreparedEndpoint(e,!0)},this.setPreparedEndpoint=function(t,n){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},t.extend(this,i,e),this.isSource=i.isSource||!1,this.isTemporarySource=i.isTemporarySource||!1,this.isTarget=i.isTarget||!1,this.connections=i.connections||[],this.connectorPointerEvents=i["connector-pointer-events"],this.scope=i.scope||r.getDefaultScope(),this.timestamp=null,this.reattachConnections=i.reattach||r.Defaults.ReattachConnections,this.connectionsDetachable=r.Defaults.ConnectionsDetachable,!1!==i.connectionsDetachable&&!1!==i.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==i.dragAllowedWhenFull,i.onMaxConnections&&this.bind("maxConnections",i.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](r.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](r.endpointFullClass)},this.detachFromConnection=function(t,n,e){(n=null==n?this.connections.indexOf(t):n)>=0&&(this.connections.splice(n,1),this[(this.connections.length>0?"add":"remove")+"Class"](r.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](r.endpointFullClass)),!e&&a&&0===this.connections.length&&r.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==e})},this.deleteEveryConnection=function(t){for(var n=this.connections.length,e=0;e<n;e++)r.deleteConnection(this.connections[0],t)},this.detachFrom=function(t,n,e){for(var i=[],o=0;o<this.connections.length;o++)this.connections[o].endpoints[1]!==t&&this.connections[o].endpoints[0]!==t||i.push(this.connections[o]);for(var s=0,a=i.length;s<a;s++)r.deleteConnection(i[0]);return this},this.getElement=function(){return this.element},this.setElement=function(e){var o=this._jsPlumb.instance.getId(e),s=this.elementId;return n.removeWithFunction(i.endpointsByElement[this.elementId],function(t){return t.id===this.id}.bind(this)),this.element=t.getElement(e),this.elementId=r.getId(this.element),r.anchorManager.rehomeEndpoint(this,s,this.element),r.dragManager.endpointAdded(this.element),n.addToList(i.endpointsByElement,o,this),this},this.makeInPlaceCopy=function(){var t=this.anchor.getCurrentLocation({element:this}),n=this.anchor.getOrientation(this),e=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[t[0],t[1]]},getCurrentLocation:function(){return[t[0],t[1]]},getOrientation:function(){return n},getCssClass:function(){return e}};return s({dropOptions:i.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:i.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(t){var n=(t=t||{}).timestamp,e=!(!1===t.recalc);if(!n||this.timestamp!==n){var i=r.updateOffset({elId:this.elementId,timestamp:n}),o=t.offset?t.offset.o:i.o;if(null!=o){var s=t.anchorPoint,a=t.connectorPaintStyle;if(null==s){var u=t.dimensions||i.s,l={xy:[o.left,o.top],wh:u,element:this,timestamp:n};if(e&&this.anchor.isDynamic&&this.connections.length>0){var c=function(t,n){var e=0;if(null!=n)for(var i=0;i<t.connections.length;i++)if(t.connections[i].sourceId===n||t.connections[i].targetId===n){e=i;break}return t.connections[e]}(this,t.elementWithPrecedence),h=c.endpoints[0]===this?1:0,f=0===h?c.sourceId:c.targetId,d=r.getCachedData(f),p=d.o,g=d.s;l.index=0===h?1:0,l.connection=c,l.txy=[p.left,p.top],l.twh=g,l.tElement=c.endpoints[h]}else this.connections.length>0&&(l.connection=this.connections[0]);s=this.anchor.compute(l)}for(var v in this.endpoint.compute(s,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=n,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var m=this._jsPlumb.overlays[v];m.isVisible()&&(this._jsPlumb.overlayPlacements[v]=m.draw(this.endpoint,this._jsPlumb.paintStyleInUse),m.paint(this._jsPlumb.overlayPlacements[v]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var c=!1;this.initDraggable=function(){if(!c&&t.isDragSupported(this.element)){var e,a={id:null,element:null},u=null,l=!1,h=null,f=function(t,n,e){var i=!1;return{drag:function(){if(i)return i=!1,!0;if(n.element){var r=e.getUIPosition(arguments,e.getZoom());null!=r&&e.setPosition(n.element,r),e.repaint(n.element,r),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t})})}},stopDrag:function(){i=!0}}}(this,a,r),d=i.dragOptions||{},p=t.dragEvents.start,g=t.dragEvents.stop,v=t.dragEvents.drag,m=t.dragEvents.beforeStart,y=function(n){u=this.connectorSelector();var c=!0;this.isEnabled()||(c=!1),null!=u||this.isSource||this.isTemporarySource||(c=!1),!this.isSource||!this.isFull()||null!=u&&this.dragAllowedWhenFull||(c=!1),null==u||u.isDetachable(this)||(this.isFull()?c=!1:u=null);var d=r.checkCondition(null==u?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:u});if(!1===d?c=!1:"object"==typeof d?t.extend(d,e||{}):d=e||{},!1===c)return r.stopDrag&&r.stopDrag(this.canvas),f.stopDrag(),!1;for(var p=0;p<this.connections.length;p++)this.connections[p].setHover(!1);this.addClass("endpointDrag"),r.setConnectionBeingDragged(!0),u&&!this.isFull()&&this.isSource&&(u=null),r.updateOffset({elId:this.elementId});var g=this._jsPlumb.instance.getOffset(this.canvas),v=this.canvas,m=this._jsPlumb.instance.getSize(this.canvas);!function(t,n,e,i){var r=n.createElement("div",{position:"absolute"});n.appendElement(r);var o=n.getId(r);n.setPosition(r,e),r.style.width=i[0]+"px",r.style.height=i[1]+"px",n.manage(o,r,!0),t.id=o,t.element=r}(a,r,g,m),r.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var y=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var b=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);b.endpoints[1]&&(y=b.endpoints[1])}var _=this._jsPlumb.instance.makeAnchor("Center");_.isFloating=!0,this._jsPlumb.floatingEndpoint=function(n,e,i,r,o,s,a,u){return a({paintStyle:n,endpoint:i,anchor:new t.FloatingAnchor({reference:e,referenceCanvas:r,jsPlumbInstance:s}),source:o,scope:u})}(this.getPaintStyle(),_,y,this.canvas,a.element,r,s,this.scope);var P=this._jsPlumb.floatingEndpoint.anchor;if(null==u)this.setHover(!1,!1),(u=o({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:i.connectorStyle,hoverPaintStyle:i.connectorHoverStyle,connector:i.connector,overlays:i.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:i.scope,data:d})).pending=!0,u.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.anchor=P,r.fire("connectionDrag",u),r.anchorManager.newConnection(u);else{l=!0,u.setHover(!1);var x=u.endpoints[0].id===this.id?0:1;this.detachFromConnection(u,null,!0);var C=r.getDragScope(v);r.setAttribute(this.canvas,"originalScope",C),r.fire("connectionDrag",u),0===x?(h=[u.source,u.sourceId,v,C],r.anchorManager.sourceChanged(u.endpoints[x].elementId,a.id,u,a.element)):(h=[u.target,u.targetId,v,C],u.target=a.element,u.targetId=a.id,r.anchorManager.updateOtherEndpoint(u.sourceId,u.endpoints[x].elementId,u.targetId,u)),u.suspendedEndpoint=u.endpoints[x],u.suspendedElement=u.endpoints[x].getElement(),u.suspendedElementId=u.endpoints[x].elementId,u.suspendedElementType=0===x?"source":"target",u.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=u.suspendedEndpoint,u.endpoints[x]=this._jsPlumb.floatingEndpoint,u.addClass(r.draggingClass),this._jsPlumb.floatingEndpoint.addClass(r.draggingClass)}r.registerFloatingConnection(a,u,this._jsPlumb.floatingEndpoint),r.currentlyDragging=!0}.bind(this),b=function(){if(r.setConnectionBeingDragged(!1),u&&null!=u.endpoints){var t=r.getDropEvent(arguments),n=r.getFloatingAnchorIndex(u);if(u.endpoints[0===n?1:0].anchor.unlock(),u.removeClass(r.draggingClass),this._jsPlumb&&(u.deleteConnectionNow||u.endpoints[n]===this._jsPlumb.floatingEndpoint)&&l&&u.suspendedEndpoint){0===n?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=h[0],u.sourceId=h[1]):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=h[0],u.targetId=h[1]);var e=this._jsPlumb.floatingEndpoint;r.setDragScope(h[2],h[3]),u.endpoints[n]=u.suspendedEndpoint,u.isReattach()||u._forceReattach||u._forceDetach||!r.deleteConnection(u,{originalEvent:t})?(u.setHover(!1),u._forceDetach=null,u._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(u),u.suspendedEndpoint.addConnection(u),1===n?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),r.repaint(h[1])):r.deleteObject({endpoint:e})}this.deleteAfterDragStop?r.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),r.fire("connectionDragStop",u,t),u.pending&&r.fire("connectionAborted",u,t),r.currentlyDragging=!1,u.suspendedElement=null,u.suspendedEndpoint=null,u=null}a&&a.element&&r.remove(a.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}.bind(this);(d=t.extend({},d)).scope=this.scope||d.scope,d[m]=n.wrap(d[m],function(t){e=t.e.payload||{}},!1),d[p]=n.wrap(d[p],y,!1),d[v]=n.wrap(d[v],f.drag),d[g]=n.wrap(d[g],b),d.multipleDrop=!1,d.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),r.initDraggable(this.canvas,d,"internal"),this.canvas._jsPlumbRelatedElement=this.element,c=!0}};var h=i.endpoint||this._jsPlumb.instance.Defaults.Endpoint||t.Defaults.Endpoint;this.setEndpoint(h,!0);var f=i.anchor?i.anchor:i.anchors?i.anchors:r.Defaults.Anchor||"Top";this.setAnchor(f,!0);var d=["default",i.type||""].join(" ");this.addType(d,i.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var p=function(e,o,s,a){if(t.isDropSupported(this.element)){var u=i.dropOptions||r.Defaults.DropOptions||t.Defaults.DropOptions;(u=t.extend({},u)).scope=u.scope||this.scope;var l=t.dragEvents.drop,c=t.dragEvents.over,h=t.dragEvents.out,f=this,d=r.EndpointDropHandler({getEndpoint:function(){return f},jsPlumb:r,enabled:function(){return null==s||s.isEnabled()},isFull:function(){return s.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){f.addClass(t)},removeClass:function(t){f.removeClass(t)},isDropAllowed:function(){return f.isDropAllowed.apply(f,arguments)},reference:a,isRedrop:function(t,n){return t.suspendedEndpoint&&n.reference&&t.suspendedEndpoint.id===n.reference.id}});u[l]=n.wrap(u[l],d,!0),u[c]=n.wrap(u[c],function(){var n=t.getDragObject(arguments),e=r.getAttribute(t.getElement(n),"dragId"),i=r.getFloatingConnectionFor(e);if(null!=i){var o=r.getFloatingAnchorIndex(i);if(this.isTarget&&0!==o||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id){var s=r.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[o],targetEndpoint:this,connection:i});this[(s?"add":"remove")+"Class"](r.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](r.endpointDropForbiddenClass),i.endpoints[o].anchor.over(this.anchor,this)}}}.bind(this)),u[h]=n.wrap(u[h],function(){var n=t.getDragObject(arguments),e=null==n?null:r.getAttribute(t.getElement(n),"dragId"),i=e?r.getFloatingConnectionFor(e):null;if(null!=i){var o=r.getFloatingAnchorIndex(i);(this.isTarget&&0!==o||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===i.suspendedEndpoint.id)&&(this.removeClass(r.endpointDropAllowedClass),this.removeClass(r.endpointDropForbiddenClass),i.endpoints[o].anchor.out())}}.bind(this)),r.initDroppable(e,u,"internal",o)}}.bind(this);return this.anchor.isFloating||p(this.canvas,!(i._transient||this.anchor.isFloating),this,i.reference),this},n.extend(t.Endpoint,t.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,n,e){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!n)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(t),!e){var r=this===this.connections[i].endpoints[0]?1:0;1===this.connections[i].endpoints[r].connections.length&&this.connections[i].endpoints[r].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(n,i){this.setPaintStyle(n.endpointStyle||n.paintStyle,i),this.setHoverPaintStyle(n.endpointHoverStyle||n.hoverPaintStyle,i),null!=n.maxConnections&&(this._jsPlumb.maxConnections=n.maxConnections),n.scope&&(this.scope=n.scope),t.extend(this,n,e),null!=n.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,n.cssClass),t.OverlayCapableJsPlumbUIComponent.applyType(this,n)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var n=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");t.removeClass(this.element,n),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var n=!1;if(t)for(var e=0;e<this.connections.length;e++)if(this.connections[e].endpoints[1]===t||this.connections[e].endpoints[0]===t){n=!0;break}return n},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(n){this.element=t.getElement(n)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(e){var i=t.jsPlumb;t.removeClass(i.endpointDropAllowedClass),t.removeClass(i.endpointDropForbiddenClass);var r=i.getDropEvent(arguments),o=i.getDragObject(arguments),s=i.getAttribute(o,"dragId"),a=(i.getAttribute(o,"elId"),i.getAttribute(o,"originalScope")),u=i.getFloatingConnectionFor(s);if(null!=u){var l=null!=u.suspendedEndpoint;if(!l||null!=u.suspendedEndpoint._jsPlumb){var c=t.getEndpoint(u);if(null!=c){if(t.isRedrop(u,t))return u._forceReattach=!0,u.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(c));var h=i.getFloatingAnchorIndex(u);if(0===h&&!t.isSource||1===h&&!t.isTarget)t.maybeCleanup&&t.maybeCleanup(c);else{t.onDrop&&t.onDrop(u),a&&i.setDragScope(o,a);var f=t.isFull(e);if(f&&c.fire("maxConnections",{endpoint:this,connection:u,maxConnections:c._jsPlumb.maxConnections},r),!f&&t.enabled()){var d=!0;0===h?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=t.element,u.sourceId=t.elementId):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=t.element,u.targetId=t.elementId),l&&u.suspendedEndpoint.id!==c.id&&(u.isDetachAllowed(u)&&u.endpoints[h].isDetachAllowed(u)&&u.suspendedEndpoint.isDetachAllowed(u)&&i.checkCondition("beforeDetach",u)||(d=!1));var p=function(e){u.endpoints[h].detachFromConnection(u),u.suspendedEndpoint&&u.suspendedEndpoint.detachFromConnection(u),u.endpoints[h]=c,c.addConnection(u);var o=c.getParameters();for(var s in o)u.setParameter(s,o[s]);if(l){var a=u.suspendedEndpoint.elementId;i.fireMoveEvent({index:h,originalSourceId:0===h?a:u.sourceId,newSourceId:0===h?c.elementId:u.sourceId,originalTargetId:1===h?a:u.targetId,newTargetId:1===h?c.elementId:u.targetId,originalSourceEndpoint:0===h?u.suspendedEndpoint:u.endpoints[0],newSourceEndpoint:0===h?c:u.endpoints[0],originalTargetEndpoint:1===h?u.suspendedEndpoint:u.endpoints[1],newTargetEndpoint:1===h?c:u.endpoints[1],connection:u},r)}else o.draggable&&i.initDraggable(this.element,t.dragOptions,"internal",i);(1===h?i.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):i.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),u.endpoints[0].finalEndpoint)&&(u.endpoints[0].detachFromConnection(u),u.endpoints[0]=u.endpoints[0].finalEndpoint,u.endpoints[0].addConnection(u));n.isObject(e)&&u.mergeData(e),i.finaliseConnection(u,null,r,!1),u.setHover(!1)}.bind(this);if(d=d&&t.isDropAllowed(u.sourceId,u.targetId,u.scope,u,c))return p(d),!0;u.suspendedEndpoint&&(u.endpoints[h]=u.suspendedEndpoint,u.setHover(!1),u._forceDetach=!0,0===h?(u.source=u.suspendedEndpoint.element,u.sourceId=u.suspendedEndpoint.elementId):(u.target=u.suspendedEndpoint.element,u.targetId=u.suspendedEndpoint.elementId),u.suspendedEndpoint.addConnection(u),1===h?i.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):i.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),i.repaint(u.sourceId),u._forceDetach=!1)}t.maybeCleanup&&t.maybeCleanup(c),i.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=function(t,i,r,o,s){if(n.Connectors[i]=n.Connectors[i]||{},null==n.Connectors[i][r]){if(null==n.Connectors[r]){if(t.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+r+"'")}n.Connectors[i][r]=function(){n.Connectors[r].apply(this,arguments),n.ConnectorRenderers[i].apply(this,arguments)},e.extend(n.Connectors[i][r],[n.Connectors[r],n.ConnectorRenderers[i]])}return new n.Connectors[i][r](o,s)},r=function(t,n,e){return t?e.makeAnchor(t,n,e):null},o=function(t,n,i,r){null!=n&&(n._jsPlumbConnections=n._jsPlumbConnections||{},r?delete n._jsPlumbConnections[t.id]:n._jsPlumbConnections[t.id]=!0,e.isEmpty(n._jsPlumbConnections)?i.removeClass(n,i.connectedClass):i.addClass(n,i.connectedClass))};n.Connection=function(t){var i=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=n.getElement(t.source),this.target=n.getElement(t.target),n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),t.sourceEndpoint?(this.source=t.sourceEndpoint.getElement(),this.sourceId=t.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),t.targetEndpoint?(this.target=t.targetEndpoint.getElement(),this.targetId=t.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(n,e,o,s){return o=o||this._jsPlumb.instance.getId(e),this.prepareEndpoint(r,i,this,s,n?0:1,t,e,o)},t.type&&(t.endpoints=t.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var o=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);o&&e.addToList(t.endpointsByElement,this.sourceId,o),s&&e.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(t.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(t.deleteEndpointsOnEmpty));var a=r.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1);var u=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:u,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||r.Defaults.PaintStyle||n.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||r.Defaults.HoverPaintStyle||n.Defaults.HoverPaintStyle});var l=r.getSuspendedAt();if(!r.isSuspendDrawing()){var c=r.getCachedData(this.sourceId),h=c.o,f=c.s,d=r.getCachedData(this.targetId),p=d.o,g=d.s,v=l||r.timestamp(),m=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:f,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[p.left,p.top],twh:g,tElement:this.endpoints[1],timestamp:v});this.endpoints[0].paint({anchorLoc:m,timestamp:v}),m=this.endpoints[1].anchor.compute({xy:[p.left,p.top],wh:g,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:f,tElement:this.endpoints[0],timestamp:v}),this.endpoints[1].paint({anchorLoc:m,timestamp:v})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var y=n.extend({},this.endpoints[1].getParameters());n.extend(y,this.endpoints[0].getParameters()),n.extend(y,this.getParameters()),this.setParameters(y),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||r.Defaults.Connector||n.Defaults.Connector,!0);var b=null!=t.data&&e.isObject(t.data)?t.data:{};this.getData=function(){return b},this.setData=function(t){b=t||{}},this.mergeData=function(t){b=n.extend(b,t)};var _=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(_)&&this.addType(_,t.data,!0),this.updateConnectedClass()},e.extend(n.Connection,n.OverlayCapableJsPlumbUIComponent,{applyType:function(t,e,i){var r=null;null!=t.connector&&(null==(r=this.getCachedTypeItem("connector",i.connector))&&(r=this.prepareConnector(t.connector,i.connector),this.cacheTypeItem("connector",r,i.connector)),this.setPreparedConnector(r)),null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var o=null;t.anchor?null==(o=this.getCachedTypeItem("anchors",i.anchor))&&(o=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",o,i.anchor)):t.anchors&&null==(o=this.getCachedTypeItem("anchors",i.anchors))&&(o=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",o,i.anchors)),null!=o&&(this.endpoints[0].anchor=o[0],this.endpoints[1].anchor=o[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),n.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,n){n&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,n){n&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,t),o(this,this.target,this._jsPlumb.instance,t))},setHover:function(n){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(n),t.jsPlumb[n?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[n?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(t,n){var r,o={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},s=this._jsPlumb.instance.getRenderMode();return e.isString(t)?r=i(this._jsPlumb.instance,s,t,o,this):e.isArray(t)&&(r=1===t.length?i(this._jsPlumb.instance,s,t[0],o,this):i(this._jsPlumb.instance,s,t[0],e.merge(t[1],o),this)),null!=n&&(r.typeId=n),r},setPreparedConnector:function(t,n,e,i){if(this.connector!==t){var r,o="";if(null!=this.connector&&(o=(r=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,i&&this.cacheTypeItem("connector",t,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);e||this.setListenerComponent(this.connector),n||this.repaint()}},setConnector:function(t,n,e,i){var r=this.prepareConnector(t,i);this.setPreparedConnector(r,n,e,i)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var n=(t=t||{}).timestamp,e=this.targetId,i=this.sourceId;if(null==n||n!==this._jsPlumb.lastPaintedAt){var r=this._jsPlumb.instance.updateOffset({elId:i}).o,o=this._jsPlumb.instance.updateOffset({elId:e}).o,s=this.endpoints[0],a=this.endpoints[1],u=s.anchor.getCurrentLocation({xy:[r.left,r.top],wh:[r.width,r.height],element:s,timestamp:n}),l=a.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:a,timestamp:n});this.connector.resetBounds(),this.connector.compute({sourcePos:u,targetPos:l,sourceOrientation:s.anchor.getOrientation(s),targetOrientation:a.anchor.getOrientation(a),sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:r,targetInfo:o});var c={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var h in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(h)){var f=this._jsPlumb.overlays[h];f.isVisible()&&(this._jsPlumb.overlayPlacements[h]=f.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(f)),c.minX=Math.min(c.minX,this._jsPlumb.overlayPlacements[h].minX),c.maxX=Math.max(c.maxX,this._jsPlumb.overlayPlacements[h].maxX),c.minY=Math.min(c.minY,this._jsPlumb.overlayPlacements[h].minY),c.maxY=Math.max(c.maxY,this._jsPlumb.overlayPlacements[h].maxY))}var d=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,p=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),g={xmin:Math.min(this.connector.bounds.minX-(d+p),c.minX),ymin:Math.min(this.connector.bounds.minY-(d+p),c.minY),xmax:Math.max(this.connector.bounds.maxX+(d+p),c.maxX),ymax:Math.max(this.connector.bounds.maxY+(d+p),c.maxY)};for(var v in this.connector.paint(this._jsPlumb.paintStyleInUse,null,g),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var m=this._jsPlumb.overlays[v];m.isVisible()&&m.paint(this._jsPlumb.overlayPlacements[v],g)}}this._jsPlumb.lastPaintedAt=n}},repaint:function(t){var n=jsPlumb.extend(t||{},{});n.elId=this.sourceId,this.paint(n)},prepareEndpoint:function(t,e,i,o,s,a,u,l){var c;if(o)i.endpoints[s]=o,o.addConnection(i);else{a.endpoints||(a.endpoints=[null,null]);var h=a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||n.Defaults.Endpoints[s]||t.Defaults.Endpoint||n.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var f=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||n.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||n.Defaults.EndpointStyle;null==f.fill&&null!=a.paintStyle&&(f.fill=a.paintStyle.stroke),null==f.outlineStroke&&null!=a.paintStyle&&(f.outlineStroke=a.paintStyle.outlineStroke),null==f.outlineWidth&&null!=a.paintStyle&&(f.outlineWidth=a.paintStyle.outlineWidth);var d=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||n.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==d&&(d={}),null==d.fill&&(d.fill=a.hoverPaintStyle.stroke));var p=a.anchors?a.anchors[s]:a.anchor?a.anchor:r(t.Defaults.Anchors[s],l,t)||r(n.Defaults.Anchors[s],l,t)||r(t.Defaults.Anchor,l,t)||r(n.Defaults.Anchor,l,t);c=e({paintStyle:f,hoverPaintStyle:d,endpoint:h,connections:[i],uuid:a.uuids?a.uuids[s]:null,anchor:p,source:u,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),null==o&&c.setDeleteOnEmpty(!0),i.endpoints[s]=c,!1===a.drawEndpoints&&c.setVisible(!1,!0,!0)}return c}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumbUtil,n=this.jsPlumb;n.AnchorManager=function(e){var i={},r={},o={},s={},a={},u=this,l={},c=e.jsPlumbInstance,h={},f=function(t){return function(n,e){return!1===(t?n[0][0]<e[0][0]:n[0][0]>e[0][0])?-1:1}},d={top:function(t,n){return t[0]>n[0]?1:-1},right:f(!0),bottom:f(!0),left:function(t,n){return(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])>(n[0][0]<0?-Math.PI-n[0][0]:Math.PI-n[0][0])?1:-1}},p=function(t,n){var e=c.getCachedData(t),i=e.s,o=e.o,a=function(n,e,i,o,a,u,l){if(o.length>0)for(var c=function(t,n,e,i,r,o,s){for(var a=[],u=n[r?0:1]/(i.length+1),l=0;l<i.length;l++){var c=(l+1)*u,h=o*n[r?1:0];s&&(c=n[r?0:1]-c);var f=r?c:h,d=e[0]+f,p=f/n[0],g=r?h:c,v=e[1]+g,m=g/n[1];a.push([d,v,p,m,i[l][1],i[l][2]])}return a}(0,e,i,(m=d[n],o.sort(m)),a,u,"right"===n||"top"===n),h=function(t,n){r[t.id]=[n[0],n[1],n[2],n[3]],s[t.id]=l},f=0;f<c.length;f++){var p=c[f][4],g=p.endpoints[0].elementId===t,v=p.endpoints[1].elementId===t;g&&h(p.endpoints[0],c[f]),v&&h(p.endpoints[1],c[f])}var m};a("bottom",i,[o.left,o.top],n.bottom,!0,1,[0,1]),a("top",i,[o.left,o.top],n.top,!0,0,[0,-1]),a("left",i,[o.left,o.top],n.left,!1,0,[-1,0]),a("right",i,[o.left,o.top],n.right,!1,1,[1,0])};this.reset=function(){i={},a={},l={}},this.addFloatingConnection=function(t,n){h[t]=n},this.removeFloatingConnection=function(t){delete h[t]},this.newConnection=function(e){var i=e.sourceId,r=e.targetId,o=e.endpoints,s=!0,u=function(u,l,c,h,f){i===r&&c.isContinuous&&(e._jsPlumb.instance.removeElement(o[1].canvas),s=!1),t.addToList(a,h,[f,l,c.constructor===n.DynamicAnchor])};u(0,o[0],o[0].anchor,r,e),s&&u(0,o[1],o[1].anchor,i,e)};var g=function(n){!function(n,e){if(n){var i=function(t){return t[4]===e};t.removeWithFunction(n.top,i),t.removeWithFunction(n.left,i),t.removeWithFunction(n.bottom,i),t.removeWithFunction(n.right,i)}}(l[n.elementId],n.id)};this.connectionDetached=function(n,e){var i=n.connection||n,r=n.sourceId,o=n.targetId,s=i.endpoints,l=function(n,e,i,r,o){t.removeWithFunction(a[r],function(t){return t[0].id===o.id})};l(0,s[1],s[1].anchor,r,i),l(0,s[0],s[0].anchor,o,i),i.floatingId&&(l(i.floatingIndex,i.floatingEndpoint,i.floatingEndpoint.anchor,i.floatingId,i),g(i.floatingEndpoint)),g(i.endpoints[0]),g(i.endpoints[1]),e||(u.redraw(i.sourceId),i.targetId!==i.sourceId&&u.redraw(i.targetId))},this.add=function(n,e){t.addToList(i,e,n)},this.changeId=function(t,n){a[n]=a[t],i[n]=i[t],delete a[t],delete i[t]},this.getConnectionsFor=function(t){return a[t]||[]},this.getEndpointsFor=function(t){return i[t]||[]},this.deleteEndpoint=function(n){t.removeWithFunction(i[n.elementId],function(t){return t.id===n.id}),g(n)},this.clearFor=function(t){delete i[t],i[t]=[]};var v=function(n,i,r,o,s,a,u,l,c,h,f,d){var p,g,v=-1,m=o.endpoints[u],y=m.id,b=[1,0][u],_=[[i,r],o,s,a,y],P=n[c],x=m._continuousAnchorEdge?n[m._continuousAnchorEdge]:null;if(x){var C=t.findWithFunction(x,function(t){return t[4]===y});if(-1!==C)for(x.splice(C,1),p=0;p<x.length;p++)g=x[p][1],t.addWithFunction(f,g,function(t){return t.id===g.id}),t.addWithFunction(d,x[p][1].endpoints[u],function(t){return t.id===g.endpoints[u].id}),t.addWithFunction(d,x[p][1].endpoints[b],function(t){return t.id===g.endpoints[b].id})}for(p=0;p<P.length;p++)g=P[p][1],1===e.idx&&P[p][3]===a&&-1===v&&(v=p),t.addWithFunction(f,g,function(t){return t.id===g.id}),t.addWithFunction(d,P[p][1].endpoints[u],function(t){return t.id===g.endpoints[u].id}),t.addWithFunction(d,P[p][1].endpoints[b],function(t){return t.id===g.endpoints[b].id});var E=l?-1!==v?v:0:P.length;P.splice(E,0,_),m._continuousAnchorEdge=c};this.updateOtherEndpoint=function(e,i,r,o){var s=t.findWithFunction(a[e],function(t){return t[0].id===o.id}),u=t.findWithFunction(a[i],function(t){return t[0].id===o.id});-1!==s&&(a[e][s][0]=o,a[e][s][1]=o.endpoints[1],a[e][s][2]=o.endpoints[1].anchor.constructor===n.DynamicAnchor),u>-1&&(a[i].splice(u,1),t.addToList(a,r,[o,o.endpoints[0],o.endpoints[0].anchor.constructor===n.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(e,i,r,o){if(e!==i){r.sourceId=i,r.source=o,t.removeWithFunction(a[e],function(t){return t[0].id===r.id});var s=t.findWithFunction(a[r.targetId],function(t){return t[0].id===r.id});s>-1&&(a[r.targetId][s][0]=r,a[r.targetId][s][1]=r.endpoints[0],a[r.targetId][s][2]=r.endpoints[0].anchor.constructor===n.DynamicAnchor),t.addToList(a,i,[r,r.endpoints[1],r.endpoints[1].anchor.constructor===n.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(t,n,e){var r=i[n]||[],o=c.getId(e);if(o!==n){var s=r.indexOf(t);if(s>-1){var a=r.splice(s,1)[0];u.add(a,o)}}for(var l=0;l<t.connections.length;l++)t.connections[l].sourceId===n?u.sourceChanged(n,t.elementId,t.connections[l],t.element):t.connections[l].targetId===n&&(t.connections[l].targetId=t.elementId,t.connections[l].target=t.element,u.updateOtherEndpoint(t.connections[l].sourceId,n,t.elementId,t.connections[l]))},this.redraw=function(e,r,o,s,u,f){if(!c.isSuspendDrawing()){var d=i[e]||[],g=a[e]||[],m=[],y=[],b=[];o=o||c.timestamp(),s=s||{left:0,top:0},r&&(r={left:r.left+s.left,top:r.top+s.top});for(var _=c.updateOffset({elId:e,offset:r,recalc:!1,timestamp:o}),P={},x=0;x<g.length;x++){var C=g[x][0],E=C.sourceId,j=C.targetId,S=C.endpoints[0].anchor.isContinuous,w=C.endpoints[1].anchor.isContinuous;if(S||w){var D=E+"_"+j,I=P[D],A=C.sourceId===e?1:0;S&&!l[E]&&(l[E]={top:[],right:[],bottom:[],left:[]}),w&&!l[j]&&(l[j]={top:[],right:[],bottom:[],left:[]}),e!==j&&c.updateOffset({elId:j,timestamp:o}),e!==E&&c.updateOffset({elId:E,timestamp:o});var k=c.getCachedData(j),O=c.getCachedData(E);j===E&&(S||w)?(v(l[E],-Math.PI/2,0,C,!1,j,0,!1,"top",0,m,y),v(l[j],-Math.PI/2,0,C,!1,E,1,!1,"top",0,m,y)):(I||(I=this.calculateOrientation(E,j,O.o,k.o,C.endpoints[0].anchor,C.endpoints[1].anchor,C),P[D]=I),S&&v(l[E],I.theta,0,C,!1,j,0,!1,I.a[0],0,m,y),w&&v(l[j],I.theta2,-1,C,!0,E,1,!0,I.a[1],0,m,y)),S&&t.addWithFunction(b,E,function(t){return t===E}),w&&t.addWithFunction(b,j,function(t){return t===j}),t.addWithFunction(m,C,function(t){return t.id===C.id}),(S&&0===A||w&&1===A)&&t.addWithFunction(y,C.endpoints[A],function(t){return t.id===C.endpoints[A].id})}}for(x=0;x<d.length;x++)0===d[x].connections.length&&d[x].anchor.isContinuous&&(l[e]||(l[e]={top:[],right:[],bottom:[],left:[]}),v(l[e],-Math.PI/2,0,{endpoints:[d[x],d[x]],paint:function(){}},!1,e,0,!1,d[x].anchor.getDefaultFace(),0,m,y),t.addWithFunction(b,e,function(t){return t===e}));for(x=0;x<b.length;x++)p(b[x],l[b[x]]);for(x=0;x<d.length;x++)d[x].paint({timestamp:o,offset:_,dimensions:_.s,recalc:!0!==f});for(x=0;x<y.length;x++){var M=c.getCachedData(y[x].elementId);y[x].paint({timestamp:o,offset:M,dimensions:M.s})}for(x=0;x<g.length;x++){var T=g[x][1];if(T.anchor.constructor===n.DynamicAnchor){T.paint({elementWithPrecedence:e,timestamp:o}),t.addWithFunction(m,g[x][0],function(t){return t.id===g[x][0].id});for(var L=0;L<T.connections.length;L++)T.connections[L]!==g[x][0]&&t.addWithFunction(m,T.connections[L],function(t){return t.id===T.connections[L].id})}else t.addWithFunction(m,g[x][0],function(t){return t.id===g[x][0].id})}var F=h[e];for(F&&F.paint({timestamp:o,recalc:!1,elId:e}),x=0;x<m.length;x++)m[x].paint({elId:e,timestamp:o,recalc:!1,clearEdits:u})}};c.continuousAnchorFactory={get:function(n){return new function(n){t.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var e=n.faces||["top","right","bottom","left"],i=!(!1===n.clockwise),a={},u={top:"bottom",right:"left",left:"right",bottom:"top"},l={top:"right",right:"bottom",left:"top",bottom:"left"},c={top:"left",right:"top",left:"bottom",bottom:"right"},h=i?l:c,f=i?c:l,d=n.cssClass||"",p=null,g=null,v=["left","right"],m=["top","bottom"],y=null,b=0;b<e.length;b++)a[e[b]]=!0;this.getDefaultFace=function(){return 0===e.length?"top":e[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(t){return a[t]?t:a[u[t]]?u[t]:a[h[t]]?h[t]:a[f[t]]?f[t]:t},this.isEdgeSupported=function(t){return null==y?null==g?!0===a[t]:g===t:-1!==y.indexOf(t)},this.setCurrentFace=function(t,n){p=t,n&&null!=g&&(g=p)},this.getCurrentFace=function(){return p},this.getSupportedFaces=function(){var t=[];for(var n in a)a[n]&&t.push(n);return t},this.lock=function(){g=p},this.unlock=function(){g=null},this.isLocked=function(){return null!=g},this.lockCurrentAxis=function(){null!=p&&(y="left"===p||"right"===p?v:m)},this.unlockCurrentAxis=function(){y=null},this.compute=function(t){return o[t.element.id]||r[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return o[t.element.id]||r[t.element.id]||[0,0]},this.getOrientation=function(t){return s[t.id]||[0,0]},this.clearUserDefinedLocation=function(){delete o[n.elementId]},this.setUserDefinedLocation=function(t){o[n.elementId]=t},this.getCssClass=function(){return d}}(n)},clear:function(t){delete o[t],delete r[t]}}},n.AnchorManager.prototype.calculateOrientation=function(t,n,e,i,r,o){var s=["left","top","right","bottom"];if(t===n)return{orientation:"identity",a:["top","top"]};var a=Math.atan2(i.centery-e.centery,i.centerx-e.centerx),u=Math.atan2(e.centery-i.centery,e.centerx-i.centerx),l=[],c={};!function(t,n){for(var e=0;e<t.length;e++)c[t[e]]={left:[n[e].left,n[e].centery],right:[n[e].right,n[e].centery],top:[n[e].centerx,n[e].top],bottom:[n[e].centerx,n[e].bottom]}}(["source","target"],[e,i]);for(var h=0;h<s.length;h++)for(var f=0;f<s.length;f++)l.push({source:s[h],target:s[f],dist:Biltong.lineLength(c.source[s[h]],c.target[s[f]])});l.sort(function(t,n){return t.dist<n.dist?-1:t.dist>n.dist?1:0});for(var d=l[0].source,p=l[0].target,g=0;g<l.length&&(d=!r.isContinuous||r.isEdgeSupported(l[g].source)?l[g].source:null,p=!o.isContinuous||o.isEdgeSupported(l[g].target)?l[g].target:null,null==d||null==p);g++);return r.isContinuous&&r.setCurrentFace(d),o.isContinuous&&o.setCurrentFace(p),{a:[d,p],theta:a,theta2:u}},n.Anchor=function(n){this.x=n.x||0,this.y=n.y||0,this.elementId=n.elementId,this.cssClass=n.cssClass||"",this.userDefinedLocation=null,this.orientation=n.orientation||[0,0],this.lastReturnValue=null,this.offsets=n.offsets||[0,0],this.timestamp=null;var e=!1!==n.relocatable;this.isRelocatable=function(){return e},this.setRelocatable=function(t){e=t};var i=!1!==n.snapOnRelocate;this.isSnapOnRelocate=function(){return i};var r=!1;this.lock=function(){r=!0},this.unlock=function(){r=!1},this.isLocked=function(){return r},t.EventGenerator.apply(this),this.compute=function(t){var n=t.xy,e=t.wh,i=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===this.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[n[0]+this.x*e[0]+this.offsets[0],n[1]+this.y*e[1]+this.offsets[1],this.x,this.y],this.timestamp=i,this.lastReturnValue)},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!==t.timestamp?this.compute(t):this.lastReturnValue},this.setPosition=function(t,n,e,i,o){r&&!o||(this.x=t,this.y=n,this.orientation=[e,i],this.lastReturnValue=null)}},t.extend(n.Anchor,t.EventGenerator,{equals:function(t){if(!t)return!1;var n=t.getOrientation(),e=this.getOrientation();return this.x===t.x&&this.y===t.y&&this.offsets[0]===t.offsets[0]&&this.offsets[1]===t.offsets[1]&&e[0]===n[0]&&e[1]===n[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),n.FloatingAnchor=function(t){n.Anchor.apply(this,arguments);var e=t.reference,i=t.referenceCanvas,r=n.getSize(i),o=null,s=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var n=t.xy,e=[n[0]+r[0]/2,n[1]+r[1]/2];return s=e,e},this.getOrientation=function(t){if(o)return o;var n=e.getOrientation(t);return[0*Math.abs(n[0])*-1,0*Math.abs(n[1])*-1]},this.over=function(t,n){o=t.getOrientation(n)},this.out=function(){o=null},this.getCurrentLocation=function(t){return null==s?this.compute(t):s}},t.extend(n.FloatingAnchor,n.Anchor);n.DynamicAnchor=function(t){n.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var e=0;e<t.anchors.length;e++)this.anchors[e]=(i=t.anchors[e],r=this.jsPlumbInstance,o=this.elementId,i.constructor===n.Anchor?i:r.makeAnchor(i,o,r));var i,r,o;this.getAnchors=function(){return this.anchors};var s=this.anchors.length>0?this.anchors[0]:null,a=s,u=this,l=function(t,n,e,i,r){var o=i[0]+t.x*r[0],s=i[1]+t.y*r[1],a=i[0]+r[0]/2,u=i[1]+r[1]/2;return Math.sqrt(Math.pow(n-o,2)+Math.pow(e-s,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(u-s,2))},c=t.selector||function(t,n,e,i,r){for(var o=e[0]+i[0]/2,s=e[1]+i[1]/2,a=-1,u=1/0,c=0;c<r.length;c++){var h=l(r[c],o,s,t,n);h<u&&(a=c+0,u=h)}return r[a]};this.compute=function(t){var n=t.xy,e=t.wh,i=t.txy,r=t.twh;this.timestamp=t.timestamp;var o=u.getUserDefinedLocation();return null!=o?o:this.isLocked()||null==i||null==r?s.compute(t):(t.timestamp=null,s=c(n,e,i,r,this.anchors),this.x=s.x,this.y=s.y,s!==a&&this.fire("anchorChanged",s),a=s,s.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=s?s.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=s?s.getOrientation(t):[0,0]},this.over=function(t,n){null!=s&&s.over(t,n)},this.out=function(){null!=s&&s.out()},this.setAnchor=function(t){s=t},this.getCssClass=function(){return s&&s.getCssClass()||""},this.setAnchorCoordinates=function(t){var n=jsPlumbUtil.findWithFunction(this.anchors,function(n){return n.x===t[0]&&n.y===t[1]});return-1!==n&&(this.setAnchor(this.anchors[n]),!0)}},t.extend(n.DynamicAnchor,n.Anchor);var e=function(t,e,i,r,o,s){n.Anchors[o]=function(n){var a=n.jsPlumbInstance.makeAnchor([t,e,i,r,0,0],n.elementId,n.jsPlumbInstance);return a.type=o,s&&s(a,n),a}};e(.5,0,0,-1,"TopCenter"),e(.5,1,0,1,"BottomCenter"),e(0,.5,-1,0,"LeftMiddle"),e(1,.5,1,0,"RightMiddle"),e(.5,0,0,-1,"Top"),e(.5,1,0,1,"Bottom"),e(0,.5,-1,0,"Left"),e(1,.5,1,0,"Right"),e(.5,.5,0,0,"Center"),e(1,0,0,-1,"TopRight"),e(1,1,0,1,"BottomRight"),e(0,0,0,-1,"TopLeft"),e(0,1,0,1,"BottomLeft"),n.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},n.Anchors.AutoDefault=function(t){var e=t.jsPlumbInstance.makeDynamicAnchor(n.Defaults.DynamicAnchors(t));return e.type="AutoDefault",e};var i=function(t,e){n.Anchors[t]=function(n){var i=n.jsPlumbInstance.makeAnchor(["Continuous",{faces:e}],n.elementId,n.jsPlumbInstance);return i.type=t,i}};n.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},i("ContinuousLeft",["left"]),i("ContinuousTop",["top"]),i("ContinuousBottom",["bottom"]),i("ContinuousRight",["right"]),e(0,0,0,0,"Assign",function(t,n){var e=n.position||"Fixed";t.positionFinder=e.constructor===String?n.jsPlumbInstance.AnchorPositionFinders[e]:e,t.constructorParams=n}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,n,e){return[(t.left-n.left)/e[0],(t.top-n.top)/e[1]]},Grid:function(t,n,e,i){var r=t.left-n.left,o=t.top-n.top,s=e[0]/i.grid[0],a=e[1]/i.grid[1],u=Math.floor(r/s),l=Math.floor(o/a);return[(u*s+s/2)/e[0],(l*a+a/2)/e[1]]}},n.Anchors.Perimeter=function(t){var n=(t=t||{}).anchorCount||60,e=t.shape;if(!e)throw new Error("no shape supplied to Perimeter Anchor type");var i=function(){for(var t=2*Math.PI/n,e=0,i=[],r=0;r<n;r++){var o=.5+.5*Math.sin(e),s=.5+.5*Math.cos(e);i.push([o,s,0,0]),e+=t}return i},r=function(t){for(var e=n/t.length,i=[],r=function(t,r,o,s,a){for(var u=(o-t)/(e=n*a),l=(s-r)/e,c=0;c<e;c++)i.push([t+u*c,r+l*c,0,0])},o=0;o<t.length;o++)r.apply(null,t[o]);return i},o=function(t){for(var n=[],e=0;e<t.length;e++)n.push([t[e][0],t[e][1],t[e][2],t[e][3],1/t.length]);return r(n)},s=function(){return o([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:i,Ellipse:i,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var n=t.points,e=[],i=0,o=0;o<n.length-1;o++){var s=Math.sqrt(Math.pow(n[o][2]-n[o][0])+Math.pow(n[o][3]-n[o][1]));i+=s,e.push([n[o][0],n[o][1],n[o+1][0],n[o+1][1],s])}for(var a=0;a<e.length;a++)e[a][4]=e[a][4]/i;return r(e)}};if(!a[e])throw new Error("Shape ["+e+"] is unknown by Perimeter Anchor type");var u=a[e](t);t.rotation&&(u=function(t,n){for(var e=[],i=n/180*Math.PI,r=0;r<t.length;r++){var o=t[r][0]-.5,s=t[r][1]-.5;e.push([o*Math.cos(i)-s*Math.sin(i)+.5,o*Math.sin(i)+s*Math.cos(i)+.5,t[r][2],t[r][3]])}return e}(u,t.rotation));var l=t.jsPlumbInstance.makeDynamicAnchor(u);return l.type="Perimeter",l}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,e=t.jsPlumbUtil,i=t.Biltong;n.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,n){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}}},Straight:function(t){var e,r,o,s,a,u,l;n.Segments.AbstractSegment.apply(this,arguments);this.type="Straight",this.getLength=function(){return e},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:s,y1:u,x2:a,y2:l}},this.setCoordinates=function(t){s=t.x1,u=t.y1,a=t.x2,l=t.y2,e=Math.sqrt(Math.pow(a-s,2)+Math.pow(l-u,2)),r=i.gradient({x:s,y:u},{x:a,y:l}),o=-1/r},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(u,l),maxX:Math.max(s,a),maxY:Math.max(u,l)}},this.pointOnPath=function(t,n){if(0!==t||n){if(1!==t||n){var r=n?t>0?t:e+t:t*e;return i.pointOnLine({x:s,y:u},{x:a,y:l},r)}return{x:a,y:l}}return{x:s,y:u}},this.gradientAtPoint=function(t){return r},this.pointAlongPathFrom=function(t,n,e){var r=this.pointOnPath(t,e),o=n<=0?{x:s,y:u}:{x:a,y:l};return n<=0&&Math.abs(n)>1&&(n*=-1),i.pointOnLine(r,o,n)};var c=function(t,n,e){return e>=Math.min(t,n)&&e<=Math.max(t,n)},h=function(t,n,e){return Math.abs(e-t)<Math.abs(e-n)?t:n};this.findClosestPointOnPath=function(t,n){var f={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:u,y2:l};if(0===r)f.y=u,f.x=c(s,a,t)?t:h(s,a,t);else if(r===1/0||r===-1/0)f.x=s,f.y=c(u,l,n)?n:h(u,l,n);else{var d=u-r*s,p=(n-o*t-d)/(r-o),g=r*p+d;f.x=c(s,a,p)?p:h(s,a,p),f.y=c(u,l,g)?g:h(u,l,g)}var v=i.lineLength([f.x,f.y],[s,u]);return f.d=i.lineLength([t,n],[f.x,f.y]),f.l=v/e,f}},Arc:function(t){n.Segments.AbstractSegment.apply(this,arguments);var e=function(n,e){return i.theta([t.cx,t.cy],[n,e])},r=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=e(t.x1,t.y1),this.endAngle=e(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=r),this.startAngle<0&&(this.startAngle+=r);var o=this.endAngle<this.startAngle?this.endAngle+r:this.endAngle;this.sweep=Math.abs(o-this.startAngle),this.anticlockwise&&(this.sweep=r-this.sweep);var s=2*Math.PI*this.radius,a=this.sweep/r,u=s*a;this.getLength=function(){return u},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var l=function(t){var n=Math.floor(t),e=Math.ceil(t);return t-n<1e-10?n:e-t<1e-10?e:t};this.pointOnPath=function(n,e){if(0===n)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===n)return{x:this.x2,y:this.y2,theta:this.endAngle};e&&(n/=u);var i=function(t,n){if(t.anticlockwise){var e=t.startAngle<t.endAngle?t.startAngle+r:t.startAngle;return e-Math.abs(e-t.endAngle)*n}var i=t.endAngle<t.startAngle?t.endAngle+r:t.endAngle,o=Math.abs(i-t.startAngle);return t.startAngle+o*n}(this,n),o=t.cx+t.r*Math.cos(i),s=t.cy+t.r*Math.sin(i);return{x:l(o),y:l(s),theta:i}},this.gradientAtPoint=function(n,e){var r=this.pointOnPath(n,e),o=i.normal([t.cx,t.cy],[r.x,r.y]);return this.anticlockwise||o!==1/0&&o!==-1/0||(o*=-1),o},this.pointAlongPathFrom=function(n,e,i){var r=this.pointOnPath(n,i),o=e/s*2*Math.PI,a=this.anticlockwise?-1:1,u=r.theta+a*o;return{x:t.cx+this.radius*Math.cos(u),y:t.cy+this.radius*Math.sin(u)}}},Bezier:function(e){this.curve=[{x:e.x1,y:e.y1},{x:e.cp1x,y:e.cp1y},{x:e.cp2x,y:e.cp2y},{x:e.x2,y:e.y2}];n.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(e.x1,e.x2,e.cp1x,e.cp2x),minY:Math.min(e.y1,e.y2,e.cp1y,e.cp2y),maxX:Math.max(e.x1,e.x2,e.cp1x,e.cp2x),maxY:Math.max(e.y1,e.y2,e.cp1y,e.cp2y)},this.type="Bezier";var i=function(n,e,i){return i&&(e=t.jsBezier.locationAlongCurveFrom(n,e>0?0:1,e)),e};this.pointOnPath=function(n,e){return n=i(this.curve,n,e),t.jsBezier.pointOnCurve(this.curve,n)},this.gradientAtPoint=function(n,e){return n=i(this.curve,n,e),t.jsBezier.gradientAtPoint(this.curve,n)},this.pointAlongPathFrom=function(n,e,r){return n=i(this.curve,n,r),t.jsBezier.pointAlongCurveFrom(this.curve,n,e)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}},n.SegmentRenderer={getPath:function(t,n){return{Straight:function(n){var e=t.getCoordinates();return(n?"M "+e.x1+" "+e.y1+" ":"")+"L "+e.x2+" "+e.y2},Bezier:function(n){var e=t.params;return(n?"M "+e.x2+" "+e.y2+" ":"")+"C "+e.cp2x+" "+e.cp2y+" "+e.cp1x+" "+e.cp1y+" "+e.x1+" "+e.y1},Arc:function(n){var e=t.params,i=t.sweep>Math.PI?1:0,r=t.anticlockwise?0:1;return(n?"M"+t.x1+" "+t.y1+" ":"")+"A "+t.radius+" "+e.r+" 0 "+i+","+r+" "+t.x2+" "+t.y2}}[t.type](n)}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};n.Connectors.AbstractConnector=function(t){r.apply(this,arguments);var o=[],s=0,a=[],u=[],l=t.stub||0,c=e.isArray(l)?l[0]:l,h=e.isArray(l)?l[1]:l,f=t.gap||0,d=e.isArray(f)?f[0]:f,p=e.isArray(f)?f[1]:f,g=null,v=null;this.getPathData=function(){for(var t="",e=0;e<o.length;e++)t+=n.SegmentRenderer.getPath(o[e],0===e),t+=" ";return t},this.findSegmentForPoint=function(t,n){for(var e={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var r=o[i].findClosestPointOnPath(t,n);r.d<e.d&&(e.d=r.d,e.l=r.l,e.x=r.x,e.y=r.y,e.s=o[i],e.x1=r.x1,e.x2=r.x2,e.y1=r.y1,e.y2=r.y2,e.index=i)}return e};var m=function(t,n){n&&(t=t>0?t/s:(s+t)/s);for(var e=a.length-1,i=1,r=0;r<a.length;r++)if(a[r][1]>=t){e=r,i=1===t?1:0===t?0:(t-a[r][0])/u[r];break}return{segment:o[e],proportion:i,index:e}};this.setSegments=function(t){g=[],s=0;for(var n=0;n<t.length;n++)g.push(t[n]),s+=t[n].getLength()},this.getLength=function(){return s};var y=function(t){this.strokeWidth=t.strokeWidth;var n=i.quadrant(t.sourcePos,t.targetPos),e=t.targetPos[0]<t.sourcePos[0],r=t.targetPos[1]<t.sourcePos[1],o=t.strokeWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),u=e?t.targetPos[0]:t.sourcePos[0],l=r?t.targetPos[1]:t.sourcePos[1],f=Math.abs(t.targetPos[0]-t.sourcePos[0]),g=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var v=f>g?0:1,m=[1,0][v];a=[],(s=[])[v]=t.sourcePos[v]>t.targetPos[v]?-1:1,a[v]=t.sourcePos[v]>t.targetPos[v]?1:-1,s[m]=0,a[m]=0}var y=e?f+d*s[0]:d*s[0],b=r?g+d*s[1]:d*s[1],_=e?p*a[0]:f+p*a[0],P=r?p*a[1]:g+p*a[1],x=s[0]*a[0]+s[1]*a[1],C={sx:y,sy:b,tx:_,ty:P,lw:o,xSpan:Math.abs(_-y),ySpan:Math.abs(P-b),mx:(y+_)/2,my:(b+P)/2,so:s,to:a,x:u,y:l,w:f,h:g,segment:n,startStubX:y+s[0]*c,startStubY:b+s[1]*c,endStubX:_+a[0]*h,endStubY:P+a[1]*h,isXGreaterThanStubTimes2:Math.abs(y-_)>c+h,isYGreaterThanStubTimes2:Math.abs(b-P)>c+h,opposite:-1===x,perpendicular:0===x,orthogonal:1===x,sourceAxis:0===s[0]?"y":"x",points:[u,l,f,g,y,b,_,P],stubs:[c,h]};return C.anchorOrientation=C.opposite?"opposite":C.orthogonal?"orthogonal":"perpendicular",C};this.getSegments=function(){return o},this.updateBounds=function(t){var n=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,n.minX),this.bounds.maxX=Math.max(this.bounds.maxX,n.maxX),this.bounds.minY=Math.min(this.bounds.minY,n.minY),this.bounds.maxY=Math.max(this.bounds.maxY,n.maxY)};return this.pointOnPath=function(t,n){var e=m(t,n);return e.segment&&e.segment.pointOnPath(e.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,n){var e=m(t,n);return e.segment&&e.segment.gradientAtPoint(e.proportion,!1)||0},this.pointAlongPathFrom=function(t,n,e){var i=m(t,e);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,n,!1)||[0,0]},this.compute=function(t){v=y.call(this,t),s=o.length=a.length=u.length=0,this._compute(v,t),this.x=v.points[0],this.y=v.points[1],this.w=v.points[2],this.h=v.points[3],this.segment=v.segment,function(){for(var t=0,n=0;n<o.length;n++){var e=o[n].getLength();u[n]=e/s,a[n]=[t,t+=e/s]}}()},{addSegment:function(t,e,i){if(i.x1!==i.x2||i.y1!==i.y2){var r=new n.Segments[e](i);o.push(r),s+=r.getLength(),t.updateBounds(r)}},prepareCompute:y,sourceStub:c,targetStub:h,maxStub:Math.max(c,h),sourceGap:d,targetGap:p,maxGap:Math.max(d,p)}},e.extend(n.Connectors.AbstractConnector,r),n.Endpoints.AbstractEndpoint=function(t){return r.apply(this,arguments),{compute:this.compute=function(t,n,e,i){var r=this._compute.apply(this,arguments);return this.x=r[0],this.y=r[1],this.w=r[2],this.h=r[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,r},cssClass:t.cssClass}},e.extend(n.Endpoints.AbstractEndpoint,r),n.Endpoints.Dot=function(t){this.type="Dot";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,n,e,i){this.radius=e.radius||this.radius;var r=t[0]-this.radius,o=t[1]-this.radius,s=2*this.radius,a=2*this.radius;if(e.stroke){var u=e.strokeWidth||1;r-=u,o-=u,s+=2*u,a+=2*u}return[r,o,s,a,this.radius]}},e.extend(n.Endpoints.Dot,n.Endpoints.AbstractEndpoint),n.Endpoints.Rectangle=function(t){this.type="Rectangle";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,n,e,i){var r=e.width||this.width,o=e.height||this.height;return[t[0]-r/2,t[1]-o/2,r,o]}},e.extend(n.Endpoints.Rectangle,n.Endpoints.AbstractEndpoint);var o=function(t){n.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};e.extend(o,n.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),n.Endpoints.Image=function(i){this.type="Image",o.apply(this,arguments),n.Endpoints.AbstractEndpoint.apply(this,arguments);var r=i.onload,s=i.src||i.url,a=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=i.width,this._jsPlumb.heightToUse=i.height,this._jsPlumb.endpoint=i.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,n){var e=t.constructor===String?t:t.src;r=n,this._jsPlumb.img.src=e,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(s,r),this._compute=function(t,n,e,i){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=n.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,n,i){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var r=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,o=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;e.sizeElement(this.canvas,r,o,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(n,e){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(n,e):t.setTimeout(function(){this.paint(n,e)}.bind(this),200))}},e.extend(n.Endpoints.Image,[o,n.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),n.Endpoints.Blank=function(t){n.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",o.apply(this,arguments),this._compute=function(t,n,e,i){return[t[0],t[1],10,0]};var i=t.cssClass?" "+t.cssClass:"";this.canvas=n.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,n){e.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},e.extend(n.Endpoints.Blank,[n.Endpoints.AbstractEndpoint,o],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),n.Endpoints.Triangle=function(t){this.type="Triangle",n.Endpoints.AbstractEndpoint.apply(this,arguments);var e=this;(t=t||{}).width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,n,i,r){var o=i.width||e.width,s=i.height||e.height;return[t[0]-o/2,t[1]-s/2,o,s]}};var s=n.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};s.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t,n){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},n.Overlays.Arrow=function(t){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{};var r=this;this.length=t.length||20,this.width=t.width||20,this.id=t.id;var o=(t.direction||1)<0?-1:1,a=t.paintStyle||{"stroke-width":1},u=t.foldback||.623;this.computeMaxSize=function(){return 1.5*r.width},this.elementCreated=function(e,i){if(this.path=e,t.events)for(var r in t.events)n.on(e,r,t.events[r])},this.draw=function(t,n){var r,s,l,c;if(t.pointAlongPathFrom){if(e.isString(this.loc)||this.loc>1||this.loc<0){var h=parseInt(this.loc,10),f=this.loc<0?1:0;r=t.pointAlongPathFrom(f,h,!1),s=t.pointAlongPathFrom(f,h-o*this.length/2,!1),l=i.pointOnLine(r,s,this.length)}else if(1===this.loc){if(r=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,-this.length),l=i.pointOnLine(r,s,this.length),-1===o){var d=l;l=r,r=d}}else if(0===this.loc){if(l=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,this.length),r=i.pointOnLine(l,s,this.length),-1===o){var p=l;l=r,r=p}}else r=t.pointAlongPathFrom(this.loc,o*this.length/2),s=t.pointOnPath(this.loc),l=i.pointOnLine(r,s,this.length);var g={hxy:r,tail:c=i.perpendicularLineTo(r,l,this.width),cxy:i.pointOnLine(r,l,u*this.length)},v=a.stroke||n.stroke,m=a.fill||n.stroke;return{component:t,d:g,"stroke-width":a.strokeWidth||n.strokeWidth,stroke:v,fill:m,minX:Math.min(r.x,c[0].x,c[1].x),maxX:Math.max(r.x,c[0].x,c[1].x),minY:Math.min(r.y,c[0].y,c[1].y),maxY:Math.max(r.y,c[0].y,c[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},e.extend(n.Overlays.Arrow,s,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback},cleanup:function(){this.path&&this.canvas&&this.canvas.removeChild(this.path)}}),n.Overlays.PlainArrow=function(t){t=t||{};var e=n.extend(t,{foldback:1});n.Overlays.Arrow.call(this,e),this.type="PlainArrow"},e.extend(n.Overlays.PlainArrow,n.Overlays.Arrow),n.Overlays.Diamond=function(t){var e=(t=t||{}).length||40,i=n.extend(t,{length:e/2,foldback:2});n.Overlays.Arrow.call(this,i),this.type="Diamond"},e.extend(n.Overlays.Diamond,n.Overlays.Arrow);var a=function(t,n){return(null==t._jsPlumb.cachedDimensions||n)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},u=function(t){n.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var e=this._jsPlumb.div=n.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute",e.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:""),this._jsPlumb.instance.appendElement(e),this._jsPlumb.instance.getId(e),this.canvas=e;var i="translate(-50%, -50%)";e.style.webkitTransform=i,e.style.mozTransform=i,e.style.msTransform=i,e.style.oTransform=i,e.style.transform=i,e._jsPlumb=this,!1===t.visible&&(e.style.display="none")}return this._jsPlumb.div},this.draw=function(t,n,i){var r=a(this);if(null!=r&&2===r.length){var o={x:0,y:0};if(i)o={x:i[0],y:i[1]};else if(t.pointOnPath){var s=this.loc,u=!1;(e.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),u=!0),o=t.pointOnPath(s,u)}else{var l=this.loc.constructor===Array?this.loc:this.endpointLoc;o={x:l[0]*t.w,y:l[1]*t.h}}var c=o.x-r[0]/2,h=o.y-r[1]/2;return{component:t,d:{minx:c,miny:h,td:r,cxy:o},minX:c,maxX:c+r[0],minY:h,maxY:h+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};e.extend(u,[n.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t,n){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=a(this);return Math.max(t[0],t[1])},paint:function(t,n){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),n.Overlays.Custom=function(t){this.type="Custom",u.apply(this,arguments)},e.extend(n.Overlays.Custom,u),n.Overlays.GuideLines=function(){var t=this;t.length=50,t.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),n.jsPlumbUIComponent.apply(this,arguments),this.draw=function(n,e){var r=n.pointAlongPathFrom(t.loc,t.length/2),o=n.pointOnPath(t.loc),s=i.pointOnLine(r,o,t.length),a=i.perpendicularLineTo(r,s,40),u=i.perpendicularLineTo(s,r,20);return{connector:n,head:r,tail:s,headLine:u,tailLine:a,minX:Math.min(r.x,s.x,u[0].x,u[1].x),minY:Math.min(r.y,s.y,u[0].y,u[1].y),maxX:Math.max(r.x,s.x,u[0].x,u[1].x),maxY:Math.max(r.y,s.y,u[0].y,u[1].y)}}},n.Overlays.Label=function(t){this.labelStyle=t.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var e=n.extend({create:function(){return n.createElement("div")}},t);if(n.Overlays.Custom.call(this,e),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(i.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0){var r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";i.style.border=this.labelStyle.borderWidth+"px solid "+r}this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},e.extend(n.Overlays.Label,n.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){null!=t.label&&this.setLabel(t.label)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this;t.jsPlumb.extend(t.jsPlumbInstance.prototype,{getEventManager:function(){return(e=(n=this)._mottle)||(e=n._mottle=new t.Mottle),e;var n,e},on:function(t,n,e){return this.getEventManager().on.apply(this,arguments),this},off:function(t,n,e){return this.getEventManager().off.apply(this,arguments),this}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumbUtil,e=t.jsPlumbInstance,i="stop",r="revert",o="_jsPlumbGroup",s="show",a="hide",u=function(t){var e={},i={},r={},u=this;function l(n,e){for(var i=n.getMembers(),r=0;r<i.length;r++)t[e?s:a](i[r],!0)}t.bind("connection",function(t){null!=t.source[o]&&null!=t.target[o]&&t.source[o]===t.target[o]?(i[t.connection.id]=t.source[o],r[t.connection.id]=t.source[o]):(null!=t.source[o]&&(n.suggest(t.source[o].connections.source,t.connection),i[t.connection.id]=t.source[o]),null!=t.target[o]&&(n.suggest(t.target[o].connections.target,t.connection),r[t.connection.id]=t.target[o]))}),t.bind("internal.connectionDetached",function(t){!function(t){delete t.proxies;var e,o=i[t.id];null!=o&&(e=function(n){return n.id===t.id},n.removeWithFunction(o.connections.source,e),n.removeWithFunction(o.connections.target,e),delete i[t.id]),null!=(o=r[t.id])&&(e=function(n){return n.id===t.id},n.removeWithFunction(o.connections.source,e),n.removeWithFunction(o.connections.target,e),delete r[t.id])}(t.connection)}),t.bind("connectionMoved",function(t){var n=(0===t.index?i:r)[t.connection.id];if(n){var e=n.connections[0===t.index?"source":"target"],o=e.indexOf(t.connection);-1!==o&&e.splice(o,1)}}),this.addGroup=function(n){t.addClass(n.getEl(),"jtk-group-expanded"),e[n.id]=n,n.manager=this,f(n),t.fire("group:add",{group:n})},this.addToGroup=function(n,e,i){if(n=this.getGroup(n)){var r=n.getEl();if(e._isJsPlumbGroup)return;var o=e._jsPlumbGroup;if(o!==n){var s=t.getOffset(e,!0),a=n.collapsed?t.getOffset(r,!0):t.getOffset(n.getDragArea(),!0);null!=o&&(o.remove(e,!1,i,!1,n),u.updateConnectionsForGroup(o)),n.add(e,i);var l=function(t,e){var i=0===e?1:0;t.each(function(t){t.setVisible(!1),t.endpoints[i].element._jsPlumbGroup===n?(t.endpoints[i].setVisible(!1),u.expandConnection(t,i,n)):(t.endpoints[e].setVisible(!1),u.collapseConnection(t,e,n))})};n.collapsed&&(l(t.select({source:e}),0),l(t.select({target:e}),1));var c=t.getId(e);t.dragManager.setParent(e,c,r,t.getId(r),s);var h={left:s.left-a.left,top:s.top-a.top};if(t.setPosition(e,h),t.dragManager.revalidateParent(e,c,s),u.updateConnectionsForGroup(n),t.revalidate(c),!i){var f={group:n,el:e};o&&(f.sourceGroup=o),t.fire("group:addMember",f)}}}},this.removeFromGroup=function(t,n,e){(t=this.getGroup(t))&&t.remove(n,null,e)},this.getGroup=function(t){var i=t;if(n.isString(t)&&null==(i=e[t]))throw new TypeError("No such group ["+t+"]");return i},this.getGroups=function(){var t=[];for(var n in e)t.push(e[n]);return t},this.removeGroup=function(n,i,r,o){n=this.getGroup(n),this.expandGroup(n,!0);var s=n[i?"removeAll":"orphanAll"](r,o);return t.remove(n.getEl()),delete e[n.id],delete t._groups[n.id],t.fire("group:remove",{group:n}),s},this.removeAllGroups=function(t,n,i){for(var r in e)this.removeGroup(e[r],t,n,i)};var c=this.collapseConnection=function(n,e,i){var r,s=i.getEl(),a=t.getId(s),u=n.endpoints[e].elementId,l=n.endpoints[0===e?1:0].element;l[o]&&!l[o].shouldProxy()&&l[o].collapsed||(n.proxies=n.proxies||[],(r=n.proxies[e]?n.proxies[e].ep:t.addEndpoint(s,{endpoint:i.getEndpoint(n,e),anchor:i.getAnchor(n,e),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),n.proxies[e]={ep:r,originalEp:n.endpoints[e]},0===e?t.anchorManager.sourceChanged(u,a,n,s):(t.anchorManager.updateOtherEndpoint(n.endpoints[0].elementId,u,a,n),n.target=s,n.targetId=a),n.proxies[e].originalEp.detachFromConnection(n,null,!0),r.connections=[n],n.endpoints[e]=r,n.setVisible(!0))};this.collapseGroup=function(n){if(null!=(n=this.getGroup(n))&&!n.collapsed){var e=n.getEl();if(l(n,!1),n.shouldProxy()){var i=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];c(r,e,n)}};i(n.connections.source,0),i(n.connections.target,1)}n.collapsed=!0,t.removeClass(e,"jtk-group-expanded"),t.addClass(e,"jtk-group-collapsed"),t.revalidate(e),t.fire("group:collapse",{group:n})}};var h=this.expandConnection=function(n,e,i){if(null!=n.proxies&&null!=n.proxies[e]){var r=t.getId(i.getEl()),o=n.proxies[e].originalEp.element,s=n.proxies[e].originalEp.elementId;n.endpoints[e]=n.proxies[e].originalEp,0===e?t.anchorManager.sourceChanged(r,s,n,o):(t.anchorManager.updateOtherEndpoint(n.endpoints[0].elementId,r,s,n),n.target=o,n.targetId=s),n.proxies[e].ep.detachFromConnection(n,null),n.proxies[e].originalEp.addConnection(n),delete n.proxies[e]}};function f(n){var e=n.getMembers(),o=t.getConnections({source:e,scope:"*"},!0),s=t.getConnections({target:e,scope:"*"},!0),a={};n.connections.source.length=0,n.connections.target.length=0;var u=function(t){for(var e=0;e<t.length;e++)a[t[e].id]||(a[t[e].id]=!0,t[e].source._jsPlumbGroup===n?(t[e].target._jsPlumbGroup!==n&&n.connections.source.push(t[e]),i[t[e].id]=n):t[e].target._jsPlumbGroup===n&&(n.connections.target.push(t[e]),r[t[e].id]=n))};u(o),u(s)}this.expandGroup=function(n,e){if(null!=(n=this.getGroup(n))&&n.collapsed){var i=n.getEl();if(l(n,!0),n.shouldProxy()){var r=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];h(r,e,n)}};r(n.connections.source,0),r(n.connections.target,1)}n.collapsed=!1,t.addClass(i,"jtk-group-expanded"),t.removeClass(i,"jtk-group-collapsed"),t.revalidate(i),this.repaintGroup(n),e||t.fire("group:expand",{group:n})}},this.repaintGroup=function(n){for(var e=(n=this.getGroup(n)).getMembers(),i=0;i<e.length;i++)t.revalidate(e[i])},this.updateConnectionsForGroup=f,this.refreshAllGroups=function(){for(var n in e)f(e[n]),t.dragManager.updateOffsets(t.getId(e[n].getEl()))}};e.prototype.addGroup=function(e){var s=this;if(s._groups=s._groups||{},null!=s._groups[e.id])throw new TypeError("cannot create Group ["+e.id+"]; a Group with that ID exists");if(null!=e.el[o])throw new TypeError("cannot create Group ["+e.id+"]; the given element is already a Group");var a=new function(e,s){var a=this,u=s.el;this.getEl=function(){return u},this.id=s.id||n.uuid(),u._isJsPlumbGroup=!0;var l=this.getDragArea=function(){var t=e.getSelector(u,"[jtk-group-content]");return t&&t.length>0?t[0]:u},c=!0===s.ghost,h=c||!0===s.constrain,f=!1!==s.revert,d=!0===s.orphan,p=!0===s.prune,g=!0===s.dropOverride,v=!1!==s.proxied,m=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,n){return s.anchor||"Continuous"},this.getEndpoint=function(t,n){return s.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==s.draggable){var y={stop:function(t){e.fire("groupDragStop",jsPlumb.extend(t,{group:a}))},scope:"_jsPlumbGroupDrag"};s.dragOptions&&t.jsPlumb.extend(y,s.dragOptions),e.draggable(s.el,y)}!1!==s.droppable&&e.droppable(s.el,{drop:function(t){var n=t.drag.el;if(!n._isJsPlumbGroup){var i=n._jsPlumbGroup;if(i!==a){if(null!=i&&i.overrideDrop(n,a))return;e.getGroupManager().addToGroup(a,n,!1)}}}});var b=function(t,n){for(var e=null==t.nodeType?t:[t],i=0;i<e.length;i++)n(e[i])};function _(t,n){var i=function(t){return t.offsetParent}(t),r=e.getSize(i),o=e.getSize(t),s=n[0],a=s+o[0],u=n[1],l=u+o[1];return a>0&&s<r[0]&&l>0&&u<r[1]}function P(t){var n=e.getId(t),i=e.getOffset(t);return t.parentNode.removeChild(t),e.getContainer().appendChild(t),e.setPosition(t,i),delete t._jsPlumbGroup,E(t),e.dragManager.clearParent(t,n),[n,i]}function x(t){var n=null;if(!_(t.el,t.pos)){var i=t.el._jsPlumbGroup;p?e.remove(t.el):n=P(t.el),i.remove(t.el)}return n}function C(t){var n=e.getId(t);e.revalidate(t),e.dragManager.revalidateParent(t,n)}function E(t){t._katavorioDrag&&((p||d)&&t._katavorioDrag.off(i,x),p||d||!f||(t._katavorioDrag.off(r,C),t._katavorioDrag.setRevert(null)))}function j(t){t._katavorioDrag&&((p||d)&&t._katavorioDrag.on(i,x),h&&t._katavorioDrag.setConstrain(!0),c&&t._katavorioDrag.setUseGhostProxy(!0),p||d||!f||(t._katavorioDrag.on(r,C),t._katavorioDrag.setRevert(function(t,n){return!_(t,n)})))}this.overrideDrop=function(t,n){return g&&(f||p||d)},this.add=function(t,n){var i=l();b(t,function(t){if(null!=t._jsPlumbGroup){if(t._jsPlumbGroup===a)return;t._jsPlumbGroup.remove(t,!0,n,!1)}t._jsPlumbGroup=a,m.push(t),e.isAlreadyDraggable(t)&&j(t),t.parentNode!==i&&i.appendChild(t)}),e.getGroupManager().updateConnectionsForGroup(a)},this.remove=function(t,i,r,o,s){b(t,function(t){if(delete t._jsPlumbGroup,n.removeWithFunction(m,function(n){return n===t}),i)try{a.getDragArea().removeChild(t)}catch(t){jsPlumbUtil.log("Could not remove element from Group "+t)}if(E(t),!r){var o={group:a,el:t};s&&(o.targetGroup=s),e.fire("group:removeMember",o)}}),o||e.getGroupManager().updateConnectionsForGroup(a)},this.removeAll=function(t,n){for(var i=0,r=m.length;i<r;i++){var o=m[0];a.remove(o,t,n,!0),e.remove(o,!0)}m.length=0,e.getGroupManager().updateConnectionsForGroup(a)},this.orphanAll=function(){for(var t={},n=0;n<m.length;n++){var e=P(m[n]);t[e[0]]=e[1]}return m.length=0,t},this.getMembers=function(){return m},u[o]=this,e.bind("elementDraggable",function(t){t.el._jsPlumbGroup===this&&j(t.el)}.bind(this)),this.shouldProxy=function(){return v},e.getGroupManager().addGroup(this)}(s,e);return s._groups[a.id]=a,e.collapsed&&this.collapseGroup(a),a},e.prototype.addToGroup=function(t,n,e){var i=function(n){var i=this.getId(n);this.manage(i,n),this.getGroupManager().addToGroup(t,n,e)}.bind(this);if(Array.isArray(n))for(var r=0;r<n.length;r++)i(n[r]);else i(n)},e.prototype.removeFromGroup=function(t,n,e){this.getGroupManager().removeFromGroup(t,n,e)},e.prototype.removeGroup=function(t,n,e,i){return this.getGroupManager().removeGroup(t,n,e,i)},e.prototype.removeAllGroups=function(t,n,e){this.getGroupManager().removeAllGroups(t,n,e)},e.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},e.prototype.getGroups=function(){return this.getGroupManager().getGroups()},e.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},e.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},e.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},e.prototype.toggleGroup=function(t){null!=(t=this.getGroupManager().getGroup(t))&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},e.prototype.getGroupManager=function(){var t=this._groupManager;return null==t&&(t=this._groupManager=new u(this)),t},e.prototype.removeGroupManager=function(){delete this._groupManager},e.prototype.getGroupFor=function(t){if(t=this.getElement(t))return t[o]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumb,n=this.jsPlumbUtil;t.Connectors.Flowchart=function(n){this.type="Flowchart",(n=n||{}).stub=null==n.stub?30:n.stub;var e,i=t.Connectors.AbstractConnector.apply(this,arguments),r=null==n.midpoint?.5:n.midpoint,o=!0===n.alwaysRespectStubs,s=null,a=null,u=null!=n.cornerRadius?n.cornerRadius:0,l=(n.loopbackRadius,function(t){return t<0?-1:0===t?0:1}),c=function(t){return[l(t[2]-t[0]),l(t[3]-t[1])]},h=function(t,n,e,i){if(s!==n||a!==e){var r=null==s?i.sx:s,o=null==a?i.sy:a,u=r===n?"v":"h";s=n,a=e,t.push([r,o,n,e,u])}},f=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},d=function(t){var n=[];return n.push.apply(n,t),n};this._compute=function(t,n){e=[],s=null,a=null;var l=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},p={perpendicular:l,orthogonal:l,opposite:function(n){var e=t,i="x"===n?0:1;return!o&&{x:function(){return 1===e.so[i]&&(e.startStubX>e.endStubX&&e.tx>e.startStubX||e.sx>e.endStubX&&e.tx>e.sx)||-1===e.so[i]&&(e.startStubX<e.endStubX&&e.tx<e.startStubX||e.sx<e.endStubX&&e.tx<e.sx)},y:function(){return 1===e.so[i]&&(e.startStubY>e.endStubY&&e.ty>e.startStubY||e.sy>e.endStubY&&e.ty>e.sy)||-1===e.so[i]&&(e.startStubY<e.endStubY&&e.ty<e.startStubY||e.sy<e.endStubY&&e.ty<e.sy)}}[n]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[n]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}}[t.anchorOrientation](t.sourceAxis),g="x"===t.sourceAxis?0:1,v="x"===t.sourceAxis?1:0,m=p[g],y=p[v],b=p[g+2],_=p[v+2];h(e,p[0],p[1],t);var P=t.startStubX+(t.endStubX-t.startStubX)*r,x=t.startStubY+(t.endStubY-t.startStubY)*r,C={x:[0,1],y:[1,0]},E={perpendicular:function(n){var e=t,i={x:[[e.startStubX,e.endStubX],null,[e.endStubX,e.startStubX]],y:[[e.startStubY,e.endStubY],null,[e.endStubY,e.startStubY]]},r={x:[[P,e.startStubY],[P,e.endStubY]],y:[[e.startStubX,x],[e.endStubX,x]]},o={x:[[e.endStubX,e.startStubY]],y:[[e.startStubX,e.endStubY]]},s={x:[[e.startStubX,e.endStubY],[e.endStubX,e.endStubY]],y:[[e.endStubX,e.startStubY],[e.endStubX,e.endStubY]]},a={x:[[e.startStubX,x],[e.endStubX,x],[e.endStubX,e.endStubY]],y:[[P,e.startStubY],[P,e.endStubY],[e.endStubX,e.endStubY]]},u={x:[e.startStubY,e.endStubY],y:[e.startStubX,e.endStubX]},l=C[n][0],c=C[n][1],h=e.so[l]+1,f=e.to[c]+1,d=-1===e.to[c]&&u[n][1]<u[n][0]||1===e.to[c]&&u[n][1]>u[n][0],p=i[n][h][0],g=i[n][h][1],v={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[n][h][f];return e.segment===v[3]||e.segment===v[2]&&d?r[n]:e.segment===v[2]&&g<p?o[n]:e.segment===v[2]&&g>=p||e.segment===v[1]&&!d?a[n]:e.segment===v[0]||e.segment===v[1]&&d?s[n]:void 0},orthogonal:function(n,e,i,r,o){var s=t,a={x:-1===s.so[0]?Math.min(e,r):Math.max(e,r),y:-1===s.so[1]?Math.min(e,r):Math.max(e,r)}[n];return{x:[[a,i],[a,o],[r,o]],y:[[i,a],[o,a],[o,r]]}[n]},opposite:function(e,r,o,s){var a=t,u={x:"y",y:"x"}[e],l={x:"height",y:"width"}[e],c=a["is"+e.toUpperCase()+"GreaterThanStubTimes2"];if(n.sourceEndpoint.elementId===n.targetEndpoint.elementId){var h=o+(1-n.sourceEndpoint.anchor[u])*n.sourceInfo[l]+i.maxStub;return{x:[[r,h],[s,h]],y:[[h,r],[h,s]]}[e]}return!c||1===a.so[g]&&r>s||-1===a.so[g]&&r<s?{x:[[r,x],[s,x]],y:[[P,r],[P,s]]}[e]:1===a.so[g]&&r<s||-1===a.so[g]&&r>s?{x:[[P,a.sy],[P,a.ty]],y:[[a.sx,x],[a.tx,x]]}[e]:void 0}}[t.anchorOrientation](t.sourceAxis,m,y,b,_);if(E)for(var j=0;j<E.length;j++)h(e,E[j][0],E[j][1],t);h(e,p[2],p[3],t),h(e,t.tx,t.ty,t),function(t,n,e){for(var r,o,s,a=null,l=0;l<n.length-1;l++){if(a=a||d(n[l]),r=d(n[l+1]),o=c(a),s=c(r),u>0&&a[4]!==r[4]){var h=Math.min(f(a),f(r)),p=Math.min(u,h/2);a[2]-=o[0]*p,a[3]-=o[1]*p,r[0]+=s[0]*p,r[1]+=s[1]*p;var g=o[1]===s[0]&&1===s[0]||o[1]===s[0]&&0===s[0]&&o[0]!==s[1]||o[1]===s[0]&&-1===s[0],v=(r[1]>a[3]?1:-1)==(r[0]>a[2]?1:-1),m=v&&g||!v&&!g?r[0]:a[2],y=v&&g||!v&&!g?a[3]:r[1];i.addSegment(t,"Straight",{x1:a[0],y1:a[1],x2:a[2],y2:a[3]}),i.addSegment(t,"Arc",{r:p,x1:a[2],y1:a[3],x2:r[0],y2:r[1],cx:m,cy:y,ac:g})}else{var b=a[2]===a[0]?0:a[2]>a[0]?e.lw/2:-e.lw/2,_=a[3]===a[1]?0:a[3]>a[1]?e.lw/2:-e.lw/2;i.addSegment(t,"Straight",{x1:a[0]-b,y1:a[1]-_,x2:a[2]+b,y2:a[3]+_})}a=r}null!=r&&i.addSegment(t,"Straight",{x1:r[0],y1:r[1],x2:r[2],y2:r[3]})}(this,e,t)}},n.extend(t.Connectors.Flowchart,t.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumb,n=this.jsPlumbUtil;t.Connectors.AbstractBezierConnector=function(n){var e,i=!1!==(n=n||{}).showLoopback,r=(n.curviness,n.margin||5),o=(n.proximityLimit,n.orientation&&"clockwise"===n.orientation),s=n.loopbackRadius||25;return this._compute=function(t,n){var a=n.sourcePos,u=n.targetPos,l=Math.abs(a[0]-u[0]),c=Math.abs(a[1]-u[1]);if(i&&n.sourceEndpoint.elementId===n.targetEndpoint.elementId){!0;var h=n.sourcePos[0],f=n.sourcePos[1]-r,d=h,p=f-s,g=d-s,v=p-s;l=2*s,c=2*s,t.points[0]=g,t.points[1]=v,t.points[2]=l,t.points[3]=c,e.addSegment(this,"Arc",{loopback:!0,x1:h-g+4,y1:f-v,startAngle:0,endAngle:2*Math.PI,r:s,ac:!o,x2:h-g-4,y2:f-v,cx:d-g,cy:p-v})}else!1,this._computeBezier(t,n,a,u,l,c)},e=t.Connectors.AbstractConnector.apply(this,arguments)},n.extend(t.Connectors.AbstractBezierConnector,t.Connectors.AbstractConnector);var e=function(n){n=n||{},this.type="Bezier";var e=t.Connectors.AbstractBezierConnector.apply(this,arguments),i=n.curviness||150;this.getCurviness=function(){return i},this._findControlPoint=function(t,n,e,r,o,s,a){var u=[];return s[0]!==a[0]||s[1]===a[1]?(0===a[0]?u.push(e[0]<n[0]?t[0]+10:t[0]-10):u.push(t[0]+i*a[0]),0===a[1]?u.push(e[1]<n[1]?t[1]+10:t[1]-10):u.push(t[1]+i*s[1])):(0===s[0]?u.push(n[0]<e[0]?t[0]+10:t[0]-10):u.push(t[0]-i*s[0]),0===s[1]?u.push(n[1]<e[1]?t[1]+10:t[1]-10):u.push(t[1]+i*a[1])),u},this._computeBezier=function(t,n,i,r,o,s){var a,u,l=i[0]<r[0]?o:0,c=i[1]<r[1]?s:0,h=i[0]<r[0]?0:o,f=i[1]<r[1]?0:s;a=this._findControlPoint([l,c],i,r,n.sourceEndpoint,n.targetEndpoint,t.so,t.to),u=this._findControlPoint([h,f],r,i,n.targetEndpoint,n.sourceEndpoint,t.to,t.so),e.addSegment(this,"Bezier",{x1:l,y1:c,x2:h,y2:f,cp1x:a[0],cp1y:a[1],cp2x:u[0],cp2y:u[1]})}};t.Connectors.Bezier=e,n.extend(e,t.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumb,n=this.jsPlumbUtil,e=function(n){n=n||{},this.type="StateMachine";var e,i=t.Connectors.AbstractBezierConnector.apply(this,arguments),r=n.curviness||10,o=n.margin||5,s=n.proximityLimit||80;n.orientation&&n.orientation;this._computeBezier=function(t,n,a,u,l,c){var h=n.sourcePos[0]<n.targetPos[0]?0:l,f=n.sourcePos[1]<n.targetPos[1]?0:c,d=n.sourcePos[0]<n.targetPos[0]?l:0,p=n.sourcePos[1]<n.targetPos[1]?c:0;0===n.sourcePos[2]&&(h-=o),1===n.sourcePos[2]&&(h+=o),0===n.sourcePos[3]&&(f-=o),1===n.sourcePos[3]&&(f+=o),0===n.targetPos[2]&&(d-=o),1===n.targetPos[2]&&(d+=o),0===n.targetPos[3]&&(p-=o),1===n.targetPos[3]&&(p+=o);var g,v,m,y,b,_,P,x,C=(h+d)/2,E=(f+p)/2,j=(_=f,x=p,(b=h)<=(P=d)&&x<=_?1:b<=P&&_<=x?2:P<=b&&x>=_?3:4),S=Math.sqrt(Math.pow(d-h,2)+Math.pow(p-f,2));g=(e=function(t,n,e,i,r,o,s,a,u){return a<=u?[t,n]:1===e?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),n]:i[2]>=1&&r[2]<=0?[t,n+(i[3]<.5?-1*s:s)]:[t+-1*o,n+-1*s]:2===e?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),n]:i[2]>=1&&r[2]<=0?[t,n+(i[3]<.5?-1*s:s)]:[t+o,n+-1*s]:3===e?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),n]:i[2]<=0&&r[2]>=1?[t,n+(i[3]<.5?-1*s:s)]:[t+-1*o,n+-1*s]:4===e?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),n]:i[2]<=0&&r[2]>=1?[t,n+(i[3]<.5?-1*s:s)]:[t+o,n+-1*s]:void 0}(C,E,j,n.sourcePos,n.targetPos,r,r,S,s))[0],v=e[0],m=e[1],y=e[1],i.addSegment(this,"Bezier",{x1:d,y1:p,x2:h,y2:f,cp1x:g,cp1y:m,cp2x:v,cp2y:y})}};t.Connectors.StateMachine=e,n.extend(e,t.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumb,n=this.jsPlumbUtil,e=function(n){this.type="Straight";var e=t.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t,n){e.addSegment(this,"Straight",{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),e.addSegment(this,"Straight",{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),e.addSegment(this,"Straight",{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};t.Connectors.Straight=e,n.extend(e,t.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumb,n=this.jsPlumbUtil,e={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},i="http://www.w3.org/2000/svg",r=function(t,n){for(var e in n)t.setAttribute(e,""+n[e])},o=function(n,e){return(e=e||{}).version="1.1",e.xmlns=i,t.createElementNS(i,n,null,null,e)},s=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},a=function(t){for(var n=t.querySelectorAll(" defs,linearGradient,radialGradient"),e=0;e<n.length;e++)n[e].parentNode.removeChild(n[e])},u=function(t,n,i,r,s){if(n.setAttribute("fill",i.fill?i.fill:"none"),n.setAttribute("stroke",i.stroke?i.stroke:"none"),i.gradient?function(t,n,e,i,r){var s,u="jsplumb_gradient_"+r._jsPlumb.instance.idstamp();a(t),s=e.gradient.offset?o("radialGradient",{id:u}):o("linearGradient",{id:u,gradientUnits:"userSpaceOnUse"});var l=o("defs");t.appendChild(l),l.appendChild(s);for(var c=0;c<e.gradient.stops.length;c++){var h=1===r.segment||2===r.segment?c:e.gradient.stops.length-1-c,f=e.gradient.stops[h][1],d=o("stop",{offset:Math.floor(100*e.gradient.stops[c][0])+"%","stop-color":f});s.appendChild(d)}var p=e.stroke?"stroke":"fill";n.setAttribute(p,"url(#"+u+")")}(t,n,i,0,s):(a(t),n.setAttribute("style","")),i.strokeWidth&&n.setAttribute("stroke-width",i.strokeWidth),i.dashstyle&&i.strokeWidth&&!i["stroke-dasharray"]){var u=-1===i.dashstyle.indexOf(",")?" ":",",l="";i.dashstyle.split(u).forEach(function(t){l+=Math.floor(t*i.strokeWidth)+u}),n.setAttribute("stroke-dasharray",l)}else i["stroke-dasharray"]&&n.setAttribute("stroke-dasharray",i["stroke-dasharray"]);for(var c in e)i[c]&&n.setAttribute(e[c],i[c])},l=function(t,n,e){t.childNodes.length>e?t.insertBefore(n,t.childNodes[e]):t.appendChild(n)};n.svg={node:o,attr:r,pos:s};var c=function(e){var i=e.pointerEventsSpec||"all",a={};t.jsPlumbUIComponent.apply(this,e.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var u=e.cssClass+" "+(e.originalArgs[0].cssClass||""),l={style:"",width:0,height:0,"pointer-events":i,position:"absolute"};this.svg=o("svg",l),e.useDivWrapper?(this.canvas=t.createElement("div",{position:"absolute"}),n.sizeElement(this.canvas,0,0,1,1),this.canvas.className=u):(r(this.svg,{class:u}),this.canvas=this.svg),e._jsPlumb.appendElement(this.canvas,e.originalArgs[0].parent),e.useDivWrapper&&this.canvas.appendChild(this.svg);var c=[this.canvas];return this.getDisplayElements=function(){return c},this.appendDisplayElement=function(t){c.push(t)},this.paint=function(t,i,o){if(null!=t){var u,l=[this.x,this.y],c=[this.w,this.h];null!=o&&(o.xmin<0&&(l[0]+=o.xmin),o.ymin<0&&(l[1]+=o.ymin),c[0]=o.xmax+(o.xmin<0?-o.xmin:0),c[1]=o.ymax+(o.ymin<0?-o.ymin:0)),e.useDivWrapper?(n.sizeElement(this.canvas,l[0],l[1],c[0],c[1]),l[0]=0,l[1]=0,u=s([0,0])):u=s([l[0],l[1]]),a.paint.apply(this,arguments),r(this.svg,{style:u,width:c[0]||0,height:c[1]||0})}},{renderer:a}};n.extend(c,t.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var n=t.getContainer();this.canvas&&null==this.canvas.parentNode&&n.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&n.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),t.ConnectorRenderers.svg=function(n){var e=this;c.apply(this,[{cssClass:n._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:n._jsPlumb}]).renderer.paint=function(i,s,a){var c=e.getSegments(),h=[0,0];if(a.xmin<0&&(h[0]=-a.xmin),a.ymin<0&&(h[1]=-a.ymin),c.length>0){var f={d:e.getPathData(),transform:"translate("+h[0]+","+h[1]+")","pointer-events":n["pointer-events"]||"visibleStroke"},d=null;e.x,e.y,e.w,e.h;if(i.outlineStroke){var p=i.outlineWidth||1,g=i.strokeWidth+2*p;delete(d=t.extend({},i)).gradient,d.stroke=i.outlineStroke,d.strokeWidth=g,null==e.bgPath?(e.bgPath=o("path",f),t.addClass(e.bgPath,t.connectorOutlineClass),l(e.svg,e.bgPath,0)):r(e.bgPath,f),u(e.svg,e.bgPath,d,0,e)}null==e.path?(e.path=o("path",f),l(e.svg,e.path,i.outlineStroke?1:0)):r(e.path,f),u(e.svg,e.path,i,0,e)}}},n.extend(t.ConnectorRenderers.svg,c);var h=t.SvgEndpoint=function(n){c.apply(this,[{cssClass:n._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:n._jsPlumb}]).renderer.paint=function(n){var e=t.extend({},n);e.outlineStroke&&(e.stroke=e.outlineStroke),null==this.node?(this.node=this.makeNode(e),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),u(this.svg,this.node,e,(this.x,this.y,this.w,this.h),this),s(this.node,(this.x,this.y))}.bind(this)};n.extend(h,c),t.Endpoints.svg.Dot=function(){t.Endpoints.Dot.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return o("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){r(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},n.extend(t.Endpoints.svg.Dot,[t.Endpoints.Dot,h]),t.Endpoints.svg.Rectangle=function(){t.Endpoints.Rectangle.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return o("rect",{width:this.w,height:this.h})},this.updateNode=function(t){r(t,{width:this.w,height:this.h})}},n.extend(t.Endpoints.svg.Rectangle,[t.Endpoints.Rectangle,h]),t.Endpoints.svg.Image=t.Endpoints.Image,t.Endpoints.svg.Blank=t.Endpoints.Blank,t.Overlays.svg.Label=t.Overlays.Label,t.Overlays.svg.Custom=t.Overlays.Custom;var f=function(n,e){n.apply(this,e),t.jsPlumbUIComponent.apply(this,e),this.isAppendedAtTopLevel=!1;this.path=null,this.paint=function(t,n){if(t.component.svg&&n){null==this.path&&(this.path=o("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var s=e&&1===e.length&&e[0].cssClass||"",a=[0,0];n.xmin<0&&(a[0]=-n.xmin),n.ymin<0&&(a[1]=-n.ymin),r(this.path,{d:i(t.d),class:s,stroke:t.stroke?t.stroke:null,fill:t.fill?t.fill:null,transform:"translate("+a[0]+","+a[1]+")"})}};var i=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};n.extend(f,[t.jsPlumbUIComponent,t.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t,n){this.path&&n.canvas&&n.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),t.Overlays.svg.Arrow=function(){f.apply(this,[t.Overlays.Arrow,arguments])},n.extend(t.Overlays.svg.Arrow,[t.Overlays.Arrow,f]),t.Overlays.svg.PlainArrow=function(){f.apply(this,[t.Overlays.PlainArrow,arguments])},n.extend(t.Overlays.svg.PlainArrow,[t.Overlays.PlainArrow,f]),t.Overlays.svg.Diamond=function(){f.apply(this,[t.Overlays.Diamond,arguments])},n.extend(t.Overlays.svg.Diamond,[t.Overlays.Diamond,f]),t.Overlays.svg.GuideLines=function(){var n,e,i=null,s=this;t.Overlays.GuideLines.apply(this,arguments),this.paint=function(t,u){null==i&&(i=o("path"),t.connector.svg.appendChild(i),s.attachListeners(i,t.connector),s.attachListeners(i,s),n=o("path"),t.connector.svg.appendChild(n),s.attachListeners(n,t.connector),s.attachListeners(n,s),e=o("path"),t.connector.svg.appendChild(e),s.attachListeners(e,t.connector),s.attachListeners(e,s));var l=[0,0];u.xmin<0&&(l[0]=-u.xmin),u.ymin<0&&(l[1]=-u.ymin),r(i,{d:a(t.head,t.tail),stroke:"red",fill:null,transform:"translate("+l[0]+","+l[1]+")"}),r(n,{d:a(t.tailLine[0],t.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+l[0]+","+l[1]+")"}),r(e,{d:a(t.headLine[0],t.headLine[1]),stroke:"green",fill:null,transform:"translate("+l[0]+","+l[1]+")"})};var a=function(t,n){return"M "+t.x+","+t.y+" L"+n.x+","+n.y}},n.extend(t.Overlays.svg.GuideLines,t.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.jsPlumb,n=this.jsPlumbUtil,e=this.Katavorio,i=this.Biltong,r=function(n,r){var o="_katavorio_"+(r=r||"main"),s=n[o],a=n.getEventManager();return s||((s=new e({bind:a.on,unbind:a.off,getSize:t.getSize,getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(t,e){var i=n.getOffset(t,e,t._katavorioDrag?t.offsetParent:null);return[i.left,i.top]},setPosition:function(t,n){t.style.left=n[0]+"px",t.style.top=n[1]+"px"},addClass:t.addClass,removeClass:t.removeClass,intersects:i.intersects,indexOf:function(t,n){return t.indexOf(n)},scope:n.getDefaultScope(),css:{noSelect:n.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(n.getZoom()),n[o]=s,n.bind("zoom",s.setZoom)),s};t.extend(this.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(t){return null==t?null:"string"==typeof(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t)?document.getElementById(t):t},removeElement:function(t){r(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(e,i,r){r=r||{};var o=this.getOffset(e),s=function(t,e){var i=function(i){if(null!=e[i]){if(n.isString(e[i])){var r=e[i].match(/-=/)?-1:1,o=e[i].substring(2);return t[i]+r*o}return e[i]}return t[i]};return[i("left"),i("top")]}(o,i),a=s[0]-o.left,u=s[1]-o.top,l=r.duration||250,c=l/15,h=15/l*a,f=15/l*u,d=0,p=setInterval(function(){t.setPosition(e,{left:o.left+h*(d+1),top:o.top+f*(d+1)}),null!=r.step&&r.step(d,Math.ceil(c)),++d>=c&&(window.clearInterval(p),null!=r.complete&&r.complete())},15)},destroyDraggable:function(t,n){r(this,n).destroyDraggable(t)},unbindDraggable:function(t,n,e,i){r(this,i).destroyDraggable(t,n,e)},destroyDroppable:function(t,n){r(this,n).destroyDroppable(t)},unbindDroppable:function(t,n,e,i){r(this,i).destroyDroppable(t,n,e)},initDraggable:function(t,n,e){r(this,e).draggable(t,n)},initDroppable:function(t,n,e){r(this,e).droppable(t,n)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,n){return!0},isDropSupported:function(t,n){return!0},isElementDraggable:function(n){return(n=t.getElement(n))._katavorioDrag&&n._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,n){var e=t[0].el;if(null==e.offsetParent)return null;var i=t[0].finalPos||t[0].pos,r={left:i[0],top:i[1]};if(e._katavorioDrag&&e.offsetParent!==this.getContainer()){var o=this.getOffset(e.offsetParent);r.left+=o.left,r.top+=o.top}return r},setDragFilter:function(t,n,e){t._katavorioDrag&&t._katavorioDrag.setFilter(n,e)},setElementDraggable:function(n,e){(n=t.getElement(n))._katavorioDrag&&n._katavorioDrag.setEnabled(e)},setDragScope:function(t,n){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,n)},setDropScope:function(t,n){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,n)},addToPosse:function(n,e){var i=Array.prototype.slice.call(arguments,1),o=r(this);t.each(n,function(n){(n=[t.getElement(n)]).push.apply(n,i),o.addToPosse.apply(o,n)})},setPosse:function(n,e){var i=Array.prototype.slice.call(arguments,1),o=r(this);t.each(n,function(n){(n=[t.getElement(n)]).push.apply(n,i),o.setPosse.apply(o,n)})},removeFromPosse:function(n,e){var i=Array.prototype.slice.call(arguments,1),o=r(this);t.each(n,function(n){(n=[t.getElement(n)]).push.apply(n,i),o.removeFromPosse.apply(o,n)})},removeFromAllPosses:function(n){var e=r(this);t.each(n,function(n){e.removeFromAllPosses(t.getElement(n))})},setPosseState:function(n,e,i){var o=r(this);t.each(n,function(n){o.setPosseState(t.getElement(n),e,i)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){r(this).select(t)},removeFromDragSelection:function(t){r(this).deselect(t)},clearDragSelection:function(){r(this).deselectAll()},trigger:function(t,n,e,i){this.getEventManager().trigger(t,n,e,i)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()}});var o,s;o=t.init,(s=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?o():setTimeout(s,9)})()}.call("undefined"!=typeof window?window:this)},K9tY:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=[{text:"事件",child:[{text:"开始",formKey:"",type:"start-event",size:[100,100],position:[0,0],point:{source:["TopCenter","BottomCenter","LeftMiddle","RightMiddle"]}},{text:"结束",size:[100,100],type:"end-event",position:[0,0],point:{target:["TopCenter","BottomCenter","LeftMiddle","RightMiddle"]}}]},{text:"任务",child:[{type:"user-task",text:"用户任务",assign:"",formKey:"",size:[100,100],position:[0,0],point:{both:["TopCenter","BottomCenter","LeftMiddle","RightMiddle"]}}]},{text:"网关",child:[{type:"exclusive",text:"分支网关",size:[100,100],position:[0,0],point:{both:["TopCenter","BottomCenter","LeftMiddle","RightMiddle"]}},{type:"parallel",text:"并行网关",size:[100,100],position:[0,0],point:{both:["TopCenter","BottomCenter","LeftMiddle","RightMiddle"]}}]}],r={strokeWidth:2,stroke:"#61B7CF",joinstyle:"round",outlineStroke:"white",outlineWidth:2},o={strokeWidth:3,stroke:"#216477",outlineWidth:5,outlineStroke:"white"},s={fill:"#216477",stroke:"#216477"},a={endpoint:"Dot",paintStyle:{stroke:"#7AB02C",fill:"transparent",radius:7,strokeWidth:1},isSource:!0,connector:["Flowchart",{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0}],connectorStyle:r,hoverPaintStyle:s,connectorHoverStyle:o,maxConnections:-1,dragOptions:{},overlays:[["Label",{location:[.5,1.5],label:"Drag",cssClass:"endpointSourceLabel",visible:!1}]]},u={endpoint:"Dot",paintStyle:{fill:"#B71C1C",radius:7},connector:["Flowchart",{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0}],connectorHoverStyle:o,maxConnections:-1,dropOptions:{hoverClass:"point-hover",activeClass:"point-active"},isTarget:!0,overlays:[["Label",{location:[.5,-.5],label:"Drop",cssClass:"endpointTargetLabel",visible:!1}]]},l={endpoint:"Dot",paintStyle:{fill:"#7AB02C",radius:7},connector:["Flowchart",{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0}],connectorStyle:r,hoverPaintStyle:s,connectorHoverStyle:o,maxConnections:-1,dropOptions:{hoverClass:"point-hover",activeClass:"point-active"},isTarget:!0,isSource:!0,overlays:[["Label",{location:[.5,-.5],label:"Drop",cssClass:"endpointTargetLabel",visible:!1}]]},c={props:{options:{type:Object},isModel:{type:Boolean,default:!0}},inject:["instance"],created:function(){this.options.position||(this.options.position=[0,0])},beforeDestory:function(){this.instance.remove(this.options.id)},mounted:function(){this.isModel&&this.initItem()},computed:{position:function(){return{left:this.options.position[0]+"px",top:this.options.position[1]+"px"}}},methods:{initItem:function(){this.bind(),this.addPoint()},bind:function(){var t=this;this.instance.draggable(this.$el,{containment:"parent",grid:[10,10],stop:function(n,e){t.options.position=n.finalPos}})},addPoint:function(){var t=this.options.point;this.addPoint_(a,t.source),this.addPoint_(u,t.target),this.addPoint_(l,t.both)},addPoint_:function(t,n){var e=this.options.id;if(n)for(var i=0;i<n.length;i++){var r=e+"_"+n[i];this.instance.addEndpoint(this.$el,t,{anchor:n[i],uuid:r})}}}},h={mixins:[c],name:"StartEvent",data:function(){return{}}},f={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"start-event",style:this.position,attrs:{id:this.options.id}},[this._v(this._s(this.options.text))])},staticRenderFns:[]};var d={mixins:[c],name:"EndEvent",data:function(){return{}}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"end-event",style:this.position,attrs:{id:this.options.id}},[this._v(this._s(this.options.text))])},staticRenderFns:[]};var g={mixins:[c],name:"UserTask",data:function(){return{}}},v={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"user-task",style:this.position,attrs:{id:this.options.id}},[this._v(this._s(this.options.text))])},staticRenderFns:[]};var m={mixins:[c],name:"Parallel",data:function(){return{}}},y={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"parallel",style:this.position,attrs:{id:this.options.id}},[n("i",{staticClass:"fc-icon-plus"})])},staticRenderFns:[]};var b={mixins:[c],name:"Exclusive",data:function(){return{}}},_={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"exclusive",style:this.position,attrs:{id:this.options.id}},[n("i",{staticClass:"fc-icon-plus"})])},staticRenderFns:[]};var P={name:"ProcModel",components:{StartEvent:e("VU/8")(h,f,!1,function(t){e("VaYH")},"data-v-d9298f1a",null).exports,EndEvent:e("VU/8")(d,p,!1,function(t){e("iMhn")},"data-v-5ab168a2",null).exports,UserTask:e("VU/8")(g,v,!1,function(t){e("KmG1")},"data-v-6f79777c",null).exports,Parallel:e("VU/8")(m,y,!1,function(t){e("lTme")},"data-v-02a50230",null).exports,Exclusive:e("VU/8")(b,_,!1,function(t){e("tXWT")},"data-v-59476bd0",null).exports},render:function(t){return t(this.options.type,{class:this.isModel?"proc-model":"aside-model",props:{options:this.options,isModel:this.isModel}},this.$slots.default)},props:{options:{type:Object},isModel:{type:Boolean,default:!0}}};var x=e("VU/8")(P,null,!1,function(t){e("kssE")},"data-v-2dc7d640",null).exports,C={name:"OptionForm",props:{config:{type:Object,required:!0}}},E={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-form",{attrs:{model:t.config,"label-width":"80px","label-position":"left"}},[t.config.hasOwnProperty("text")?e("el-form-item",{attrs:{label:"标签"}},[e("el-input",{model:{value:t.config.text,callback:function(n){t.$set(t.config,"text",n)},expression:"config.text"}})],1):t._e(),t._v(" "),t.config.hasOwnProperty("assign")?e("el-form-item",{attrs:{label:"经办人"}},[e("el-input",{model:{value:t.config.assign,callback:function(n){t.$set(t.config,"assign",n)},expression:"config.assign"}})],1):t._e(),t._v(" "),t.config.hasOwnProperty("formKey")?e("el-form-item",{attrs:{label:"表单"}},[e("el-input",{model:{value:t.config.formKey,callback:function(n){t.$set(t.config,"formKey",n)},expression:"config.formKey"}})],1):t._e()],1)},staticRenderFns:[]};var j=e("VU/8")(C,E,!1,function(t){e("fiCe")},"data-v-0bc73928",null).exports,S=e("DAYN"),w=e.n(S),D=e("3eaK"),I=e("M4fF"),A=e.n(I),k={name:"Procdef",components:{draggable:w.a,ProcModel:x,OptionForm:j},provide:function(){return this.initInstance(),{instance:this.instance}},watch:{curProcModel:{handler:function(t,n){t&&"connection"===t.type&&this.instance.getConnections({scope:"default",source:t.sourceId})[0].getOverlay("label").setLabel(t.text)},immediate:!0,deep:!0}},created:function(){this.initListener()},data:function(){return{procBaseModels:i,procModels:[],connections:[],instance:null,draggingItem:null,curProcModel:null,id:1}},methods:{onDragStart:function(t,n){this.draggingItem=A.a.cloneDeep(n),this.draggingItem.position=[t.offsetX,t.offsetY]},onDragEnd:function(t){t.preventDefault(),this.draggingItem.id=this.draggingItem.type+"_"+this.id;var n=t.clientX-this.$refs.procpanel.offsetLeft-this.draggingItem.position[0]+this.$refs.procpanel.parentElement.scrollLeft,e=t.clientY-this.$refs.procpanel.offsetTop-this.draggingItem.position[1]+this.$refs.procpanel.parentElement.scrollTop;this.draggingItem.position=[n,e],this.id++,this.procModels.push(this.draggingItem)},onDragover:function(t){t.preventDefault()},initInstance:function(){this.instance=D.jsPlumb.getInstance({Scope:"default",DragOptions:{cursor:"pointer",zIndex:2e3},ConnectionOverlays:[["Arrow",{location:1,visible:!0,width:11,length:11}],["Label",{location:.5,id:"label",cssClass:"aLabel"}]],Container:".procpanel"}),this.instance.registerConnectionType("basic",{connector:"StateMachine",paintStyle:{stroke:"red",strokeWidth:4},hoverPaintStyle:{stroke:"blue"},overlays:["Arrow"]})},initListener:function(){var t=this;t.instance.bind("beforeDrop",function(n){var e=n.sourceId,i=n.targetId,r=t.connections.findIndex(function(t){return t.sourceId===e&&t.targetId===i&&t.id!==n.connection.id});return-1!==r&&t.$message({type:"warning",message:"连线重复!"}),-1===r}),t.instance.bind("connection",function(n,e){var i=n.sourceId,r=n.targetId,o=n.sourceEndpoint.getUuid(),s=n.targetEndpoint.getUuid(),a=n.connection;t.addConnection(i,r,o,s,a.id),a.bind("dblclick",t.dbClickConnection),a.bind("click",t.clickConnection)}),t.instance.bind("connectionDetached",function(n,e){t.removeConnection(n.connection.id)}),t.instance.bind("connectionMoved",function(n,e){t.removeConnection(n.connection.id);var i=n.newSourceId,r=n.newTargetId,o=n.newSourceEndpoint.getUuid(),s=n.newTargetEndpoint.getUuid(),a=n.connection;t.addConnection(i,r,o,s,a.id)})},addConnection:function(t,n,e,i,r){this.connections.push({id:r,sourceId:t,targetId:n,sourceUuid:e,targetUuid:i,text:"",type:"connection"})},removeConnection:function(t){var n=this.connections.findIndex(function(n){return n.id===t});this.connections.splice(n,1)},setConnection:function(t){var n=this.connections.findIndex(function(n){return n.id===t});this.curProcModel=this.connections[n]},clickConnection:function(t){var n=t;t.component&&(n=t.component);var e=n.id;this.setConnection(e)},dbClickConnection:function(t){var n=this,e=t;t.component&&(e=t.component),n.$confirm("确认要删除连线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.instance.deleteConnection(e)})},setCurrentProcmodel:function(t){this.curProcModel=t},removeProcmodel:function(t){var n=this;n.$confirm("确认要删除该组件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.instance.remove(n.procModels[t].id),n.procModels.splice(t,1),n.curProcmodel=null})}}},O={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-container",[e("el-aside",{staticClass:"model-aside"},[e("el-collapse",{attrs:{accordion:""}},t._l(t.procBaseModels,function(n,i){return e("el-collapse-item",{key:i,attrs:{title:n.text,name:i}},[e("div",{staticClass:"collapse-panel"},t._l(n.child,function(n,i){return e("proc-model",{key:i,attrs:{options:n,isModel:!1,draggable:"true"},nativeOn:{dragstart:function(e){t.onDragStart(e,n)}}})}))])}))],1),t._v(" "),e("el-container",[e("el-main",[e("div",{ref:"procpanel",staticClass:"procpanel",on:{dragover:function(n){t.onDragover(n)},drop:function(n){t.onDragEnd(n)}}},t._l(t.procModels,function(n,i){return e("proc-model",{key:n.id,attrs:{options:n},nativeOn:{click:function(e){t.setCurrentProcmodel(n)},dblclick:function(n){t.removeProcmodel(i)}}})}))]),t._v(" "),e("el-aside",{staticClass:"option-form"},[null!==t.curProcModel?e("option-form",{attrs:{config:t.curProcModel}}):t._e()],1)],1)],1)},staticRenderFns:[]};var M=e("VU/8")(k,O,!1,function(t){e("lbsG")},"data-v-5b69e740",null);n.default=M.exports},KmG1:function(t,n){},M4fF:function(t,n,e){(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,d=2,p=4,g=1,v=2,m=1,y=2,b=4,_=8,P=16,x=32,C=64,E=128,j=256,S=512,w=30,D="...",I=800,A=16,k=1,O=2,M=1/0,T=9007199254740991,L=1.7976931348623157e308,F=NaN,R=4294967295,U=R-1,B=R>>>1,G=[["ary",E],["bind",m],["bindKey",y],["curry",_],["curryRight",P],["flip",S],["partial",x],["partialRight",C],["rearg",j]],N="[object Arguments]",W="[object Array]",z="[object AsyncFunction]",Y="[object Boolean]",H="[object Date]",X="[object DOMException]",V="[object Error]",$="[object Function]",q="[object GeneratorFunction]",K="[object Map]",Z="[object Number]",J="[object Null]",Q="[object Object]",tt="[object Proxy]",nt="[object RegExp]",et="[object Set]",it="[object String]",rt="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",gt="[object Uint8Array]",vt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",bt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,Pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,Ct=/[&<>"']/g,Et=RegExp(xt.source),jt=RegExp(Ct.source),St=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,Mt=RegExp(Ot.source),Tt=/^\s+|\s+$/g,Lt=/^\s+/,Ft=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,Gt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Xt=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,$t=/^(?:0|[1-9]\d*)$/,qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="[\\ud800-\\udfff]",nn="["+Qt+"]",en="["+Jt+"]",rn="\\d+",on="[\\u2700-\\u27bf]",sn="[a-z\\xdf-\\xf6\\xf8-\\xff]",an="[^\\ud800-\\udfff"+Qt+rn+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",un="\\ud83c[\\udffb-\\udfff]",ln="[^\\ud800-\\udfff]",cn="(?:\\ud83c[\\udde6-\\uddff]){2}",hn="[\\ud800-\\udbff][\\udc00-\\udfff]",fn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dn="(?:"+sn+"|"+an+")",pn="(?:"+fn+"|"+an+")",gn="(?:"+en+"|"+un+")"+"?",vn="[\\ufe0e\\ufe0f]?"+gn+("(?:\\u200d(?:"+[ln,cn,hn].join("|")+")[\\ufe0e\\ufe0f]?"+gn+")*"),mn="(?:"+[on,cn,hn].join("|")+")"+vn,yn="(?:"+[ln+en+"?",en,cn,hn,tn].join("|")+")",bn=RegExp("['’]","g"),_n=RegExp(en,"g"),Pn=RegExp(un+"(?="+un+")|"+yn+vn,"g"),xn=RegExp([fn+"?"+sn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[nn,fn,"$"].join("|")+")",pn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[nn,fn+dn,"$"].join("|")+")",fn+"?"+dn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",fn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rn,mn].join("|"),"g"),Cn=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),En=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sn=-1,wn={};wn[ct]=wn[ht]=wn[ft]=wn[dt]=wn[pt]=wn[gt]=wn[vt]=wn[mt]=wn[yt]=!0,wn[N]=wn[W]=wn[ut]=wn[Y]=wn[lt]=wn[H]=wn[V]=wn[$]=wn[K]=wn[Z]=wn[Q]=wn[nt]=wn[et]=wn[it]=wn[st]=!1;var Dn={};Dn[N]=Dn[W]=Dn[ut]=Dn[lt]=Dn[Y]=Dn[H]=Dn[ct]=Dn[ht]=Dn[ft]=Dn[dt]=Dn[pt]=Dn[K]=Dn[Z]=Dn[Q]=Dn[nt]=Dn[et]=Dn[it]=Dn[rt]=Dn[gt]=Dn[vt]=Dn[mt]=Dn[yt]=!0,Dn[V]=Dn[$]=Dn[st]=!1;var In={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,kn=parseInt,On="object"==typeof t&&t&&t.Object===Object&&t,Mn="object"==typeof self&&self&&self.Object===Object&&self,Tn=On||Mn||Function("return this")(),Ln="object"==typeof n&&n&&!n.nodeType&&n,Fn=Ln&&"object"==typeof i&&i&&!i.nodeType&&i,Rn=Fn&&Fn.exports===Ln,Un=Rn&&On.process,Bn=function(){try{var t=Fn&&Fn.require&&Fn.require("util").types;return t||Un&&Un.binding&&Un.binding("util")}catch(t){}}(),Gn=Bn&&Bn.isArrayBuffer,Nn=Bn&&Bn.isDate,Wn=Bn&&Bn.isMap,zn=Bn&&Bn.isRegExp,Yn=Bn&&Bn.isSet,Hn=Bn&&Bn.isTypedArray;function Xn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function Vn(t,n,e,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];n(i,s,e(s),t)}return i}function $n(t,n){for(var e=-1,i=null==t?0:t.length;++e<i&&!1!==n(t[e],e,t););return t}function qn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Kn(t,n){for(var e=-1,i=null==t?0:t.length;++e<i;)if(!n(t[e],e,t))return!1;return!0}function Zn(t,n){for(var e=-1,i=null==t?0:t.length,r=0,o=[];++e<i;){var s=t[e];n(s,e,t)&&(o[r++]=s)}return o}function Jn(t,n){return!!(null==t?0:t.length)&&ue(t,n,0)>-1}function Qn(t,n,e){for(var i=-1,r=null==t?0:t.length;++i<r;)if(e(n,t[i]))return!0;return!1}function te(t,n){for(var e=-1,i=null==t?0:t.length,r=Array(i);++e<i;)r[e]=n(t[e],e,t);return r}function ne(t,n){for(var e=-1,i=n.length,r=t.length;++e<i;)t[r+e]=n[e];return t}function ee(t,n,e,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(e=t[++r]);++r<o;)e=n(e,t[r],r,t);return e}function ie(t,n,e,i){var r=null==t?0:t.length;for(i&&r&&(e=t[--r]);r--;)e=n(e,t[r],r,t);return e}function re(t,n){for(var e=-1,i=null==t?0:t.length;++e<i;)if(n(t[e],e,t))return!0;return!1}var oe=fe("length");function se(t,n,e){var i;return e(t,function(t,e,r){if(n(t,e,r))return i=e,!1}),i}function ae(t,n,e,i){for(var r=t.length,o=e+(i?1:-1);i?o--:++o<r;)if(n(t[o],o,t))return o;return-1}function ue(t,n,e){return n==n?function(t,n,e){var i=e-1,r=t.length;for(;++i<r;)if(t[i]===n)return i;return-1}(t,n,e):ae(t,ce,e)}function le(t,n,e,i){for(var r=e-1,o=t.length;++r<o;)if(i(t[r],n))return r;return-1}function ce(t){return t!=t}function he(t,n){var e=null==t?0:t.length;return e?ge(t,n)/e:F}function fe(t){return function(n){return null==n?o:n[t]}}function de(t){return function(n){return null==t?o:t[n]}}function pe(t,n,e,i,r){return r(t,function(t,r,o){e=i?(i=!1,t):n(e,t,r,o)}),e}function ge(t,n){for(var e,i=-1,r=t.length;++i<r;){var s=n(t[i]);s!==o&&(e=e===o?s:e+s)}return e}function ve(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i}function me(t){return function(n){return t(n)}}function ye(t,n){return te(n,function(n){return t[n]})}function be(t,n){return t.has(n)}function _e(t,n){for(var e=-1,i=t.length;++e<i&&ue(n,t[e],0)>-1;);return e}function Pe(t,n){for(var e=t.length;e--&&ue(n,t[e],0)>-1;);return e}var xe=de({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ce=de({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ee(t){return"\\"+In[t]}function je(t){return Cn.test(t)}function Se(t){var n=-1,e=Array(t.size);return t.forEach(function(t,i){e[++n]=[i,t]}),e}function we(t,n){return function(e){return t(n(e))}}function De(t,n){for(var e=-1,i=t.length,r=0,o=[];++e<i;){var s=t[e];s!==n&&s!==h||(t[e]=h,o[r++]=e)}return o}function Ie(t,n){return"__proto__"==n?o:t[n]}function Ae(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function ke(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=[t,t]}),e}function Oe(t){return je(t)?function(t){var n=Pn.lastIndex=0;for(;Pn.test(t);)++n;return n}(t):oe(t)}function Me(t){return je(t)?function(t){return t.match(Pn)||[]}(t):function(t){return t.split("")}(t)}var Te=de({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Le=function t(n){var e,i=(n=null==n?Tn:Le.defaults(Tn.Object(),n,Le.pick(Tn,jn))).Array,r=n.Date,Jt=n.Error,Qt=n.Function,tn=n.Math,nn=n.Object,en=n.RegExp,rn=n.String,on=n.TypeError,sn=i.prototype,an=Qt.prototype,un=nn.prototype,ln=n["__core-js_shared__"],cn=an.toString,hn=un.hasOwnProperty,fn=0,dn=(e=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",pn=un.toString,gn=cn.call(nn),vn=Tn._,mn=en("^"+cn.call(hn).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yn=Rn?n.Buffer:o,Pn=n.Symbol,Cn=n.Uint8Array,In=yn?yn.allocUnsafe:o,On=we(nn.getPrototypeOf,nn),Mn=nn.create,Ln=un.propertyIsEnumerable,Fn=sn.splice,Un=Pn?Pn.isConcatSpreadable:o,Bn=Pn?Pn.iterator:o,oe=Pn?Pn.toStringTag:o,de=function(){try{var t=Go(nn,"defineProperty");return t({},"",{}),t}catch(t){}}(),Fe=n.clearTimeout!==Tn.clearTimeout&&n.clearTimeout,Re=r&&r.now!==Tn.Date.now&&r.now,Ue=n.setTimeout!==Tn.setTimeout&&n.setTimeout,Be=tn.ceil,Ge=tn.floor,Ne=nn.getOwnPropertySymbols,We=yn?yn.isBuffer:o,ze=n.isFinite,Ye=sn.join,He=we(nn.keys,nn),Xe=tn.max,Ve=tn.min,$e=r.now,qe=n.parseInt,Ke=tn.random,Ze=sn.reverse,Je=Go(n,"DataView"),Qe=Go(n,"Map"),ti=Go(n,"Promise"),ni=Go(n,"Set"),ei=Go(n,"WeakMap"),ii=Go(nn,"create"),ri=ei&&new ei,oi={},si=hs(Je),ai=hs(Qe),ui=hs(ti),li=hs(ni),ci=hs(ei),hi=Pn?Pn.prototype:o,fi=hi?hi.valueOf:o,di=hi?hi.toString:o;function pi(t){if(Da(t)&&!ma(t)&&!(t instanceof yi)){if(t instanceof mi)return t;if(hn.call(t,"__wrapped__"))return fs(t)}return new mi(t)}var gi=function(){function t(){}return function(n){if(!wa(n))return{};if(Mn)return Mn(n);t.prototype=n;var e=new t;return t.prototype=o,e}}();function vi(){}function mi(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function yi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function bi(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function _i(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function Pi(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function xi(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new Pi;++n<e;)this.add(t[n])}function Ci(t){var n=this.__data__=new _i(t);this.size=n.size}function Ei(t,n){var e=ma(t),i=!e&&va(t),r=!e&&!i&&Pa(t),o=!e&&!i&&!r&&Fa(t),s=e||i||r||o,a=s?ve(t.length,rn):[],u=a.length;for(var l in t)!n&&!hn.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Vo(l,u))||a.push(l);return a}function ji(t){var n=t.length;return n?t[xr(0,n-1)]:o}function Si(t,n){return us(io(t),Li(n,0,t.length))}function wi(t){return us(io(t))}function Di(t,n,e){(e===o||da(t[n],e))&&(e!==o||n in t)||Mi(t,n,e)}function Ii(t,n,e){var i=t[n];hn.call(t,n)&&da(i,e)&&(e!==o||n in t)||Mi(t,n,e)}function Ai(t,n){for(var e=t.length;e--;)if(da(t[e][0],n))return e;return-1}function ki(t,n,e,i){return Gi(t,function(t,r,o){n(i,t,e(t),o)}),i}function Oi(t,n){return t&&ro(n,ru(n),t)}function Mi(t,n,e){"__proto__"==n&&de?de(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Ti(t,n){for(var e=-1,r=n.length,s=i(r),a=null==t;++e<r;)s[e]=a?o:Qa(t,n[e]);return s}function Li(t,n,e){return t==t&&(e!==o&&(t=t<=e?t:e),n!==o&&(t=t>=n?t:n)),t}function Fi(t,n,e,i,r,s){var a,u=n&f,l=n&d,c=n&p;if(e&&(a=r?e(t,i,r,s):e(t)),a!==o)return a;if(!wa(t))return t;var h=ma(t);if(h){if(a=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&hn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!u)return io(t,a)}else{var g=zo(t),v=g==$||g==q;if(Pa(t))return Zr(t,u);if(g==Q||g==N||v&&!r){if(a=l||v?{}:Ho(t),!u)return l?function(t,n){return ro(t,Wo(t),n)}(t,function(t,n){return t&&ro(n,ou(n),t)}(a,t)):function(t,n){return ro(t,No(t),n)}(t,Oi(a,t))}else{if(!Dn[g])return r?t:{};a=function(t,n,e){var i,r,o,s=t.constructor;switch(n){case ut:return Jr(t);case Y:case H:return new s(+t);case lt:return function(t,n){var e=n?Jr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case ct:case ht:case ft:case dt:case pt:case gt:case vt:case mt:case yt:return Qr(t,e);case K:return new s;case Z:case it:return new s(t);case nt:return(o=new(r=t).constructor(r.source,zt.exec(r))).lastIndex=r.lastIndex,o;case et:return new s;case rt:return i=t,fi?nn(fi.call(i)):{}}}(t,g,u)}}s||(s=new Ci);var m=s.get(t);if(m)return m;if(s.set(t,a),Ma(t))return t.forEach(function(i){a.add(Fi(i,n,e,i,t,s))}),a;if(Ia(t))return t.forEach(function(i,r){a.set(r,Fi(i,n,e,r,t,s))}),a;var y=h?o:(c?l?Mo:Oo:l?ou:ru)(t);return $n(y||t,function(i,r){y&&(i=t[r=i]),Ii(a,r,Fi(i,n,e,r,t,s))}),a}function Ri(t,n,e){var i=e.length;if(null==t)return!i;for(t=nn(t);i--;){var r=e[i],s=n[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function Ui(t,n,e){if("function"!=typeof t)throw new on(u);return rs(function(){t.apply(o,e)},n)}function Bi(t,n,e,i){var r=-1,o=Jn,a=!0,u=t.length,l=[],c=n.length;if(!u)return l;e&&(n=te(n,me(e))),i?(o=Qn,a=!1):n.length>=s&&(o=be,a=!1,n=new xi(n));t:for(;++r<u;){var h=t[r],f=null==e?h:e(h);if(h=i||0!==h?h:0,a&&f==f){for(var d=c;d--;)if(n[d]===f)continue t;l.push(h)}else o(n,f,i)||l.push(h)}return l}pi.templateSettings={escape:St,evaluate:wt,interpolate:Dt,variable:"",imports:{_:pi}},pi.prototype=vi.prototype,pi.prototype.constructor=pi,mi.prototype=gi(vi.prototype),mi.prototype.constructor=mi,yi.prototype=gi(vi.prototype),yi.prototype.constructor=yi,bi.prototype.clear=function(){this.__data__=ii?ii(null):{},this.size=0},bi.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},bi.prototype.get=function(t){var n=this.__data__;if(ii){var e=n[t];return e===l?o:e}return hn.call(n,t)?n[t]:o},bi.prototype.has=function(t){var n=this.__data__;return ii?n[t]!==o:hn.call(n,t)},bi.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ii&&n===o?l:n,this},_i.prototype.clear=function(){this.__data__=[],this.size=0},_i.prototype.delete=function(t){var n=this.__data__,e=Ai(n,t);return!(e<0||(e==n.length-1?n.pop():Fn.call(n,e,1),--this.size,0))},_i.prototype.get=function(t){var n=this.__data__,e=Ai(n,t);return e<0?o:n[e][1]},_i.prototype.has=function(t){return Ai(this.__data__,t)>-1},_i.prototype.set=function(t,n){var e=this.__data__,i=Ai(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this},Pi.prototype.clear=function(){this.size=0,this.__data__={hash:new bi,map:new(Qe||_i),string:new bi}},Pi.prototype.delete=function(t){var n=Uo(this,t).delete(t);return this.size-=n?1:0,n},Pi.prototype.get=function(t){return Uo(this,t).get(t)},Pi.prototype.has=function(t){return Uo(this,t).has(t)},Pi.prototype.set=function(t,n){var e=Uo(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this},xi.prototype.add=xi.prototype.push=function(t){return this.__data__.set(t,l),this},xi.prototype.has=function(t){return this.__data__.has(t)},Ci.prototype.clear=function(){this.__data__=new _i,this.size=0},Ci.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Ci.prototype.get=function(t){return this.__data__.get(t)},Ci.prototype.has=function(t){return this.__data__.has(t)},Ci.prototype.set=function(t,n){var e=this.__data__;if(e instanceof _i){var i=e.__data__;if(!Qe||i.length<s-1)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new Pi(i)}return e.set(t,n),this.size=e.size,this};var Gi=ao($i),Ni=ao(qi,!0);function Wi(t,n){var e=!0;return Gi(t,function(t,i,r){return e=!!n(t,i,r)}),e}function zi(t,n,e){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=n(s);if(null!=a&&(u===o?a==a&&!La(a):e(a,u)))var u=a,l=s}return l}function Yi(t,n){var e=[];return Gi(t,function(t,i,r){n(t,i,r)&&e.push(t)}),e}function Hi(t,n,e,i,r){var o=-1,s=t.length;for(e||(e=Xo),r||(r=[]);++o<s;){var a=t[o];n>0&&e(a)?n>1?Hi(a,n-1,e,i,r):ne(r,a):i||(r[r.length]=a)}return r}var Xi=uo(),Vi=uo(!0);function $i(t,n){return t&&Xi(t,n,ru)}function qi(t,n){return t&&Vi(t,n,ru)}function Ki(t,n){return Zn(n,function(n){return Ea(t[n])})}function Zi(t,n){for(var e=0,i=(n=Vr(n,t)).length;null!=t&&e<i;)t=t[cs(n[e++])];return e&&e==i?t:o}function Ji(t,n,e){var i=n(t);return ma(t)?i:ne(i,e(t))}function Qi(t){return null==t?t===o?ot:J:oe&&oe in nn(t)?function(t){var n=hn.call(t,oe),e=t[oe];try{t[oe]=o;var i=!0}catch(t){}var r=pn.call(t);return i&&(n?t[oe]=e:delete t[oe]),r}(t):function(t){return pn.call(t)}(t)}function tr(t,n){return t>n}function nr(t,n){return null!=t&&hn.call(t,n)}function er(t,n){return null!=t&&n in nn(t)}function ir(t,n,e){for(var r=e?Qn:Jn,s=t[0].length,a=t.length,u=a,l=i(a),c=1/0,h=[];u--;){var f=t[u];u&&n&&(f=te(f,me(n))),c=Ve(f.length,c),l[u]=!e&&(n||s>=120&&f.length>=120)?new xi(u&&f):o}f=t[0];var d=-1,p=l[0];t:for(;++d<s&&h.length<c;){var g=f[d],v=n?n(g):g;if(g=e||0!==g?g:0,!(p?be(p,v):r(h,v,e))){for(u=a;--u;){var m=l[u];if(!(m?be(m,v):r(t[u],v,e)))continue t}p&&p.push(v),h.push(g)}}return h}function rr(t,n,e){var i=null==(t=es(t,n=Vr(n,t)))?t:t[cs(Cs(n))];return null==i?o:Xn(i,t,e)}function or(t){return Da(t)&&Qi(t)==N}function sr(t,n,e,i,r){return t===n||(null==t||null==n||!Da(t)&&!Da(n)?t!=t&&n!=n:function(t,n,e,i,r,s){var a=ma(t),u=ma(n),l=a?W:zo(t),c=u?W:zo(n),h=(l=l==N?Q:l)==Q,f=(c=c==N?Q:c)==Q,d=l==c;if(d&&Pa(t)){if(!Pa(n))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Ci),a||Fa(t)?Ao(t,n,e,i,r,s):function(t,n,e,i,r,o,s){switch(e){case lt:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ut:return!(t.byteLength!=n.byteLength||!o(new Cn(t),new Cn(n)));case Y:case H:case Z:return da(+t,+n);case V:return t.name==n.name&&t.message==n.message;case nt:case it:return t==n+"";case K:var a=Se;case et:var u=i&g;if(a||(a=Ae),t.size!=n.size&&!u)return!1;var l=s.get(t);if(l)return l==n;i|=v,s.set(t,n);var c=Ao(a(t),a(n),i,r,o,s);return s.delete(t),c;case rt:if(fi)return fi.call(t)==fi.call(n)}return!1}(t,n,l,e,i,r,s);if(!(e&g)){var p=h&&hn.call(t,"__wrapped__"),m=f&&hn.call(n,"__wrapped__");if(p||m){var y=p?t.value():t,b=m?n.value():n;return s||(s=new Ci),r(y,b,e,i,s)}}return!!d&&(s||(s=new Ci),function(t,n,e,i,r,s){var a=e&g,u=Oo(t),l=u.length,c=Oo(n).length;if(l!=c&&!a)return!1;for(var h=l;h--;){var f=u[h];if(!(a?f in n:hn.call(n,f)))return!1}var d=s.get(t);if(d&&s.get(n))return d==n;var p=!0;s.set(t,n),s.set(n,t);for(var v=a;++h<l;){f=u[h];var m=t[f],y=n[f];if(i)var b=a?i(y,m,f,n,t,s):i(m,y,f,t,n,s);if(!(b===o?m===y||r(m,y,e,i,s):b)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var _=t.constructor,P=n.constructor;_!=P&&"constructor"in t&&"constructor"in n&&!("function"==typeof _&&_ instanceof _&&"function"==typeof P&&P instanceof P)&&(p=!1)}return s.delete(t),s.delete(n),p}(t,n,e,i,r,s))}(t,n,e,i,sr,r))}function ar(t,n,e,i){var r=e.length,s=r,a=!i;if(null==t)return!s;for(t=nn(t);r--;){var u=e[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<s;){var l=(u=e[r])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new Ci;if(i)var d=i(c,h,l,t,n,f);if(!(d===o?sr(h,c,g|v,i,f):d))return!1}}return!0}function ur(t){return!(!wa(t)||dn&&dn in t)&&(Ea(t)?mn:Xt).test(hs(t))}function lr(t){return"function"==typeof t?t:null==t?Au:"object"==typeof t?ma(t)?gr(t[0],t[1]):pr(t):Bu(t)}function cr(t){if(!Jo(t))return He(t);var n=[];for(var e in nn(t))hn.call(t,e)&&"constructor"!=e&&n.push(e);return n}function hr(t){if(!wa(t))return function(t){var n=[];if(null!=t)for(var e in nn(t))n.push(e);return n}(t);var n=Jo(t),e=[];for(var i in t)("constructor"!=i||!n&&hn.call(t,i))&&e.push(i);return e}function fr(t,n){return t<n}function dr(t,n){var e=-1,r=ba(t)?i(t.length):[];return Gi(t,function(t,i,o){r[++e]=n(t,i,o)}),r}function pr(t){var n=Bo(t);return 1==n.length&&n[0][2]?ts(n[0][0],n[0][1]):function(e){return e===t||ar(e,t,n)}}function gr(t,n){return qo(t)&&Qo(n)?ts(cs(t),n):function(e){var i=Qa(e,t);return i===o&&i===n?tu(e,t):sr(n,i,g|v)}}function vr(t,n,e,i,r){t!==n&&Xi(n,function(s,a){if(wa(s))r||(r=new Ci),function(t,n,e,i,r,s,a){var u=Ie(t,e),l=Ie(n,e),c=a.get(l);if(c)Di(t,e,c);else{var h=s?s(u,l,e+"",t,n,a):o,f=h===o;if(f){var d=ma(l),p=!d&&Pa(l),g=!d&&!p&&Fa(l);h=l,d||p||g?ma(u)?h=u:_a(u)?h=io(u):p?(f=!1,h=Zr(l,!0)):g?(f=!1,h=Qr(l,!0)):h=[]:ka(l)||va(l)?(h=u,va(u)?h=Ya(u):(!wa(u)||i&&Ea(u))&&(h=Ho(l))):f=!1}f&&(a.set(l,h),r(h,l,i,s,a),a.delete(l)),Di(t,e,h)}}(t,n,a,e,vr,i,r);else{var u=i?i(Ie(t,a),s,a+"",t,n,r):o;u===o&&(u=s),Di(t,a,u)}},ou)}function mr(t,n){var e=t.length;if(e)return Vo(n+=n<0?e:0,e)?t[n]:o}function yr(t,n,e){var i=-1;return n=te(n.length?n:[Au],me(Ro())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(dr(t,function(t,e,r){return{criteria:te(n,function(n){return n(t)}),index:++i,value:t}}),function(t,n){return function(t,n,e){for(var i=-1,r=t.criteria,o=n.criteria,s=r.length,a=e.length;++i<s;){var u=to(r[i],o[i]);if(u){if(i>=a)return u;var l=e[i];return u*("desc"==l?-1:1)}}return t.index-n.index}(t,n,e)})}function br(t,n,e){for(var i=-1,r=n.length,o={};++i<r;){var s=n[i],a=Zi(t,s);e(a,s)&&wr(o,Vr(s,t),a)}return o}function _r(t,n,e,i){var r=i?le:ue,o=-1,s=n.length,a=t;for(t===n&&(n=io(n)),e&&(a=te(t,me(e)));++o<s;)for(var u=0,l=n[o],c=e?e(l):l;(u=r(a,c,u,i))>-1;)a!==t&&Fn.call(a,u,1),Fn.call(t,u,1);return t}function Pr(t,n){for(var e=t?n.length:0,i=e-1;e--;){var r=n[e];if(e==i||r!==o){var o=r;Vo(r)?Fn.call(t,r,1):Br(t,r)}}return t}function xr(t,n){return t+Ge(Ke()*(n-t+1))}function Cr(t,n){var e="";if(!t||n<1||n>T)return e;do{n%2&&(e+=t),(n=Ge(n/2))&&(t+=t)}while(n);return e}function Er(t,n){return os(ns(t,n,Au),t+"")}function jr(t){return ji(du(t))}function Sr(t,n){var e=du(t);return us(e,Li(n,0,e.length))}function wr(t,n,e,i){if(!wa(t))return t;for(var r=-1,s=(n=Vr(n,t)).length,a=s-1,u=t;null!=u&&++r<s;){var l=cs(n[r]),c=e;if(r!=a){var h=u[l];(c=i?i(h,l,u):o)===o&&(c=wa(h)?h:Vo(n[r+1])?[]:{})}Ii(u,l,c),u=u[l]}return t}var Dr=ri?function(t,n){return ri.set(t,n),t}:Au,Ir=de?function(t,n){return de(t,"toString",{configurable:!0,enumerable:!1,value:wu(n),writable:!0})}:Au;function Ar(t){return us(du(t))}function kr(t,n,e){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var s=i(o);++r<o;)s[r]=t[r+n];return s}function Or(t,n){var e;return Gi(t,function(t,i,r){return!(e=n(t,i,r))}),!!e}function Mr(t,n,e){var i=0,r=null==t?i:t.length;if("number"==typeof n&&n==n&&r<=B){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!La(s)&&(e?s<=n:s<n)?i=o+1:r=o}return r}return Tr(t,n,Au,e)}function Tr(t,n,e,i){n=e(n);for(var r=0,s=null==t?0:t.length,a=n!=n,u=null===n,l=La(n),c=n===o;r<s;){var h=Ge((r+s)/2),f=e(t[h]),d=f!==o,p=null===f,g=f==f,v=La(f);if(a)var m=i||g;else m=c?g&&(i||d):u?g&&d&&(i||!p):l?g&&d&&!p&&(i||!v):!p&&!v&&(i?f<=n:f<n);m?r=h+1:s=h}return Ve(s,U)}function Lr(t,n){for(var e=-1,i=t.length,r=0,o=[];++e<i;){var s=t[e],a=n?n(s):s;if(!e||!da(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function Fr(t){return"number"==typeof t?t:La(t)?F:+t}function Rr(t){if("string"==typeof t)return t;if(ma(t))return te(t,Rr)+"";if(La(t))return di?di.call(t):"";var n=t+"";return"0"==n&&1/t==-M?"-0":n}function Ur(t,n,e){var i=-1,r=Jn,o=t.length,a=!0,u=[],l=u;if(e)a=!1,r=Qn;else if(o>=s){var c=n?null:Eo(t);if(c)return Ae(c);a=!1,r=be,l=new xi}else l=n?[]:u;t:for(;++i<o;){var h=t[i],f=n?n(h):h;if(h=e||0!==h?h:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue t;n&&l.push(f),u.push(h)}else r(l,f,e)||(l!==u&&l.push(f),u.push(h))}return u}function Br(t,n){return null==(t=es(t,n=Vr(n,t)))||delete t[cs(Cs(n))]}function Gr(t,n,e,i){return wr(t,n,e(Zi(t,n)),i)}function Nr(t,n,e,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&n(t[o],o,t););return e?kr(t,i?0:o,i?o+1:r):kr(t,i?o+1:0,i?r:o)}function Wr(t,n){var e=t;return e instanceof yi&&(e=e.value()),ee(n,function(t,n){return n.func.apply(n.thisArg,ne([t],n.args))},e)}function zr(t,n,e){var r=t.length;if(r<2)return r?Ur(t[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=t[o],u=-1;++u<r;)u!=o&&(s[o]=Bi(s[o]||a,t[u],n,e));return Ur(Hi(s,1),n,e)}function Yr(t,n,e){for(var i=-1,r=t.length,s=n.length,a={};++i<r;){var u=i<s?n[i]:o;e(a,t[i],u)}return a}function Hr(t){return _a(t)?t:[]}function Xr(t){return"function"==typeof t?t:Au}function Vr(t,n){return ma(t)?t:qo(t,n)?[t]:ls(Ha(t))}var $r=Er;function qr(t,n,e){var i=t.length;return e=e===o?i:e,!n&&e>=i?t:kr(t,n,e)}var Kr=Fe||function(t){return Tn.clearTimeout(t)};function Zr(t,n){if(n)return t.slice();var e=t.length,i=In?In(e):new t.constructor(e);return t.copy(i),i}function Jr(t){var n=new t.constructor(t.byteLength);return new Cn(n).set(new Cn(t)),n}function Qr(t,n){var e=n?Jr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function to(t,n){if(t!==n){var e=t!==o,i=null===t,r=t==t,s=La(t),a=n!==o,u=null===n,l=n==n,c=La(n);if(!u&&!c&&!s&&t>n||s&&a&&l&&!u&&!c||i&&a&&l||!e&&l||!r)return 1;if(!i&&!s&&!c&&t<n||c&&e&&r&&!i&&!s||u&&e&&r||!a&&r||!l)return-1}return 0}function no(t,n,e,r){for(var o=-1,s=t.length,a=e.length,u=-1,l=n.length,c=Xe(s-a,0),h=i(l+c),f=!r;++u<l;)h[u]=n[u];for(;++o<a;)(f||o<s)&&(h[e[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function eo(t,n,e,r){for(var o=-1,s=t.length,a=-1,u=e.length,l=-1,c=n.length,h=Xe(s-u,0),f=i(h+c),d=!r;++o<h;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=n[l];for(;++a<u;)(d||o<s)&&(f[p+e[a]]=t[o++]);return f}function io(t,n){var e=-1,r=t.length;for(n||(n=i(r));++e<r;)n[e]=t[e];return n}function ro(t,n,e,i){var r=!e;e||(e={});for(var s=-1,a=n.length;++s<a;){var u=n[s],l=i?i(e[u],t[u],u,e,t):o;l===o&&(l=t[u]),r?Mi(e,u,l):Ii(e,u,l)}return e}function oo(t,n){return function(e,i){var r=ma(e)?Vn:ki,o=n?n():{};return r(e,t,Ro(i,2),o)}}function so(t){return Er(function(n,e){var i=-1,r=e.length,s=r>1?e[r-1]:o,a=r>2?e[2]:o;for(s=t.length>3&&"function"==typeof s?(r--,s):o,a&&$o(e[0],e[1],a)&&(s=r<3?o:s,r=1),n=nn(n);++i<r;){var u=e[i];u&&t(n,u,i,s)}return n})}function ao(t,n){return function(e,i){if(null==e)return e;if(!ba(e))return t(e,i);for(var r=e.length,o=n?r:-1,s=nn(e);(n?o--:++o<r)&&!1!==i(s[o],o,s););return e}}function uo(t){return function(n,e,i){for(var r=-1,o=nn(n),s=i(n),a=s.length;a--;){var u=s[t?a:++r];if(!1===e(o[u],u,o))break}return n}}function lo(t){return function(n){var e=je(n=Ha(n))?Me(n):o,i=e?e[0]:n.charAt(0),r=e?qr(e,1).join(""):n.slice(1);return i[t]()+r}}function co(t){return function(n){return ee(Eu(vu(n).replace(bn,"")),t,"")}}function ho(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=gi(t.prototype),i=t.apply(e,n);return wa(i)?i:e}}function fo(t){return function(n,e,i){var r=nn(n);if(!ba(n)){var s=Ro(e,3);n=ru(n),e=function(t){return s(r[t],t,r)}}var a=t(n,e,i);return a>-1?r[s?n[a]:a]:o}}function po(t){return ko(function(n){var e=n.length,i=e,r=mi.prototype.thru;for(t&&n.reverse();i--;){var s=n[i];if("function"!=typeof s)throw new on(u);if(r&&!a&&"wrapper"==Lo(s))var a=new mi([],!0)}for(i=a?i:e;++i<e;){var l=Lo(s=n[i]),c="wrapper"==l?To(s):o;a=c&&Ko(c[0])&&c[1]==(E|_|x|j)&&!c[4].length&&1==c[9]?a[Lo(c[0])].apply(a,c[3]):1==s.length&&Ko(s)?a[l]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&ma(i))return a.plant(i).value();for(var r=0,o=e?n[r].apply(this,t):i;++r<e;)o=n[r].call(this,o);return o}})}function go(t,n,e,r,s,a,u,l,c,h){var f=n&E,d=n&m,p=n&y,g=n&(_|P),v=n&S,b=p?o:ho(t);return function m(){for(var y=arguments.length,_=i(y),P=y;P--;)_[P]=arguments[P];if(g)var x=Fo(m),C=function(t,n){for(var e=t.length,i=0;e--;)t[e]===n&&++i;return i}(_,x);if(r&&(_=no(_,r,s,g)),a&&(_=eo(_,a,u,g)),y-=C,g&&y<h){var E=De(_,x);return xo(t,n,go,m.placeholder,e,_,E,l,c,h-y)}var j=d?e:this,S=p?j[t]:t;return y=_.length,l?_=function(t,n){for(var e=t.length,i=Ve(n.length,e),r=io(t);i--;){var s=n[i];t[i]=Vo(s,e)?r[s]:o}return t}(_,l):v&&y>1&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==Tn&&this instanceof m&&(S=b||ho(S)),S.apply(j,_)}}function vo(t,n){return function(e,i){return function(t,n,e,i){return $i(t,function(t,r,o){n(i,e(t),r,o)}),i}(e,t,n(i),{})}}function mo(t,n){return function(e,i){var r;if(e===o&&i===o)return n;if(e!==o&&(r=e),i!==o){if(r===o)return i;"string"==typeof e||"string"==typeof i?(e=Rr(e),i=Rr(i)):(e=Fr(e),i=Fr(i)),r=t(e,i)}return r}}function yo(t){return ko(function(n){return n=te(n,me(Ro())),Er(function(e){var i=this;return t(n,function(t){return Xn(t,i,e)})})})}function bo(t,n){var e=(n=n===o?" ":Rr(n)).length;if(e<2)return e?Cr(n,t):n;var i=Cr(n,Be(t/Oe(n)));return je(n)?qr(Me(i),0,t).join(""):i.slice(0,t)}function _o(t){return function(n,e,r){return r&&"number"!=typeof r&&$o(n,e,r)&&(e=r=o),n=Ga(n),e===o?(e=n,n=0):e=Ga(e),function(t,n,e,r){for(var o=-1,s=Xe(Be((n-t)/(e||1)),0),a=i(s);s--;)a[r?s:++o]=t,t+=e;return a}(n,e,r=r===o?n<e?1:-1:Ga(r),t)}}function Po(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=za(n),e=za(e)),t(n,e)}}function xo(t,n,e,i,r,s,a,u,l,c){var h=n&_;n|=h?x:C,(n&=~(h?C:x))&b||(n&=~(m|y));var f=[t,n,r,h?s:o,h?a:o,h?o:s,h?o:a,u,l,c],d=e.apply(o,f);return Ko(t)&&is(d,f),d.placeholder=i,ss(d,t,n)}function Co(t){var n=tn[t];return function(t,e){if(t=za(t),e=null==e?0:Ve(Na(e),292)){var i=(Ha(t)+"e").split("e");return+((i=(Ha(n(i[0]+"e"+(+i[1]+e)))+"e").split("e"))[0]+"e"+(+i[1]-e))}return n(t)}}var Eo=ni&&1/Ae(new ni([,-0]))[1]==M?function(t){return new ni(t)}:Lu;function jo(t){return function(n){var e=zo(n);return e==K?Se(n):e==et?ke(n):function(t,n){return te(n,function(n){return[n,t[n]]})}(n,t(n))}}function So(t,n,e,r,s,a,l,c){var f=n&y;if(!f&&"function"!=typeof t)throw new on(u);var d=r?r.length:0;if(d||(n&=~(x|C),r=s=o),l=l===o?l:Xe(Na(l),0),c=c===o?c:Na(c),d-=s?s.length:0,n&C){var p=r,g=s;r=s=o}var v=f?o:To(t),S=[t,n,e,r,s,p,g,a,l,c];if(v&&function(t,n){var e=t[1],i=n[1],r=e|i,o=r<(m|y|E),s=i==E&&e==_||i==E&&e==j&&t[7].length<=n[8]||i==(E|j)&&n[7].length<=n[8]&&e==_;if(!o&&!s)return t;i&m&&(t[2]=n[2],r|=e&m?0:b);var a=n[3];if(a){var u=t[3];t[3]=u?no(u,a,n[4]):a,t[4]=u?De(t[3],h):n[4]}(a=n[5])&&(u=t[5],t[5]=u?eo(u,a,n[6]):a,t[6]=u?De(t[5],h):n[6]),(a=n[7])&&(t[7]=a),i&E&&(t[8]=null==t[8]?n[8]:Ve(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=r}(S,v),t=S[0],n=S[1],e=S[2],r=S[3],s=S[4],!(c=S[9]=S[9]===o?f?0:t.length:Xe(S[9]-d,0))&&n&(_|P)&&(n&=~(_|P)),n&&n!=m)w=n==_||n==P?function(t,n,e){var r=ho(t);return function s(){for(var a=arguments.length,u=i(a),l=a,c=Fo(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:De(u,c);return(a-=h.length)<e?xo(t,n,go,s.placeholder,o,u,h,o,o,e-a):Xn(this&&this!==Tn&&this instanceof s?r:t,this,u)}}(t,n,c):n!=x&&n!=(m|x)||s.length?go.apply(o,S):function(t,n,e,r){var o=n&m,s=ho(t);return function n(){for(var a=-1,u=arguments.length,l=-1,c=r.length,h=i(c+u),f=this&&this!==Tn&&this instanceof n?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++a];return Xn(f,o?e:this,h)}}(t,n,e,r);else var w=function(t,n,e){var i=n&m,r=ho(t);return function n(){return(this&&this!==Tn&&this instanceof n?r:t).apply(i?e:this,arguments)}}(t,n,e);return ss((v?Dr:is)(w,S),t,n)}function wo(t,n,e,i){return t===o||da(t,un[e])&&!hn.call(i,e)?n:t}function Do(t,n,e,i,r,s){return wa(t)&&wa(n)&&(s.set(n,t),vr(t,n,o,Do,s),s.delete(n)),t}function Io(t){return ka(t)?o:t}function Ao(t,n,e,i,r,s){var a=e&g,u=t.length,l=n.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(n))return c==n;var h=-1,f=!0,d=e&v?new xi:o;for(s.set(t,n),s.set(n,t);++h<u;){var p=t[h],m=n[h];if(i)var y=a?i(m,p,h,n,t,s):i(p,m,h,t,n,s);if(y!==o){if(y)continue;f=!1;break}if(d){if(!re(n,function(t,n){if(!be(d,n)&&(p===t||r(p,t,e,i,s)))return d.push(n)})){f=!1;break}}else if(p!==m&&!r(p,m,e,i,s)){f=!1;break}}return s.delete(t),s.delete(n),f}function ko(t){return os(ns(t,o,ys),t+"")}function Oo(t){return Ji(t,ru,No)}function Mo(t){return Ji(t,ou,Wo)}var To=ri?function(t){return ri.get(t)}:Lu;function Lo(t){for(var n=t.name+"",e=oi[n],i=hn.call(oi,n)?e.length:0;i--;){var r=e[i],o=r.func;if(null==o||o==t)return r.name}return n}function Fo(t){return(hn.call(pi,"placeholder")?pi:t).placeholder}function Ro(){var t=pi.iteratee||ku;return t=t===ku?lr:t,arguments.length?t(arguments[0],arguments[1]):t}function Uo(t,n){var e,i,r=t.__data__;return("string"==(i=typeof(e=n))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==e:null===e)?r["string"==typeof n?"string":"hash"]:r.map}function Bo(t){for(var n=ru(t),e=n.length;e--;){var i=n[e],r=t[i];n[e]=[i,r,Qo(r)]}return n}function Go(t,n){var e=function(t,n){return null==t?o:t[n]}(t,n);return ur(e)?e:o}var No=Ne?function(t){return null==t?[]:(t=nn(t),Zn(Ne(t),function(n){return Ln.call(t,n)}))}:Wu,Wo=Ne?function(t){for(var n=[];t;)ne(n,No(t)),t=On(t);return n}:Wu,zo=Qi;function Yo(t,n,e){for(var i=-1,r=(n=Vr(n,t)).length,o=!1;++i<r;){var s=cs(n[i]);if(!(o=null!=t&&e(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Sa(r)&&Vo(s,r)&&(ma(t)||va(t))}function Ho(t){return"function"!=typeof t.constructor||Jo(t)?{}:gi(On(t))}function Xo(t){return ma(t)||va(t)||!!(Un&&t&&t[Un])}function Vo(t,n){var e=typeof t;return!!(n=null==n?T:n)&&("number"==e||"symbol"!=e&&$t.test(t))&&t>-1&&t%1==0&&t<n}function $o(t,n,e){if(!wa(e))return!1;var i=typeof n;return!!("number"==i?ba(e)&&Vo(n,e.length):"string"==i&&n in e)&&da(e[n],t)}function qo(t,n){if(ma(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!La(t))||At.test(t)||!It.test(t)||null!=n&&t in nn(n)}function Ko(t){var n=Lo(t),e=pi[n];if("function"!=typeof e||!(n in yi.prototype))return!1;if(t===e)return!0;var i=To(e);return!!i&&t===i[0]}(Je&&zo(new Je(new ArrayBuffer(1)))!=lt||Qe&&zo(new Qe)!=K||ti&&"[object Promise]"!=zo(ti.resolve())||ni&&zo(new ni)!=et||ei&&zo(new ei)!=st)&&(zo=function(t){var n=Qi(t),e=n==Q?t.constructor:o,i=e?hs(e):"";if(i)switch(i){case si:return lt;case ai:return K;case ui:return"[object Promise]";case li:return et;case ci:return st}return n});var Zo=ln?Ea:zu;function Jo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||un)}function Qo(t){return t==t&&!wa(t)}function ts(t,n){return function(e){return null!=e&&e[t]===n&&(n!==o||t in nn(e))}}function ns(t,n,e){return n=Xe(n===o?t.length-1:n,0),function(){for(var r=arguments,o=-1,s=Xe(r.length-n,0),a=i(s);++o<s;)a[o]=r[n+o];o=-1;for(var u=i(n+1);++o<n;)u[o]=r[o];return u[n]=e(a),Xn(t,this,u)}}function es(t,n){return n.length<2?t:Zi(t,kr(n,0,-1))}var is=as(Dr),rs=Ue||function(t,n){return Tn.setTimeout(t,n)},os=as(Ir);function ss(t,n,e){var i=n+"";return os(t,function(t,n){var e=n.length;if(!e)return t;var i=e-1;return n[i]=(e>1?"& ":"")+n[i],n=n.join(e>2?", ":" "),t.replace(Rt,"{\n/* [wrapped with "+n+"] */\n")}(i,function(t,n){return $n(G,function(e){var i="_."+e[0];n&e[1]&&!Jn(t,i)&&t.push(i)}),t.sort()}(function(t){var n=t.match(Ut);return n?n[1].split(Bt):[]}(i),e)))}function as(t){var n=0,e=0;return function(){var i=$e(),r=A-(i-e);if(e=i,r>0){if(++n>=I)return arguments[0]}else n=0;return t.apply(o,arguments)}}function us(t,n){var e=-1,i=t.length,r=i-1;for(n=n===o?i:n;++e<n;){var s=xr(e,r),a=t[s];t[s]=t[e],t[e]=a}return t.length=n,t}var ls=function(t){var n=aa(t,function(t){return e.size===c&&e.clear(),t}),e=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(kt,function(t,e,i,r){n.push(i?r.replace(Nt,"$1"):e||t)}),n});function cs(t){if("string"==typeof t||La(t))return t;var n=t+"";return"0"==n&&1/t==-M?"-0":n}function hs(t){if(null!=t){try{return cn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fs(t){if(t instanceof yi)return t.clone();var n=new mi(t.__wrapped__,t.__chain__);return n.__actions__=io(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var ds=Er(function(t,n){return _a(t)?Bi(t,Hi(n,1,_a,!0)):[]}),ps=Er(function(t,n){var e=Cs(n);return _a(e)&&(e=o),_a(t)?Bi(t,Hi(n,1,_a,!0),Ro(e,2)):[]}),gs=Er(function(t,n){var e=Cs(n);return _a(e)&&(e=o),_a(t)?Bi(t,Hi(n,1,_a,!0),o,e):[]});function vs(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=null==e?0:Na(e);return r<0&&(r=Xe(i+r,0)),ae(t,Ro(n,3),r)}function ms(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return e!==o&&(r=Na(e),r=e<0?Xe(i+r,0):Ve(r,i-1)),ae(t,Ro(n,3),r,!0)}function ys(t){return null!=t&&t.length?Hi(t,1):[]}function bs(t){return t&&t.length?t[0]:o}var _s=Er(function(t){var n=te(t,Hr);return n.length&&n[0]===t[0]?ir(n):[]}),Ps=Er(function(t){var n=Cs(t),e=te(t,Hr);return n===Cs(e)?n=o:e.pop(),e.length&&e[0]===t[0]?ir(e,Ro(n,2)):[]}),xs=Er(function(t){var n=Cs(t),e=te(t,Hr);return(n="function"==typeof n?n:o)&&e.pop(),e.length&&e[0]===t[0]?ir(e,o,n):[]});function Cs(t){var n=null==t?0:t.length;return n?t[n-1]:o}var Es=Er(js);function js(t,n){return t&&t.length&&n&&n.length?_r(t,n):t}var Ss=ko(function(t,n){var e=null==t?0:t.length,i=Ti(t,n);return Pr(t,te(n,function(t){return Vo(t,e)?+t:t}).sort(to)),i});function ws(t){return null==t?t:Ze.call(t)}var Ds=Er(function(t){return Ur(Hi(t,1,_a,!0))}),Is=Er(function(t){var n=Cs(t);return _a(n)&&(n=o),Ur(Hi(t,1,_a,!0),Ro(n,2))}),As=Er(function(t){var n=Cs(t);return n="function"==typeof n?n:o,Ur(Hi(t,1,_a,!0),o,n)});function ks(t){if(!t||!t.length)return[];var n=0;return t=Zn(t,function(t){if(_a(t))return n=Xe(t.length,n),!0}),ve(n,function(n){return te(t,fe(n))})}function Os(t,n){if(!t||!t.length)return[];var e=ks(t);return null==n?e:te(e,function(t){return Xn(n,o,t)})}var Ms=Er(function(t,n){return _a(t)?Bi(t,n):[]}),Ts=Er(function(t){return zr(Zn(t,_a))}),Ls=Er(function(t){var n=Cs(t);return _a(n)&&(n=o),zr(Zn(t,_a),Ro(n,2))}),Fs=Er(function(t){var n=Cs(t);return n="function"==typeof n?n:o,zr(Zn(t,_a),o,n)}),Rs=Er(ks);var Us=Er(function(t){var n=t.length,e=n>1?t[n-1]:o;return Os(t,e="function"==typeof e?(t.pop(),e):o)});function Bs(t){var n=pi(t);return n.__chain__=!0,n}function Gs(t,n){return n(t)}var Ns=ko(function(t){var n=t.length,e=n?t[0]:0,i=this.__wrapped__,r=function(n){return Ti(n,t)};return!(n>1||this.__actions__.length)&&i instanceof yi&&Vo(e)?((i=i.slice(e,+e+(n?1:0))).__actions__.push({func:Gs,args:[r],thisArg:o}),new mi(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(o),t})):this.thru(r)});var Ws=oo(function(t,n,e){hn.call(t,e)?++t[e]:Mi(t,e,1)});var zs=fo(vs),Ys=fo(ms);function Hs(t,n){return(ma(t)?$n:Gi)(t,Ro(n,3))}function Xs(t,n){return(ma(t)?qn:Ni)(t,Ro(n,3))}var Vs=oo(function(t,n,e){hn.call(t,e)?t[e].push(n):Mi(t,e,[n])});var $s=Er(function(t,n,e){var r=-1,o="function"==typeof n,s=ba(t)?i(t.length):[];return Gi(t,function(t){s[++r]=o?Xn(n,t,e):rr(t,n,e)}),s}),qs=oo(function(t,n,e){Mi(t,e,n)});function Ks(t,n){return(ma(t)?te:dr)(t,Ro(n,3))}var Zs=oo(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});var Js=Er(function(t,n){if(null==t)return[];var e=n.length;return e>1&&$o(t,n[0],n[1])?n=[]:e>2&&$o(n[0],n[1],n[2])&&(n=[n[0]]),yr(t,Hi(n,1),[])}),Qs=Re||function(){return Tn.Date.now()};function ta(t,n,e){return n=e?o:n,n=t&&null==n?t.length:n,So(t,E,o,o,o,o,n)}function na(t,n){var e;if("function"!=typeof n)throw new on(u);return t=Na(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=o),e}}var ea=Er(function(t,n,e){var i=m;if(e.length){var r=De(e,Fo(ea));i|=x}return So(t,i,n,e,r)}),ia=Er(function(t,n,e){var i=m|y;if(e.length){var r=De(e,Fo(ia));i|=x}return So(n,i,t,e,r)});function ra(t,n,e){var i,r,s,a,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new on(u);function g(n){var e=i,s=r;return i=r=o,h=n,a=t.apply(s,e)}function v(t){var e=t-c;return c===o||e>=n||e<0||d&&t-h>=s}function m(){var t=Qs();if(v(t))return y(t);l=rs(m,function(t){var e=n-(t-c);return d?Ve(e,s-(t-h)):e}(t))}function y(t){return l=o,p&&i?g(t):(i=r=o,a)}function b(){var t=Qs(),e=v(t);if(i=arguments,r=this,c=t,e){if(l===o)return function(t){return h=t,l=rs(m,n),f?g(t):a}(c);if(d)return l=rs(m,n),g(c)}return l===o&&(l=rs(m,n)),a}return n=za(n)||0,wa(e)&&(f=!!e.leading,s=(d="maxWait"in e)?Xe(za(e.maxWait)||0,n):s,p="trailing"in e?!!e.trailing:p),b.cancel=function(){l!==o&&Kr(l),h=0,i=c=r=l=o},b.flush=function(){return l===o?a:y(Qs())},b}var oa=Er(function(t,n){return Ui(t,1,n)}),sa=Er(function(t,n,e){return Ui(t,za(n)||0,e)});function aa(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new on(u);var e=function(){var i=arguments,r=n?n.apply(this,i):i[0],o=e.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return e.cache=o.set(r,s)||o,s};return e.cache=new(aa.Cache||Pi),e}function ua(t){if("function"!=typeof t)throw new on(u);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}aa.Cache=Pi;var la=$r(function(t,n){var e=(n=1==n.length&&ma(n[0])?te(n[0],me(Ro())):te(Hi(n,1),me(Ro()))).length;return Er(function(i){for(var r=-1,o=Ve(i.length,e);++r<o;)i[r]=n[r].call(this,i[r]);return Xn(t,this,i)})}),ca=Er(function(t,n){var e=De(n,Fo(ca));return So(t,x,o,n,e)}),ha=Er(function(t,n){var e=De(n,Fo(ha));return So(t,C,o,n,e)}),fa=ko(function(t,n){return So(t,j,o,o,o,n)});function da(t,n){return t===n||t!=t&&n!=n}var pa=Po(tr),ga=Po(function(t,n){return t>=n}),va=or(function(){return arguments}())?or:function(t){return Da(t)&&hn.call(t,"callee")&&!Ln.call(t,"callee")},ma=i.isArray,ya=Gn?me(Gn):function(t){return Da(t)&&Qi(t)==ut};function ba(t){return null!=t&&Sa(t.length)&&!Ea(t)}function _a(t){return Da(t)&&ba(t)}var Pa=We||zu,xa=Nn?me(Nn):function(t){return Da(t)&&Qi(t)==H};function Ca(t){if(!Da(t))return!1;var n=Qi(t);return n==V||n==X||"string"==typeof t.message&&"string"==typeof t.name&&!ka(t)}function Ea(t){if(!wa(t))return!1;var n=Qi(t);return n==$||n==q||n==z||n==tt}function ja(t){return"number"==typeof t&&t==Na(t)}function Sa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=T}function wa(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Da(t){return null!=t&&"object"==typeof t}var Ia=Wn?me(Wn):function(t){return Da(t)&&zo(t)==K};function Aa(t){return"number"==typeof t||Da(t)&&Qi(t)==Z}function ka(t){if(!Da(t)||Qi(t)!=Q)return!1;var n=On(t);if(null===n)return!0;var e=hn.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&cn.call(e)==gn}var Oa=zn?me(zn):function(t){return Da(t)&&Qi(t)==nt};var Ma=Yn?me(Yn):function(t){return Da(t)&&zo(t)==et};function Ta(t){return"string"==typeof t||!ma(t)&&Da(t)&&Qi(t)==it}function La(t){return"symbol"==typeof t||Da(t)&&Qi(t)==rt}var Fa=Hn?me(Hn):function(t){return Da(t)&&Sa(t.length)&&!!wn[Qi(t)]};var Ra=Po(fr),Ua=Po(function(t,n){return t<=n});function Ba(t){if(!t)return[];if(ba(t))return Ta(t)?Me(t):io(t);if(Bn&&t[Bn])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Bn]());var n=zo(t);return(n==K?Se:n==et?Ae:du)(t)}function Ga(t){return t?(t=za(t))===M||t===-M?(t<0?-1:1)*L:t==t?t:0:0===t?t:0}function Na(t){var n=Ga(t),e=n%1;return n==n?e?n-e:n:0}function Wa(t){return t?Li(Na(t),0,R):0}function za(t){if("number"==typeof t)return t;if(La(t))return F;if(wa(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=wa(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Tt,"");var e=Ht.test(t);return e||Vt.test(t)?kn(t.slice(2),e?2:8):Yt.test(t)?F:+t}function Ya(t){return ro(t,ou(t))}function Ha(t){return null==t?"":Rr(t)}var Xa=so(function(t,n){if(Jo(n)||ba(n))ro(n,ru(n),t);else for(var e in n)hn.call(n,e)&&Ii(t,e,n[e])}),Va=so(function(t,n){ro(n,ou(n),t)}),$a=so(function(t,n,e,i){ro(n,ou(n),t,i)}),qa=so(function(t,n,e,i){ro(n,ru(n),t,i)}),Ka=ko(Ti);var Za=Er(function(t,n){t=nn(t);var e=-1,i=n.length,r=i>2?n[2]:o;for(r&&$o(n[0],n[1],r)&&(i=1);++e<i;)for(var s=n[e],a=ou(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===o||da(h,un[c])&&!hn.call(t,c))&&(t[c]=s[c])}return t}),Ja=Er(function(t){return t.push(o,Do),Xn(au,o,t)});function Qa(t,n,e){var i=null==t?o:Zi(t,n);return i===o?e:i}function tu(t,n){return null!=t&&Yo(t,n,er)}var nu=vo(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=pn.call(n)),t[n]=e},wu(Au)),eu=vo(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=pn.call(n)),hn.call(t,n)?t[n].push(e):t[n]=[e]},Ro),iu=Er(rr);function ru(t){return ba(t)?Ei(t):cr(t)}function ou(t){return ba(t)?Ei(t,!0):hr(t)}var su=so(function(t,n,e){vr(t,n,e)}),au=so(function(t,n,e,i){vr(t,n,e,i)}),uu=ko(function(t,n){var e={};if(null==t)return e;var i=!1;n=te(n,function(n){return n=Vr(n,t),i||(i=n.length>1),n}),ro(t,Mo(t),e),i&&(e=Fi(e,f|d|p,Io));for(var r=n.length;r--;)Br(e,n[r]);return e});var lu=ko(function(t,n){return null==t?{}:function(t,n){return br(t,n,function(n,e){return tu(t,e)})}(t,n)});function cu(t,n){if(null==t)return{};var e=te(Mo(t),function(t){return[t]});return n=Ro(n),br(t,e,function(t,e){return n(t,e[0])})}var hu=jo(ru),fu=jo(ou);function du(t){return null==t?[]:ye(t,ru(t))}var pu=co(function(t,n,e){return n=n.toLowerCase(),t+(e?gu(n):n)});function gu(t){return Cu(Ha(t).toLowerCase())}function vu(t){return(t=Ha(t))&&t.replace(qt,xe).replace(_n,"")}var mu=co(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),yu=co(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),bu=lo("toLowerCase");var _u=co(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()});var Pu=co(function(t,n,e){return t+(e?" ":"")+Cu(n)});var xu=co(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),Cu=lo("toUpperCase");function Eu(t,n,e){return t=Ha(t),(n=e?o:n)===o?function(t){return En.test(t)}(t)?function(t){return t.match(xn)||[]}(t):function(t){return t.match(Gt)||[]}(t):t.match(n)||[]}var ju=Er(function(t,n){try{return Xn(t,o,n)}catch(t){return Ca(t)?t:new Jt(t)}}),Su=ko(function(t,n){return $n(n,function(n){n=cs(n),Mi(t,n,ea(t[n],t))}),t});function wu(t){return function(){return t}}var Du=po(),Iu=po(!0);function Au(t){return t}function ku(t){return lr("function"==typeof t?t:Fi(t,f))}var Ou=Er(function(t,n){return function(e){return rr(e,t,n)}}),Mu=Er(function(t,n){return function(e){return rr(t,e,n)}});function Tu(t,n,e){var i=ru(n),r=Ki(n,i);null!=e||wa(n)&&(r.length||!i.length)||(e=n,n=t,t=this,r=Ki(n,ru(n)));var o=!(wa(e)&&"chain"in e&&!e.chain),s=Ea(t);return $n(r,function(e){var i=n[e];t[e]=i,s&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__);return(e.__actions__=io(this.__actions__)).push({func:i,args:arguments,thisArg:t}),e.__chain__=n,e}return i.apply(t,ne([this.value()],arguments))})}),t}function Lu(){}var Fu=yo(te),Ru=yo(Kn),Uu=yo(re);function Bu(t){return qo(t)?fe(cs(t)):function(t){return function(n){return Zi(n,t)}}(t)}var Gu=_o(),Nu=_o(!0);function Wu(){return[]}function zu(){return!1}var Yu=mo(function(t,n){return t+n},0),Hu=Co("ceil"),Xu=mo(function(t,n){return t/n},1),Vu=Co("floor");var $u,qu=mo(function(t,n){return t*n},1),Ku=Co("round"),Zu=mo(function(t,n){return t-n},0);return pi.after=function(t,n){if("function"!=typeof n)throw new on(u);return t=Na(t),function(){if(--t<1)return n.apply(this,arguments)}},pi.ary=ta,pi.assign=Xa,pi.assignIn=Va,pi.assignInWith=$a,pi.assignWith=qa,pi.at=Ka,pi.before=na,pi.bind=ea,pi.bindAll=Su,pi.bindKey=ia,pi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ma(t)?t:[t]},pi.chain=Bs,pi.chunk=function(t,n,e){n=(e?$o(t,n,e):n===o)?1:Xe(Na(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var s=0,a=0,u=i(Be(r/n));s<r;)u[a++]=kr(t,s,s+=n);return u},pi.compact=function(t){for(var n=-1,e=null==t?0:t.length,i=0,r=[];++n<e;){var o=t[n];o&&(r[i++]=o)}return r},pi.concat=function(){var t=arguments.length;if(!t)return[];for(var n=i(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return ne(ma(e)?io(e):[e],Hi(n,1))},pi.cond=function(t){var n=null==t?0:t.length,e=Ro();return t=n?te(t,function(t){if("function"!=typeof t[1])throw new on(u);return[e(t[0]),t[1]]}):[],Er(function(e){for(var i=-1;++i<n;){var r=t[i];if(Xn(r[0],this,e))return Xn(r[1],this,e)}})},pi.conforms=function(t){return function(t){var n=ru(t);return function(e){return Ri(e,t,n)}}(Fi(t,f))},pi.constant=wu,pi.countBy=Ws,pi.create=function(t,n){var e=gi(t);return null==n?e:Oi(e,n)},pi.curry=function t(n,e,i){var r=So(n,_,o,o,o,o,o,e=i?o:e);return r.placeholder=t.placeholder,r},pi.curryRight=function t(n,e,i){var r=So(n,P,o,o,o,o,o,e=i?o:e);return r.placeholder=t.placeholder,r},pi.debounce=ra,pi.defaults=Za,pi.defaultsDeep=Ja,pi.defer=oa,pi.delay=sa,pi.difference=ds,pi.differenceBy=ps,pi.differenceWith=gs,pi.drop=function(t,n,e){var i=null==t?0:t.length;return i?kr(t,(n=e||n===o?1:Na(n))<0?0:n,i):[]},pi.dropRight=function(t,n,e){var i=null==t?0:t.length;return i?kr(t,0,(n=i-(n=e||n===o?1:Na(n)))<0?0:n):[]},pi.dropRightWhile=function(t,n){return t&&t.length?Nr(t,Ro(n,3),!0,!0):[]},pi.dropWhile=function(t,n){return t&&t.length?Nr(t,Ro(n,3),!0):[]},pi.fill=function(t,n,e,i){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&$o(t,n,e)&&(e=0,i=r),function(t,n,e,i){var r=t.length;for((e=Na(e))<0&&(e=-e>r?0:r+e),(i=i===o||i>r?r:Na(i))<0&&(i+=r),i=e>i?0:Wa(i);e<i;)t[e++]=n;return t}(t,n,e,i)):[]},pi.filter=function(t,n){return(ma(t)?Zn:Yi)(t,Ro(n,3))},pi.flatMap=function(t,n){return Hi(Ks(t,n),1)},pi.flatMapDeep=function(t,n){return Hi(Ks(t,n),M)},pi.flatMapDepth=function(t,n,e){return e=e===o?1:Na(e),Hi(Ks(t,n),e)},pi.flatten=ys,pi.flattenDeep=function(t){return null!=t&&t.length?Hi(t,M):[]},pi.flattenDepth=function(t,n){return null!=t&&t.length?Hi(t,n=n===o?1:Na(n)):[]},pi.flip=function(t){return So(t,S)},pi.flow=Du,pi.flowRight=Iu,pi.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,i={};++n<e;){var r=t[n];i[r[0]]=r[1]}return i},pi.functions=function(t){return null==t?[]:Ki(t,ru(t))},pi.functionsIn=function(t){return null==t?[]:Ki(t,ou(t))},pi.groupBy=Vs,pi.initial=function(t){return null!=t&&t.length?kr(t,0,-1):[]},pi.intersection=_s,pi.intersectionBy=Ps,pi.intersectionWith=xs,pi.invert=nu,pi.invertBy=eu,pi.invokeMap=$s,pi.iteratee=ku,pi.keyBy=qs,pi.keys=ru,pi.keysIn=ou,pi.map=Ks,pi.mapKeys=function(t,n){var e={};return n=Ro(n,3),$i(t,function(t,i,r){Mi(e,n(t,i,r),t)}),e},pi.mapValues=function(t,n){var e={};return n=Ro(n,3),$i(t,function(t,i,r){Mi(e,i,n(t,i,r))}),e},pi.matches=function(t){return pr(Fi(t,f))},pi.matchesProperty=function(t,n){return gr(t,Fi(n,f))},pi.memoize=aa,pi.merge=su,pi.mergeWith=au,pi.method=Ou,pi.methodOf=Mu,pi.mixin=Tu,pi.negate=ua,pi.nthArg=function(t){return t=Na(t),Er(function(n){return mr(n,t)})},pi.omit=uu,pi.omitBy=function(t,n){return cu(t,ua(Ro(n)))},pi.once=function(t){return na(2,t)},pi.orderBy=function(t,n,e,i){return null==t?[]:(ma(n)||(n=null==n?[]:[n]),ma(e=i?o:e)||(e=null==e?[]:[e]),yr(t,n,e))},pi.over=Fu,pi.overArgs=la,pi.overEvery=Ru,pi.overSome=Uu,pi.partial=ca,pi.partialRight=ha,pi.partition=Zs,pi.pick=lu,pi.pickBy=cu,pi.property=Bu,pi.propertyOf=function(t){return function(n){return null==t?o:Zi(t,n)}},pi.pull=Es,pi.pullAll=js,pi.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?_r(t,n,Ro(e,2)):t},pi.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?_r(t,n,o,e):t},pi.pullAt=Ss,pi.range=Gu,pi.rangeRight=Nu,pi.rearg=fa,pi.reject=function(t,n){return(ma(t)?Zn:Yi)(t,ua(Ro(n,3)))},pi.remove=function(t,n){var e=[];if(!t||!t.length)return e;var i=-1,r=[],o=t.length;for(n=Ro(n,3);++i<o;){var s=t[i];n(s,i,t)&&(e.push(s),r.push(i))}return Pr(t,r),e},pi.rest=function(t,n){if("function"!=typeof t)throw new on(u);return Er(t,n=n===o?n:Na(n))},pi.reverse=ws,pi.sampleSize=function(t,n,e){return n=(e?$o(t,n,e):n===o)?1:Na(n),(ma(t)?Si:Sr)(t,n)},pi.set=function(t,n,e){return null==t?t:wr(t,n,e)},pi.setWith=function(t,n,e,i){return i="function"==typeof i?i:o,null==t?t:wr(t,n,e,i)},pi.shuffle=function(t){return(ma(t)?wi:Ar)(t)},pi.slice=function(t,n,e){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&$o(t,n,e)?(n=0,e=i):(n=null==n?0:Na(n),e=e===o?i:Na(e)),kr(t,n,e)):[]},pi.sortBy=Js,pi.sortedUniq=function(t){return t&&t.length?Lr(t):[]},pi.sortedUniqBy=function(t,n){return t&&t.length?Lr(t,Ro(n,2)):[]},pi.split=function(t,n,e){return e&&"number"!=typeof e&&$o(t,n,e)&&(n=e=o),(e=e===o?R:e>>>0)?(t=Ha(t))&&("string"==typeof n||null!=n&&!Oa(n))&&!(n=Rr(n))&&je(t)?qr(Me(t),0,e):t.split(n,e):[]},pi.spread=function(t,n){if("function"!=typeof t)throw new on(u);return n=null==n?0:Xe(Na(n),0),Er(function(e){var i=e[n],r=qr(e,0,n);return i&&ne(r,i),Xn(t,this,r)})},pi.tail=function(t){var n=null==t?0:t.length;return n?kr(t,1,n):[]},pi.take=function(t,n,e){return t&&t.length?kr(t,0,(n=e||n===o?1:Na(n))<0?0:n):[]},pi.takeRight=function(t,n,e){var i=null==t?0:t.length;return i?kr(t,(n=i-(n=e||n===o?1:Na(n)))<0?0:n,i):[]},pi.takeRightWhile=function(t,n){return t&&t.length?Nr(t,Ro(n,3),!1,!0):[]},pi.takeWhile=function(t,n){return t&&t.length?Nr(t,Ro(n,3)):[]},pi.tap=function(t,n){return n(t),t},pi.throttle=function(t,n,e){var i=!0,r=!0;if("function"!=typeof t)throw new on(u);return wa(e)&&(i="leading"in e?!!e.leading:i,r="trailing"in e?!!e.trailing:r),ra(t,n,{leading:i,maxWait:n,trailing:r})},pi.thru=Gs,pi.toArray=Ba,pi.toPairs=hu,pi.toPairsIn=fu,pi.toPath=function(t){return ma(t)?te(t,cs):La(t)?[t]:io(ls(Ha(t)))},pi.toPlainObject=Ya,pi.transform=function(t,n,e){var i=ma(t),r=i||Pa(t)||Fa(t);if(n=Ro(n,4),null==e){var o=t&&t.constructor;e=r?i?new o:[]:wa(t)&&Ea(o)?gi(On(t)):{}}return(r?$n:$i)(t,function(t,i,r){return n(e,t,i,r)}),e},pi.unary=function(t){return ta(t,1)},pi.union=Ds,pi.unionBy=Is,pi.unionWith=As,pi.uniq=function(t){return t&&t.length?Ur(t):[]},pi.uniqBy=function(t,n){return t&&t.length?Ur(t,Ro(n,2)):[]},pi.uniqWith=function(t,n){return n="function"==typeof n?n:o,t&&t.length?Ur(t,o,n):[]},pi.unset=function(t,n){return null==t||Br(t,n)},pi.unzip=ks,pi.unzipWith=Os,pi.update=function(t,n,e){return null==t?t:Gr(t,n,Xr(e))},pi.updateWith=function(t,n,e,i){return i="function"==typeof i?i:o,null==t?t:Gr(t,n,Xr(e),i)},pi.values=du,pi.valuesIn=function(t){return null==t?[]:ye(t,ou(t))},pi.without=Ms,pi.words=Eu,pi.wrap=function(t,n){return ca(Xr(n),t)},pi.xor=Ts,pi.xorBy=Ls,pi.xorWith=Fs,pi.zip=Rs,pi.zipObject=function(t,n){return Yr(t||[],n||[],Ii)},pi.zipObjectDeep=function(t,n){return Yr(t||[],n||[],wr)},pi.zipWith=Us,pi.entries=hu,pi.entriesIn=fu,pi.extend=Va,pi.extendWith=$a,Tu(pi,pi),pi.add=Yu,pi.attempt=ju,pi.camelCase=pu,pi.capitalize=gu,pi.ceil=Hu,pi.clamp=function(t,n,e){return e===o&&(e=n,n=o),e!==o&&(e=(e=za(e))==e?e:0),n!==o&&(n=(n=za(n))==n?n:0),Li(za(t),n,e)},pi.clone=function(t){return Fi(t,p)},pi.cloneDeep=function(t){return Fi(t,f|p)},pi.cloneDeepWith=function(t,n){return Fi(t,f|p,n="function"==typeof n?n:o)},pi.cloneWith=function(t,n){return Fi(t,p,n="function"==typeof n?n:o)},pi.conformsTo=function(t,n){return null==n||Ri(t,n,ru(n))},pi.deburr=vu,pi.defaultTo=function(t,n){return null==t||t!=t?n:t},pi.divide=Xu,pi.endsWith=function(t,n,e){t=Ha(t),n=Rr(n);var i=t.length,r=e=e===o?i:Li(Na(e),0,i);return(e-=n.length)>=0&&t.slice(e,r)==n},pi.eq=da,pi.escape=function(t){return(t=Ha(t))&&jt.test(t)?t.replace(Ct,Ce):t},pi.escapeRegExp=function(t){return(t=Ha(t))&&Mt.test(t)?t.replace(Ot,"\\$&"):t},pi.every=function(t,n,e){var i=ma(t)?Kn:Wi;return e&&$o(t,n,e)&&(n=o),i(t,Ro(n,3))},pi.find=zs,pi.findIndex=vs,pi.findKey=function(t,n){return se(t,Ro(n,3),$i)},pi.findLast=Ys,pi.findLastIndex=ms,pi.findLastKey=function(t,n){return se(t,Ro(n,3),qi)},pi.floor=Vu,pi.forEach=Hs,pi.forEachRight=Xs,pi.forIn=function(t,n){return null==t?t:Xi(t,Ro(n,3),ou)},pi.forInRight=function(t,n){return null==t?t:Vi(t,Ro(n,3),ou)},pi.forOwn=function(t,n){return t&&$i(t,Ro(n,3))},pi.forOwnRight=function(t,n){return t&&qi(t,Ro(n,3))},pi.get=Qa,pi.gt=pa,pi.gte=ga,pi.has=function(t,n){return null!=t&&Yo(t,n,nr)},pi.hasIn=tu,pi.head=bs,pi.identity=Au,pi.includes=function(t,n,e,i){t=ba(t)?t:du(t),e=e&&!i?Na(e):0;var r=t.length;return e<0&&(e=Xe(r+e,0)),Ta(t)?e<=r&&t.indexOf(n,e)>-1:!!r&&ue(t,n,e)>-1},pi.indexOf=function(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=null==e?0:Na(e);return r<0&&(r=Xe(i+r,0)),ue(t,n,r)},pi.inRange=function(t,n,e){return n=Ga(n),e===o?(e=n,n=0):e=Ga(e),function(t,n,e){return t>=Ve(n,e)&&t<Xe(n,e)}(t=za(t),n,e)},pi.invoke=iu,pi.isArguments=va,pi.isArray=ma,pi.isArrayBuffer=ya,pi.isArrayLike=ba,pi.isArrayLikeObject=_a,pi.isBoolean=function(t){return!0===t||!1===t||Da(t)&&Qi(t)==Y},pi.isBuffer=Pa,pi.isDate=xa,pi.isElement=function(t){return Da(t)&&1===t.nodeType&&!ka(t)},pi.isEmpty=function(t){if(null==t)return!0;if(ba(t)&&(ma(t)||"string"==typeof t||"function"==typeof t.splice||Pa(t)||Fa(t)||va(t)))return!t.length;var n=zo(t);if(n==K||n==et)return!t.size;if(Jo(t))return!cr(t).length;for(var e in t)if(hn.call(t,e))return!1;return!0},pi.isEqual=function(t,n){return sr(t,n)},pi.isEqualWith=function(t,n,e){var i=(e="function"==typeof e?e:o)?e(t,n):o;return i===o?sr(t,n,o,e):!!i},pi.isError=Ca,pi.isFinite=function(t){return"number"==typeof t&&ze(t)},pi.isFunction=Ea,pi.isInteger=ja,pi.isLength=Sa,pi.isMap=Ia,pi.isMatch=function(t,n){return t===n||ar(t,n,Bo(n))},pi.isMatchWith=function(t,n,e){return e="function"==typeof e?e:o,ar(t,n,Bo(n),e)},pi.isNaN=function(t){return Aa(t)&&t!=+t},pi.isNative=function(t){if(Zo(t))throw new Jt(a);return ur(t)},pi.isNil=function(t){return null==t},pi.isNull=function(t){return null===t},pi.isNumber=Aa,pi.isObject=wa,pi.isObjectLike=Da,pi.isPlainObject=ka,pi.isRegExp=Oa,pi.isSafeInteger=function(t){return ja(t)&&t>=-T&&t<=T},pi.isSet=Ma,pi.isString=Ta,pi.isSymbol=La,pi.isTypedArray=Fa,pi.isUndefined=function(t){return t===o},pi.isWeakMap=function(t){return Da(t)&&zo(t)==st},pi.isWeakSet=function(t){return Da(t)&&Qi(t)==at},pi.join=function(t,n){return null==t?"":Ye.call(t,n)},pi.kebabCase=mu,pi.last=Cs,pi.lastIndexOf=function(t,n,e){var i=null==t?0:t.length;if(!i)return-1;var r=i;return e!==o&&(r=(r=Na(e))<0?Xe(i+r,0):Ve(r,i-1)),n==n?function(t,n,e){for(var i=e+1;i--;)if(t[i]===n)return i;return i}(t,n,r):ae(t,ce,r,!0)},pi.lowerCase=yu,pi.lowerFirst=bu,pi.lt=Ra,pi.lte=Ua,pi.max=function(t){return t&&t.length?zi(t,Au,tr):o},pi.maxBy=function(t,n){return t&&t.length?zi(t,Ro(n,2),tr):o},pi.mean=function(t){return he(t,Au)},pi.meanBy=function(t,n){return he(t,Ro(n,2))},pi.min=function(t){return t&&t.length?zi(t,Au,fr):o},pi.minBy=function(t,n){return t&&t.length?zi(t,Ro(n,2),fr):o},pi.stubArray=Wu,pi.stubFalse=zu,pi.stubObject=function(){return{}},pi.stubString=function(){return""},pi.stubTrue=function(){return!0},pi.multiply=qu,pi.nth=function(t,n){return t&&t.length?mr(t,Na(n)):o},pi.noConflict=function(){return Tn._===this&&(Tn._=vn),this},pi.noop=Lu,pi.now=Qs,pi.pad=function(t,n,e){t=Ha(t);var i=(n=Na(n))?Oe(t):0;if(!n||i>=n)return t;var r=(n-i)/2;return bo(Ge(r),e)+t+bo(Be(r),e)},pi.padEnd=function(t,n,e){t=Ha(t);var i=(n=Na(n))?Oe(t):0;return n&&i<n?t+bo(n-i,e):t},pi.padStart=function(t,n,e){t=Ha(t);var i=(n=Na(n))?Oe(t):0;return n&&i<n?bo(n-i,e)+t:t},pi.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),qe(Ha(t).replace(Lt,""),n||0)},pi.random=function(t,n,e){if(e&&"boolean"!=typeof e&&$o(t,n,e)&&(n=e=o),e===o&&("boolean"==typeof n?(e=n,n=o):"boolean"==typeof t&&(e=t,t=o)),t===o&&n===o?(t=0,n=1):(t=Ga(t),n===o?(n=t,t=0):n=Ga(n)),t>n){var i=t;t=n,n=i}if(e||t%1||n%1){var r=Ke();return Ve(t+r*(n-t+An("1e-"+((r+"").length-1))),n)}return xr(t,n)},pi.reduce=function(t,n,e){var i=ma(t)?ee:pe,r=arguments.length<3;return i(t,Ro(n,4),e,r,Gi)},pi.reduceRight=function(t,n,e){var i=ma(t)?ie:pe,r=arguments.length<3;return i(t,Ro(n,4),e,r,Ni)},pi.repeat=function(t,n,e){return n=(e?$o(t,n,e):n===o)?1:Na(n),Cr(Ha(t),n)},pi.replace=function(){var t=arguments,n=Ha(t[0]);return t.length<3?n:n.replace(t[1],t[2])},pi.result=function(t,n,e){var i=-1,r=(n=Vr(n,t)).length;for(r||(r=1,t=o);++i<r;){var s=null==t?o:t[cs(n[i])];s===o&&(i=r,s=e),t=Ea(s)?s.call(t):s}return t},pi.round=Ku,pi.runInContext=t,pi.sample=function(t){return(ma(t)?ji:jr)(t)},pi.size=function(t){if(null==t)return 0;if(ba(t))return Ta(t)?Oe(t):t.length;var n=zo(t);return n==K||n==et?t.size:cr(t).length},pi.snakeCase=_u,pi.some=function(t,n,e){var i=ma(t)?re:Or;return e&&$o(t,n,e)&&(n=o),i(t,Ro(n,3))},pi.sortedIndex=function(t,n){return Mr(t,n)},pi.sortedIndexBy=function(t,n,e){return Tr(t,n,Ro(e,2))},pi.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var i=Mr(t,n);if(i<e&&da(t[i],n))return i}return-1},pi.sortedLastIndex=function(t,n){return Mr(t,n,!0)},pi.sortedLastIndexBy=function(t,n,e){return Tr(t,n,Ro(e,2),!0)},pi.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var e=Mr(t,n,!0)-1;if(da(t[e],n))return e}return-1},pi.startCase=Pu,pi.startsWith=function(t,n,e){return t=Ha(t),e=null==e?0:Li(Na(e),0,t.length),n=Rr(n),t.slice(e,e+n.length)==n},pi.subtract=Zu,pi.sum=function(t){return t&&t.length?ge(t,Au):0},pi.sumBy=function(t,n){return t&&t.length?ge(t,Ro(n,2)):0},pi.template=function(t,n,e){var i=pi.templateSettings;e&&$o(t,n,e)&&(n=o),t=Ha(t),n=$a({},n,i,wo);var r,s,a=$a({},n.imports,i.imports,wo),u=ru(a),l=ye(a,u),c=0,h=n.interpolate||Kt,f="__p += '",d=en((n.escape||Kt).source+"|"+h.source+"|"+(h===Dt?Wt:Kt).source+"|"+(n.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Sn+"]")+"\n";t.replace(d,function(n,e,i,o,a,u){return i||(i=o),f+=t.slice(c,u).replace(Zt,Ee),e&&(r=!0,f+="' +\n__e("+e+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+n.length,n}),f+="';\n";var g=n.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(bt,""):f).replace(_t,"$1").replace(Pt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=ju(function(){return Qt(u,p+"return "+f).apply(o,l)});if(v.source=f,Ca(v))throw v;return v},pi.times=function(t,n){if((t=Na(t))<1||t>T)return[];var e=R,i=Ve(t,R);n=Ro(n),t-=R;for(var r=ve(i,n);++e<t;)n(e);return r},pi.toFinite=Ga,pi.toInteger=Na,pi.toLength=Wa,pi.toLower=function(t){return Ha(t).toLowerCase()},pi.toNumber=za,pi.toSafeInteger=function(t){return t?Li(Na(t),-T,T):0===t?t:0},pi.toString=Ha,pi.toUpper=function(t){return Ha(t).toUpperCase()},pi.trim=function(t,n,e){if((t=Ha(t))&&(e||n===o))return t.replace(Tt,"");if(!t||!(n=Rr(n)))return t;var i=Me(t),r=Me(n);return qr(i,_e(i,r),Pe(i,r)+1).join("")},pi.trimEnd=function(t,n,e){if((t=Ha(t))&&(e||n===o))return t.replace(Ft,"");if(!t||!(n=Rr(n)))return t;var i=Me(t);return qr(i,0,Pe(i,Me(n))+1).join("")},pi.trimStart=function(t,n,e){if((t=Ha(t))&&(e||n===o))return t.replace(Lt,"");if(!t||!(n=Rr(n)))return t;var i=Me(t);return qr(i,_e(i,Me(n))).join("")},pi.truncate=function(t,n){var e=w,i=D;if(wa(n)){var r="separator"in n?n.separator:r;e="length"in n?Na(n.length):e,i="omission"in n?Rr(n.omission):i}var s=(t=Ha(t)).length;if(je(t)){var a=Me(t);s=a.length}if(e>=s)return t;var u=e-Oe(i);if(u<1)return i;var l=a?qr(a,0,u).join(""):t.slice(0,u);if(r===o)return l+i;if(a&&(u+=l.length-u),Oa(r)){if(t.slice(u).search(r)){var c,h=l;for(r.global||(r=en(r.source,Ha(zt.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(Rr(r),u)!=u){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},pi.unescape=function(t){return(t=Ha(t))&&Et.test(t)?t.replace(xt,Te):t},pi.uniqueId=function(t){var n=++fn;return Ha(t)+n},pi.upperCase=xu,pi.upperFirst=Cu,pi.each=Hs,pi.eachRight=Xs,pi.first=bs,Tu(pi,($u={},$i(pi,function(t,n){hn.call(pi.prototype,n)||($u[n]=t)}),$u),{chain:!1}),pi.VERSION="4.17.10",$n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pi[t].placeholder=pi}),$n(["drop","take"],function(t,n){yi.prototype[t]=function(e){e=e===o?1:Xe(Na(e),0);var i=this.__filtered__&&!n?new yi(this):this.clone();return i.__filtered__?i.__takeCount__=Ve(e,i.__takeCount__):i.__views__.push({size:Ve(e,R),type:t+(i.__dir__<0?"Right":"")}),i},yi.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),$n(["filter","map","takeWhile"],function(t,n){var e=n+1,i=e==k||3==e;yi.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Ro(t,3),type:e}),n.__filtered__=n.__filtered__||i,n}}),$n(["head","last"],function(t,n){var e="take"+(n?"Right":"");yi.prototype[t]=function(){return this[e](1).value()[0]}}),$n(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");yi.prototype[t]=function(){return this.__filtered__?new yi(this):this[e](1)}}),yi.prototype.compact=function(){return this.filter(Au)},yi.prototype.find=function(t){return this.filter(t).head()},yi.prototype.findLast=function(t){return this.reverse().find(t)},yi.prototype.invokeMap=Er(function(t,n){return"function"==typeof t?new yi(this):this.map(function(e){return rr(e,t,n)})}),yi.prototype.reject=function(t){return this.filter(ua(Ro(t)))},yi.prototype.slice=function(t,n){t=Na(t);var e=this;return e.__filtered__&&(t>0||n<0)?new yi(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==o&&(e=(n=Na(n))<0?e.dropRight(-n):e.take(n-t)),e)},yi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yi.prototype.toArray=function(){return this.take(R)},$i(yi.prototype,function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),r=pi[i?"take"+("last"==n?"Right":""):n],s=i||/^find/.test(n);r&&(pi.prototype[n]=function(){var n=this.__wrapped__,a=i?[1]:arguments,u=n instanceof yi,l=a[0],c=u||ma(n),h=function(t){var n=r.apply(pi,ne([t],a));return i&&f?n[0]:n};c&&e&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,g=u&&!d;if(!s&&c){n=g?n:new yi(this);var v=t.apply(n,a);return v.__actions__.push({func:Gs,args:[h],thisArg:o}),new mi(v,f)}return p&&g?t.apply(this,a):(v=this.thru(h),p?i?v.value()[0]:v.value():v)})}),$n(["pop","push","shift","sort","splice","unshift"],function(t){var n=sn[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);pi.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return n.apply(ma(r)?r:[],t)}return this[e](function(e){return n.apply(ma(e)?e:[],t)})}}),$i(yi.prototype,function(t,n){var e=pi[n];if(e){var i=e.name+"";(oi[i]||(oi[i]=[])).push({name:n,func:e})}}),oi[go(o,y).name]=[{name:"wrapper",func:o}],yi.prototype.clone=function(){var t=new yi(this.__wrapped__);return t.__actions__=io(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=io(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=io(this.__views__),t},yi.prototype.reverse=function(){if(this.__filtered__){var t=new yi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yi.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=ma(t),i=n<0,r=e?t.length:0,o=function(t,n,e){for(var i=-1,r=e.length;++i<r;){var o=e[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":n-=s;break;case"take":n=Ve(n,t+s);break;case"takeRight":t=Xe(t,n-s)}}return{start:t,end:n}}(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=Ve(u,this.__takeCount__);if(!e||!i&&r==u&&d==u)return Wr(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[l+=n];++g<h;){var m=c[g],y=m.iteratee,b=m.type,_=y(v);if(b==O)v=_;else if(!_){if(b==k)continue t;break t}}p[f++]=v}return p},pi.prototype.at=Ns,pi.prototype.chain=function(){return Bs(this)},pi.prototype.commit=function(){return new mi(this.value(),this.__chain__)},pi.prototype.next=function(){this.__values__===o&&(this.__values__=Ba(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},pi.prototype.plant=function(t){for(var n,e=this;e instanceof vi;){var i=fs(e);i.__index__=0,i.__values__=o,n?r.__wrapped__=i:n=i;var r=i;e=e.__wrapped__}return r.__wrapped__=t,n},pi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yi){var n=t;return this.__actions__.length&&(n=new yi(this)),(n=n.reverse()).__actions__.push({func:Gs,args:[ws],thisArg:o}),new mi(n,this.__chain__)}return this.thru(ws)},pi.prototype.toJSON=pi.prototype.valueOf=pi.prototype.value=function(){return Wr(this.__wrapped__,this.__actions__)},pi.prototype.first=pi.prototype.head,Bn&&(pi.prototype[Bn]=function(){return this}),pi}();Tn._=Le,(r=function(){return Le}.call(n,e,n,i))===o||(i.exports=r)}).call(this)}).call(n,e("DuR2"),e("3IRH")(t))},VaYH:function(t,n){},fiCe:function(t,n){},iMhn:function(t,n){},kssE:function(t,n){},lTme:function(t,n){},lbsG:function(t,n){},tXWT:function(t,n){}});