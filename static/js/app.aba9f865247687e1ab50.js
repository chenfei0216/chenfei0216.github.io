webpackJsonp([6],{"+BGC":function(e,t){},"+BTi":function(e,t){},"4Itt":function(e,t){},"7xIN":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i=(n("+BTi"),n("tvR6"),n("7xIN"),n("h5AK"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var s=n("VU/8")({name:"App"},i,!1,function(e){n("ae/S")},"data-v-40c293e7",null).exports,c=n("NYxO"),o={sidemenu:function(e){return e.main.sidemenu},pageperm:function(e){return e.pageperm.routers},tags:function(e){return e.main.tags}},r=n("/ocq"),u=n("Dd8w"),l=n.n(u),d={name:"SideMenuItem",props:{item:{type:Object,required:!0}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.children?n("el-submenu",{attrs:{index:e.item.name}},[n("template",{slot:"title"},[n("i",{class:e.item.meta.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.meta.title))])]),e._v(" "),e._l(e.item.children,function(e){return n("side-menu-item",{key:e.name,attrs:{item:e}})})],2):n("router-link",{attrs:{to:e.item.path}},[n("el-menu-item",{attrs:{index:e.item.name}},[n("i",{class:e.item.meta.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.meta.title))])])],1)},staticRenderFns:[]};var g={name:"SideMenu",components:{SideMenuItem:n("VU/8")(d,m,!1,function(e){n("+BGC")},"data-v-d4183220",null).exports},data:function(){return{}},computed:l()({},Object(c.b)(["sidemenu","pageperm"]),{isCollapse:function(){return this.sidemenu.collapse},acitveKey:function(){return this.$route.name}})},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"side-menu",attrs:{collapse:e.isCollapse,"default-active":e.acitveKey}},e._l(e.pageperm,function(t){return t.hidden?e._e():n("side-menu-item",{key:t.name,attrs:{item:t}})}))},staticRenderFns:[]};var f=n("VU/8")(g,h,!1,function(e){n("4Itt")},"data-v-bd0e5390",null).exports,p={name:"AppHeader",methods:{toggleSideMenu:function(){this.$store.dispatch("toggleSideMenu")}},computed:l()({},Object(c.b)(["sidemenu"]),{isCollapse:function(){return this.sidemenu.collapse}})},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-header"},[n("button",{staticClass:"el-button is-plain",class:e.isCollapse?"active":"",on:{click:function(t){e.toggleSideMenu()}}},[n("i",{staticClass:"fc-icon-menu"})])])},staticRenderFns:[]};var P=n("VU/8")(p,v,!1,function(e){n("T3hO")},"data-v-35125aa0",null).exports,_=n("DAYN"),E={name:"TagMain",components:{draggable:n.n(_).a},data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},computed:l()({},Object(c.b)(["tags"]),{cachedPages:function(){return this.tags.cachedPages},key:function(){return this.$route.fullPath}}),mounted:function(){this.addPage()},watch:{$route:function(){this.addPage()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},methods:{isActive:function(e){return e.path===this.$route.path},addPage:function(){var e=this.$route,t=e.name,n=e.path,a=e.meta;console.log(a),!1!==a.keepAlive&&"main"!==t&&0!==n.indexOf("/redirect")?this.$store.dispatch("addPage",this.$route):this.$store.dispatch("addVisitedPage",this.$route)},openMenu:function(e,t){var n=t.target.getBoundingClientRect(),a=this.$el.offsetWidth-n.width,i=t.clientX+15;this.left=i>a?a:i,this.top=t.clientY,this.visible=!0,this.selectedTag=e},refreshSelectedTag:function(e){var t=this;this.$store.dispatch("delCachedPage",e).then(function(){var n=e.fullPath;t.$nextTick(function(){t.$router.replace({path:"/redirect"+n})})}),this.closeMenu()},closeSelectedTag:function(e){var t=this;this.$store.dispatch("delPage",e).then(function(n){var a=n.visitedPages;if(t.isActive(e)){var i=a.slice(-1)[0];i?t.$router.push(i):t.$router.push("/")}}),this.closeMenu()},closeOthersTags:function(e){var t=this;this.$store.dispatch("delOtherPage",e).then(function(){t.$router.push(t.selectedTag)}),this.closeMenu()},closeAllTags:function(){var e=this;this.$store.dispatch("delAllPage").then(function(){e.$router.push("/")}),this.closeMenu()},closeMenu:function(){this.visible=!1}}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag-main"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[n("li",{on:{click:function(t){t.stopPropagation(),e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),e._v(" "),n("li",{on:{click:function(t){t.stopPropagation(),e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),e._v(" "),n("li",{on:{click:function(t){t.stopPropagation(),e.closeOthersTags(e.selectedTag)}}},[e._v("关闭其他")]),e._v(" "),n("li",{on:{click:function(t){t.stopPropagation(),e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])]),e._v(" "),0!=e.tags.visitedPages.length?n("div",{staticClass:"tags"},[n("div",{staticClass:"tags-view-wrapper"},e._l(e.tags.visitedPages,function(t){return n("router-link",{key:t.name,ref:"tag",refInFor:!0,staticClass:"tag-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"div"},nativeOn:{contextmenu:function(n){n.preventDefault(),e.openMenu(t,n)}}},[e._v("\n        "+e._s(t.meta.title)+"\n        "),n("span",{staticClass:"el-icon-close",on:{click:function(n){n.stopPropagation(),e.closeSelectedTag(t)}}})])}))]):e._e(),e._v(" "),n("div",{staticClass:"main-container"},[n("transition",{attrs:{name:"el-fade-in-linear"}},[n("keep-alive",{attrs:{include:e.cachedPages}},[n("router-view",{key:e.key})],1)],1)],1)])},staticRenderFns:[]};var C={name:"Main",components:{SideMenu:f,AppHeader:P,TagMain:n("VU/8")(E,A,!1,function(e){n("rBOp")},"data-v-e6923e36",null).exports},data:function(){return{}},computed:{}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{attrs:{id:"main"}},[t("el-aside",{staticClass:"aside"},[t("side-menu")],1),this._v(" "),t("el-main",[t("app-header"),this._v(" "),t("tag-main")],1)],1)},staticRenderFns:[]};var T=n("VU/8")(C,D,!1,function(e){n("R/BN")},"data-v-04257ee8",null).exports;a.default.use(r.a);var b=[{path:"/redirect",component:T,hidden:!0,children:[{path:"/redirect/:path*",component:function(){return n.e(4).then(n.bind(null,"1uaa"))}}]},{path:"/",name:"main",meta:{title:"主页",icon:"fc-icon-home"},component:T},{path:"/login",name:"login",meta:{title:"登陆",icon:"fc-icon-user"},component:function(){return n.e(3).then(n.bind(null,"jT7l"))}},{path:"/",name:"flow",meta:{title:"流程管理",icon:"fc-icon-deploymentunit"},component:T,children:[{path:"flowDesign",name:"flowDesign",meta:{title:"流程设计",icon:"fc-icon-gateway"},component:function(){return n.e(2).then(n.bind(null,"K9tY"))}},{path:"DForm",name:"DForm",meta:{title:"普通表单",icon:"fc-icon-table"},component:function(){return n.e(1).then(n.bind(null,"KwFB"))}},{path:"RForm",name:"RForm",meta:{title:"富文本表单",icon:"fc-icon-file-text",keepAlive:!1},component:function(){return n.e(0).then(n.bind(null,"T0Rb"))}}]}],O=new r.a({routes:b}),$={state:{routers:b}},w=n("Gu7T"),I=n.n(w),S=n("//Fk"),k=n.n(S),x=n("woOf"),M=n.n(x),G={state:{tags:{visitedPages:[],cachedPages:[]},sidemenu:{collapse:!1}},mutations:{ADD_VISITED_PAGE:function(e,t){e.tags.visitedPages.some(function(e){return e.name===t.name})||e.tags.visitedPages.push(M()({},t,{name:t.name||"no-name"}))},ADD_CACHED_PAGE:function(e,t){e.tags.cachedPages.includes(t.name)||t.meta.noCache||e.tags.cachedPages.push(t.name)},DEL_VISITED_PAGE:function(e,t){var n=e.tags.visitedPages.findIndex(function(e){return e.name===t.name});e.tags.visitedPages.splice(n,1)},DEL_CACHED_PAGE:function(e,t){var n=e.tags.cachedPages.indexOf(t.name);-1!==n&&e.tags.cachedPages.splice(n,1)},DEL_OTHER_VISITED_PAGE:function(e,t){var n=e.tags.visitedPages.findIndex(function(e){return e.name===t.name});e.tags.visitedPages=e.tags.visitedPages.slice(n,n+1)},DEL_OTHER_CACHED_PAGE:function(e,t){var n=e.tags.cachedPages.indexOf(t.name);-1!==n&&(e.tags.cachedPages=e.tags.cachedPages.slice(n,n+1))},TOGGLE_SIDEMENU:function(e){e.sidemenu.collapse=!e.sidemenu.collapse},DEL_ALL_CACHED_PAGE:function(e){e.tags.visitedPages=[],e.tags.cachedPages=[]}},actions:{addPage:function(e,t){var n=e.dispatch;n("addVisitedPage",t),n("addCachedPage",t)},addVisitedPage:function(e,t){(0,e.commit)("ADD_VISITED_PAGE",t)},addCachedPage:function(e,t){(0,e.commit)("ADD_CACHED_PAGE",t)},delPage:function(e,t){var n=e.dispatch,a=e.state;return new k.a(function(e){n("delVisitedPage",t),n("delCachedPage",t),e({visitedPages:[].concat(I()(a.tags.visitedPages)),cachedPages:[].concat(I()(a.tags.cachedPages))})})},delVisitedPage:function(e,t){(0,e.commit)("DEL_VISITED_PAGE",t)},delCachedPage:function(e,t){(0,e.commit)("DEL_CACHED_PAGE",t)},delOtherPage:function(e,t){var n=e.dispatch,a=e.state;return new k.a(function(e){n("delOtherVisitedPage",t),n("delOtherCachedPage",t),e({visitedPages:[].concat(I()(a.tags.visitedPages)),cachedPages:[].concat(I()(a.tags.cachedPages))})})},delOtherVisitedPage:function(e,t){(0,e.commit)("DEL_OTHER_VISITED_PAGE",t)},delOtherCachedPage:function(e,t){(0,e.commit)("DEL_OTHER_CACHED_PAGE",t)},delAllPage:function(e){var t=e.commit,n=e.state;return new k.a(function(e){t("DEL_ALL_CACHED_PAGE"),e({visitedPages:[].concat(I()(n.tags.visitedPages)),cachedPages:[].concat(I()(n.tags.cachedPages))})})},toggleSideMenu:function(e){(0,e.commit)("TOGGLE_SIDEMENU")}}},L={state:{token:null,userInfo:null},mutations:{},actions:{dologin:function(e,t){e.commit}}};a.default.use(c.a);var V=new c.a.Store({modules:{pageperm:$,main:G,login:L},getters:o}),R=n("zL8q"),y=n.n(R),H=n("Zcwg"),F=n.n(H);a.default.use(y.a),a.default.component(F.a.name,F.a),a.default.config.productionTip=!1,new a.default({el:"#app",store:V,router:O,components:{App:s},template:"<App/>"})},"R/BN":function(e,t){},T3hO:function(e,t){},"ae/S":function(e,t){},h5AK:function(e,t){},rBOp:function(e,t){},tvR6:function(e,t){}},["NHnr"]);